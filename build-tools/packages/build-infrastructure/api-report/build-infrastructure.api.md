## API Report File for "@fluid-tools/build-infrastructure"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { Opaque } from 'type-fest';
import type { PackageJson as PackageJson_2 } from 'type-fest';
import type { SetRequired } from 'type-fest';
import { SimpleGit } from 'simple-git';

// @public (undocumented)
export type AdditionalPackageProps = Record<string, string> | undefined;

// @public (undocumented)
export function createPackageManager(name: PackageManagerName): IPackageManager;

// @public
export type FluidPackageJsonFields = {
    pnpm?: {
        overrides?: Record<string, string>;
    };
};

// @public
export const FLUIDREPO_CONFIG_VERSION = 1;

// @public @deprecated
export interface IFluidBuildDir {
    directory: string;
}

// @public @deprecated (undocumented)
export type IFluidBuildDirEntry = string | IFluidBuildDir | (string | IFluidBuildDir)[];

// @public @deprecated (undocumented)
export interface IFluidBuildDirs {
    // (undocumented)
    [name: string]: IFluidBuildDirEntry;
}

// @public
export interface IFluidRepo extends Reloadable {
    getGitRepository(): Promise<Readonly<SimpleGit>>;
    getPackageReleaseGroup(pkg: Readonly<IPackage>): Readonly<IReleaseGroup>;
    getPackageWorkspace(pkg: Readonly<IPackage>): Readonly<IWorkspace>;
    packages: Map<PackageName, IPackage>;
    relativeToRepo(p: string): string;
    releaseGroups: Map<ReleaseGroupName, IReleaseGroup>;
    root: string;
    upstreamRemotePartialUrl?: string;
    workspaces: Map<WorkspaceName, IWorkspace>;
}

// @public
export interface IFluidRepoLayout {
    repoLayout?: {
        workspaces: {
            [name: string]: WorkspaceDefinition;
        };
    };
    // @deprecated
    repoPackages?: IFluidBuildDirs;
    version: typeof FLUIDREPO_CONFIG_VERSION;
}

// @public
export interface Installable {
    checkInstall(): Promise<boolean>;
    install(updateLockfile: boolean): Promise<boolean>;
}

// @public
export interface IPackage<J extends PackageJson = PackageJson> extends Pick<Installable, "checkInstall">, Reloadable {
    combinedDependencies: Generator<PackageDependency, void>;
    readonly directory: string;
    getScript(name: string): string | undefined;
    isReleaseGroupRoot: boolean;
    readonly isWorkspaceRoot: boolean;
    readonly name: PackageName;
    readonly nameColored: string;
    packageJson: J;
    readonly packageJsonFilePath: string;
    readonly packageManager: IPackageManager;
    readonly private: boolean;
    releaseGroup: ReleaseGroupName;
    savePackageJson(): Promise<void>;
    // (undocumented)
    toString(): string;
    readonly version: string;
}

// @public
export interface IPackageManager {
    // (undocumented)
    installCommand(updateLockfile: boolean): string;
    // (undocumented)
    readonly name: PackageManagerName;
}

// @public
export interface IReleaseGroup extends Reloadable {
    readonly adoPipelineUrl?: string;
    readonly name: ReleaseGroupName;
    readonly packages: IPackage[];
    readonly rootPackage?: IPackage;
    // (undocumented)
    toString(): string;
    readonly version: string;
    readonly workspace: IWorkspace;
}

// @public
export function isIPackage(pkg: any): pkg is IPackage;

// @public
export function isIReleaseGroup(toCheck: Exclude<any, string | number | ReleaseGroupName | PackageName>): toCheck is IReleaseGroup;

// @public
export interface IWorkspace extends Installable, Reloadable {
    directory: string;
    name: WorkspaceName;
    packages: IPackage[];
    releaseGroups: Map<ReleaseGroupName, IReleaseGroup>;
    rootPackage: IPackage;
    // (undocumented)
    toString(): string;
}

// @public
export function loadFluidRepo(searchPath: string, upstreamRemotePartialUrl?: string): IFluidRepo;

// @public (undocumented)
export class NotInGitRepository extends Error {
    constructor(path: string);
    // (undocumented)
    readonly path: string;
}

// @public (undocumented)
export abstract class PackageBase<TAddProps extends AdditionalPackageProps = undefined, J extends PackageJson = PackageJson> implements IPackage {
    constructor(packageJsonFilePath: string, packageManager: IPackageManager, isWorkspaceRoot: boolean, releaseGroup: ReleaseGroupName, isReleaseGroupRoot: boolean, additionalProperties?: TAddProps);
    // (undocumented)
    checkInstall(print?: boolean): Promise<boolean>;
    // (undocumented)
    get combinedDependencies(): Generator<PackageDependency, void>;
    // (undocumented)
    get directory(): string;
    // (undocumented)
    getScript(name: string): string | undefined;
    // (undocumented)
    isReleaseGroupRoot: boolean;
    // (undocumented)
    readonly isWorkspaceRoot: boolean;
    get name(): PackageName;
    get nameColored(): string;
    // (undocumented)
    get packageJson(): J;
    // (undocumented)
    readonly packageJsonFilePath: string;
    // (undocumented)
    readonly packageManager: IPackageManager;
    // (undocumented)
    get private(): boolean;
    // (undocumented)
    readonly releaseGroup: ReleaseGroupName;
    // (undocumented)
    reload(): void;
    // (undocumented)
    savePackageJson(): Promise<void>;
    // (undocumented)
    toString(): string;
    // (undocumented)
    get version(): string;
}

// @public
export interface PackageDependency {
    // (undocumented)
    depClass: "prod" | "dev" | "peer";
    // (undocumented)
    name: PackageName;
    // (undocumented)
    version: string;
}

// @public (undocumented)
export type PackageJson = SetRequired<PackageJson_2 & FluidPackageJsonFields, "name" | "scripts" | "version">;

// @public
export type PackageManagerName = "npm" | "pnpm" | "yarn";

// @public
export type PackageName = Opaque<string, "PackageName">;

// @public (undocumented)
export interface ReleaseGroupDefinition {
    adoPipelineUrl?: string;
    exclude?: string[];
    include: string[];
    rootPackageName?: string;
}

// @public
export type ReleaseGroupName = Opaque<string, IReleaseGroup>;

// @public
export interface Reloadable {
    // (undocumented)
    reload(): void;
}

// @public (undocumented)
export interface WorkspaceDefinition {
    // (undocumented)
    directory: string;
    // (undocumented)
    releaseGroups: {
        [name: string]: ReleaseGroupDefinition;
    };
}

// @public
export type WorkspaceName = Opaque<string, "WorkspaceName">;

// (No @packageDocumentation comment for this package)

```
