# This Yaml Document has been converted by ESAI Yaml Pipeline Conversion Tool.
# Please make sure to check all the converted content, it is your team's responsibility to make sure that the pipeline is still valid and functions as expected.
parameters:
- name: version
  type: string
  default: '18.17.1'
steps:
- task: Bash@3
  displayName: Set node version
  inputs:
    targetType: 'inline'
    workingDirectory: $(Build.SourcesDirectory)
    script: |
      # Output installed node versions
      n ls
      # Use the specified node version
      sudo n ${{ parameters.version }}
      # Output the node version
      version=$(node --version)
      if [ $version != v${{ parameters.version }} ];
      then
        echo "Could not configure the required node version ${configuredVersion}";
        exit 1;
      else
        echo "Using node ${version}"
      fi