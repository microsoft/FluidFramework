{"version":3,"file":"summarizableObjectFactory.js","sourceRoot":"","sources":["../src/summarizableObjectFactory.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAWH,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;AAG1D;;;GAGG;AACH,MAAM,OAAO,yBAAyB;IAelC;;OAEG;IACH,IAAW,IAAI;QACX,OAAO,yBAAyB,CAAC,IAAI,CAAC;IAC1C,CAAC;IAED;;OAEG;IACH,IAAW,UAAU;QACjB,OAAO,yBAAyB,CAAC,UAAU,CAAC;IAChD,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,IAAI,CACb,OAA0B,EAC1B,EAAU,EACV,QAA+B,EAC/B,QAAgB,EAChB,UAA8B;QAE9B,MAAM,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,EAAE,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;QAC3E,MAAM,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAElD,OAAO,kBAAkB,CAAC;IAC9B,CAAC;IAED;;OAEG;IACI,MAAM,CAAC,OAA0B,EAAE,EAAU;QAChD,MAAM,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,EAAE,EAAE,OAAO,EAAE,yBAAyB,CAAC,UAAU,CAAC,CAAC;QACrG,kBAAkB,CAAC,eAAe,EAAE,CAAC;QAErC,OAAO,kBAAkB,CAAC;IAC9B,CAAC;;AApDD;;GAEG;AACoB,8BAAI,GAAG,uDAAuD,CAAC;AAEtF;;GAEG;AACoB,oCAAU,GAAuB;IACpD,IAAI,EAAE,yBAAyB,CAAC,IAAI;IACpC,qBAAqB,EAAE,KAAK;IAC5B,cAAc,EAAE,UAAU;CAC7B,CAAC","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport {\n    IChannelAttributes,\n    IComponentRuntime,\n    ISharedObjectServices,\n} from \"@microsoft/fluid-runtime-definitions\";\nimport {\n    ISharedObject,\n    ISharedObjectFactory,\n} from \"@microsoft/fluid-shared-object-base\";\nimport { pkgVersion } from \"./packageVersion\";\nimport { SummarizableObject } from \"./summarizableObject\";\n\n\n/**\n * The factory that defines the summarizable object.\n * @sealed\n */\nexport class SummarizableObjectFactory implements ISharedObjectFactory {\n    /**\n     * {@inheritDoc @microsoft/fluid-shared-object-base#ISharedObjectFactory.\"type\"}\n     */\n    public static readonly Type = \"https://graph.microsoft.com/types/summarizable-object\";\n\n    /**\n     * {@inheritDoc @microsoft/fluid-shared-object-base#ISharedObjectFactory.attributes}\n     */\n    public static readonly Attributes: IChannelAttributes = {\n        type: SummarizableObjectFactory.Type,\n        snapshotFormatVersion: \"0.1\",\n        packageVersion: pkgVersion,\n    };\n\n    /**\n     * {@inheritDoc @microsoft/fluid-shared-object-base#ISharedObjectFactory.\"type\"}\n     */\n    public get type() {\n        return SummarizableObjectFactory.Type;\n    }\n\n    /**\n     * {@inheritDoc @microsoft/fluid-shared-object-base#ISharedObjectFactory.attributes}\n     */\n    public get attributes() {\n        return SummarizableObjectFactory.Attributes;\n    }\n\n    /**\n     * {@inheritDoc @microsoft/fluid-shared-object-base#ISharedObjectFactory.load}\n     */\n    public async load(\n        runtime: IComponentRuntime,\n        id: string,\n        services: ISharedObjectServices,\n        branchId: string,\n        attributes: IChannelAttributes): Promise<ISharedObject> {\n\n        const summarizableObject = new SummarizableObject(id, runtime, attributes);\n        await summarizableObject.load(branchId, services);\n\n        return summarizableObject;\n    }\n\n    /**\n     * {@inheritDoc @microsoft/fluid-shared-object-base#ISharedObjectFactory.create}\n     */\n    public create(runtime: IComponentRuntime, id: string): ISharedObject {\n        const summarizableObject = new SummarizableObject(id, runtime, SummarizableObjectFactory.Attributes);\n        summarizableObject.initializeLocal();\n\n        return summarizableObject;\n    }\n}\n"]}