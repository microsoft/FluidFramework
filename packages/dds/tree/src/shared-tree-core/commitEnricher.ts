/*!
 * Copyright (c) Microsoft Corporation and contributors. All rights reserved.
 * Licensed under the MIT License.
 */

import { GraphCommit } from "../core/index.js";

/**
 * A component that can be used to enrich outbound commits.
 */
export interface ICommitEnricher<TChange> {
	/**
	 * Enriches a commit with adequate refreshers.
	 * Assumes that the commit will be submitted.
	 * @param commit - the commit to enrich.
	 * @param isResubmit - whether the commit is a resubmission of a previously submitted commit.
	 * @returns the enriched commit. Possibly the same as the one passed in.
	 */
	enrichCommit(commit: GraphCommit<TChange>, isResubmit: boolean): GraphCommit<TChange>;

	/**
	 * Must be called after a sequenced commit is applied.
	 * @param isLocal - whether the sequenced commit was generated by the local session.
	 */
	commitSequenced(isLocal: boolean): void;
}
