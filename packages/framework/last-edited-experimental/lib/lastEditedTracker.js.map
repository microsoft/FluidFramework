{"version":3,"file":"lastEditedTracker.js","sourceRoot":"","sources":["../src/lastEditedTracker.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAKH;;;;GAIG;AACH,MAAM,OAAO,iBAAiB;IAG1B;;;OAGG;IACH,YAA6B,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QANlD,yBAAoB,GAAG,oBAAoB,CAAC;IAMU,CAAC;IAExE,IAAW,uBAAuB;QAC9B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;OAEG;IACI,kBAAkB;QACrB,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAmB,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACpF,CAAC;IAED;;OAEG;IACI,qBAAqB,CAAC,eAAiC;QAC1D,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,EAAE,eAAe,CAAC,CAAC;IAC5E,CAAC;CACJ","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { SharedSummaryBlock } from \"@fluidframework/shared-summary-block\";\nimport { IFluidLastEditedTracker, ILastEditDetails } from \"./interfaces\";\n\n/**\n * Tracks the last edit details such as the last edited user details and the last edited timestamp. The last edited\n * details should be updated (via updateLastEditDetails) in response to a remote op since it uses shared summary block\n * as storage.\n */\nexport class LastEditedTracker implements IFluidLastEditedTracker {\n    private readonly lastEditedDetailsKey = \"lastEditDetailsKey\";\n\n    /**\n     * Creates a LastEditedTracker object.\n     * @param sharedSummaryBlock - The shared summary block where the details will be stored.\n     */\n    constructor(private readonly sharedSummaryBlock: SharedSummaryBlock) { }\n\n    public get IFluidLastEditedTracker() {\n        return this;\n    }\n\n    /**\n     * {@inheritDoc (IFluidLastEditedTracker:interface).getLastEditDetails}\n     */\n    public getLastEditDetails(): ILastEditDetails | undefined {\n        return this.sharedSummaryBlock.get<ILastEditDetails>(this.lastEditedDetailsKey);\n    }\n\n    /**\n     * {@inheritDoc (IFluidLastEditedTracker:interface).updateLastEditDetails}\n     */\n    public updateLastEditDetails(lastEditDetails: ILastEditDetails) {\n        this.sharedSummaryBlock.set(this.lastEditedDetailsKey, lastEditDetails);\n    }\n}\n"]}