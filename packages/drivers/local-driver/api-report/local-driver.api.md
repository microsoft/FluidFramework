## API Report File for "@fluidframework/local-driver"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { DocumentDeltaConnection } from '@fluidframework/driver-base';
import { GitManager } from '@fluidframework/server-services-client';
import { IClient } from '@fluidframework/protocol-definitions';
import { ICreateBlobResponse } from '@fluidframework/protocol-definitions';
import { IDatabaseManager } from '@fluidframework/server-services-core';
import { IDb } from '@fluidframework/server-services-core';
import { IDocumentDeltaConnection } from '@fluidframework/driver-definitions';
import { IDocumentDeltaStorageService } from '@fluidframework/driver-definitions';
import { IDocumentMessage } from '@fluidframework/protocol-definitions';
import { IDocumentService } from '@fluidframework/driver-definitions';
import { IDocumentServiceFactory } from '@fluidframework/driver-definitions';
import { IDocumentServicePolicies } from '@fluidframework/driver-definitions';
import { IDocumentStorageService } from '@fluidframework/driver-definitions';
import { IDocumentStorageServicePolicies } from '@fluidframework/driver-definitions';
import { ILocalDeltaConnectionServer } from '@fluidframework/server-local-server';
import { IRequest } from '@fluidframework/core-interfaces';
import { IResolvedUrl } from '@fluidframework/driver-definitions';
import { ISequencedDocumentMessage } from '@fluidframework/protocol-definitions';
import { ISnapshotTreeEx } from '@fluidframework/protocol-definitions';
import { IStream } from '@fluidframework/driver-definitions';
import { ISummaryContext } from '@fluidframework/driver-definitions';
import { ISummaryHandle } from '@fluidframework/protocol-definitions';
import { ISummaryTree } from '@fluidframework/protocol-definitions';
import { ITelemetryBaseLogger } from '@fluidframework/core-interfaces';
import { ITestDbFactory } from '@fluidframework/server-test-utils';
import { ITokenProvider } from '@fluidframework/routerlicious-driver';
import { IUrlResolver } from '@fluidframework/driver-definitions';
import { IVersion } from '@fluidframework/protocol-definitions';
import { IWebSocketServer } from '@fluidframework/server-services-core';
import { NackErrorType } from '@fluidframework/protocol-definitions';
import type { Socket } from 'socket.io-client';

// @internal
export function createLocalDocumentService(resolvedUrl: IResolvedUrl, localDeltaConnectionServer: ILocalDeltaConnectionServer, tokenProvider: ITokenProvider, tenantId: string, documentId: string, documentDeltaConnectionsMap: Map<string, LocalDocumentDeltaConnection>, policies?: IDocumentServicePolicies, innerDocumentService?: IDocumentService, logger?: ITelemetryBaseLogger): IDocumentService;

// @alpha (undocumented)
export function createLocalResolverCreateNewRequest(documentId: string): IRequest;

// @internal
export class LocalDeltaStorageService implements IDocumentDeltaStorageService {
    constructor(tenantId: string, id: string, databaseManager: IDatabaseManager);
    // (undocumented)
    fetchMessages(from: number, to: number | undefined, abortSignal?: AbortSignal, cachedOnly?: boolean): IStream<ISequencedDocumentMessage[]>;
}

// @internal
export class LocalDocumentDeltaConnection extends DocumentDeltaConnection {
    constructor(socket: Socket, documentId: string, logger?: ITelemetryBaseLogger);
    static create(tenantId: string, id: string, token: string, client: IClient, webSocketServer: IWebSocketServer, timeoutMs?: number, logger?: ITelemetryBaseLogger): Promise<LocalDocumentDeltaConnection>;
    disconnectClient(disconnectReason: string): void;
    nackClient(code: number | undefined, type: NackErrorType | undefined, message: any): void;
    submit(messages: IDocumentMessage[]): void;
    submitSignal(message: any): void;
}

// @internal
export class LocalDocumentService implements IDocumentService {
    constructor(resolvedUrl: IResolvedUrl, localDeltaConnectionServer: ILocalDeltaConnectionServer, tokenProvider: ITokenProvider, tenantId: string, documentId: string, documentDeltaConnectionsMap: Map<string, LocalDocumentDeltaConnection>, policies?: IDocumentServicePolicies, innerDocumentService?: IDocumentService | undefined, logger?: ITelemetryBaseLogger | undefined);
    connectToDeltaStorage(): Promise<IDocumentDeltaStorageService>;
    connectToDeltaStream(client: IClient): Promise<IDocumentDeltaConnection>;
    connectToStorage(): Promise<IDocumentStorageService>;
    // (undocumented)
    dispose(): void;
    // (undocumented)
    readonly policies: IDocumentServicePolicies;
    // (undocumented)
    readonly resolvedUrl: IResolvedUrl;
}

// @alpha
export class LocalDocumentServiceFactory implements IDocumentServiceFactory {
    constructor(localDeltaConnectionServer: ILocalDeltaConnectionServer, policies?: IDocumentServicePolicies | undefined, innerDocumentService?: IDocumentService | undefined);
    // (undocumented)
    createContainer(createNewSummary: ISummaryTree | undefined, resolvedUrl: IResolvedUrl, logger?: ITelemetryBaseLogger, clientIsSummarizer?: boolean): Promise<IDocumentService>;
    createDocumentService(resolvedUrl: IResolvedUrl, logger?: ITelemetryBaseLogger, clientIsSummarizer?: boolean): Promise<IDocumentService>;
    disconnectClient(clientId: string, disconnectReason: string): void;
    nackClient(clientId: string, code?: number, type?: NackErrorType, message?: any): void;
}

// @internal (undocumented)
export class LocalDocumentStorageService implements IDocumentStorageService {
    constructor(id: string, manager: GitManager, policies: IDocumentStorageServicePolicies, localDeltaConnectionServer?: ILocalDeltaConnectionServer | undefined, resolvedUrl?: IResolvedUrl | undefined);
    // (undocumented)
    protected readonly blobsShaCache: Map<string, string>;
    // (undocumented)
    createBlob(file: ArrayBufferLike): Promise<ICreateBlobResponse>;
    // (undocumented)
    downloadSummary(handle: ISummaryHandle): Promise<ISummaryTree>;
    // (undocumented)
    getSnapshotTree(version?: IVersion): Promise<ISnapshotTreeEx | null>;
    // (undocumented)
    getVersions(versionId: string | null, count: number): Promise<IVersion[]>;
    // (undocumented)
    readonly policies: IDocumentStorageServicePolicies;
    // (undocumented)
    readBlob(blobId: string): Promise<ArrayBufferLike>;
    // (undocumented)
    readonly repositoryUrl: string;
    // (undocumented)
    uploadSummaryWithContext(summary: ISummaryTree, context: ISummaryContext): Promise<string>;
}

// @alpha
export class LocalResolver implements IUrlResolver {
    constructor();
    // (undocumented)
    createCreateNewRequest(documentId: string): IRequest;
    // (undocumented)
    getAbsoluteUrl(resolvedUrl: IResolvedUrl, relativeUrl: string): Promise<string>;
    resolve(request: IRequest): Promise<IResolvedUrl>;
}

// @internal
export class LocalSessionStorageDbFactory implements ITestDbFactory {
    // (undocumented)
    connect(): Promise<IDb>;
    // (undocumented)
    readonly testDatabase: IDb;
}

// (No @packageDocumentation comment for this package)

```
