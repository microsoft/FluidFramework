## API Report File for "@fluidframework/odsp-driver-definitions"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { DriverError } from '@fluidframework/driver-definitions';
import { IDriverErrorBase } from '@fluidframework/driver-definitions';
import { IResolvedUrl } from '@fluidframework/driver-definitions';

// @public (undocumented)
export type CacheContentType = "snapshot" | "ops";

// @public
export function getKeyForCacheEntry(entry: ICacheEntry): string;

// @public (undocumented)
export interface HostStoragePolicy {
    avoidPrefetchSnapshotCache?: boolean;
    cacheCreateNewSummary?: boolean;
    // (undocumented)
    concurrentOpsBatches?: number;
    concurrentSnapshotFetch?: boolean;
    // @deprecated (undocumented)
    enableRedeemFallback?: boolean;
    // @deprecated (undocumented)
    enableShareLinkWithCreate?: boolean;
    enableSingleRequestForShareLinkWithCreate?: boolean;
    // @deprecated (undocumented)
    fetchBinarySnapshotFormat?: boolean;
    isolateSocketCache?: boolean;
    // (undocumented)
    opsBatchSize?: number;
    opsCaching?: IOpsCachingPolicy;
    sessionOptions?: ICollabSessionOptions;
    // (undocumented)
    snapshotOptions?: ISnapshotOptions;
}

// @public
export interface ICacheEntry extends IEntry {
    file: IFileEntry;
}

// @public (undocumented)
export interface ICollabSessionOptions {
    // @deprecated (undocumented)
    forceAccessTokenViaAuthorizationHeader?: boolean;
    unauthenticatedUserDisplayName?: string;
}

// @public
export type IdentityType = "Consumer" | "Enterprise";

// @public
export interface IEntry {
    key: string;
    type: CacheContentType;
}

// @public (undocumented)
export interface IFileEntry {
    docId: string;
    resolvedUrl: IResolvedUrl;
}

// @public (undocumented)
export type InstrumentedStorageTokenFetcher = (options: TokenFetchOptions, name: string, alwaysRecordTokenFetchTelemetry?: boolean) => Promise<string | null>;

// @public
export interface IOdspError extends Omit<IDriverErrorBase, "errorType">, IOdspErrorAugmentations {
    // (undocumented)
    readonly errorType: OdspErrorType;
}

// @public (undocumented)
export interface IOdspErrorAugmentations {
    facetCodes?: string[];
    redirectLocation?: string;
    serverEpoch?: string;
}

// @public (undocumented)
export interface IOdspResolvedUrl extends IResolvedUrl, IOdspUrlParts {
    // (undocumented)
    codeHint?: {
        containerPackageName?: string;
    };
    // (undocumented)
    dataStorePath?: string;
    // (undocumented)
    endpoints: {
        snapshotStorageUrl: string;
        attachmentPOSTStorageUrl: string;
        attachmentGETStorageUrl: string;
        deltaStorageUrl: string;
    };
    // (undocumented)
    fileName: string;
    // (undocumented)
    fileVersion: string | undefined;
    // (undocumented)
    hashedDocumentId: string;
    // (undocumented)
    isClpCompliantApp?: boolean;
    // (undocumented)
    odspResolvedUrl: true;
    shareLinkInfo?: ShareLinkInfoType;
    // (undocumented)
    summarizer: boolean;
    // (undocumented)
    tokens: {};
    // (undocumented)
    type: "fluid";
    // (undocumented)
    url: string;
}

// @public (undocumented)
export interface IOdspUrlParts {
    // (undocumented)
    driveId: string;
    // (undocumented)
    itemId: string;
    // (undocumented)
    siteUrl: string;
}

// @public (undocumented)
export interface IOpsCachingPolicy {
    batchSize?: number;
    timerGranularity?: number;
    totalOpsToCache?: number;
}

// @public
export interface IPersistedCache {
    get(entry: ICacheEntry): Promise<any>;
    put(entry: ICacheEntry, value: any): Promise<void>;
    removeEntries(file: IFileEntry): Promise<void>;
}

// @public
export interface IProvideSessionAwareDriverFactory {
    // (undocumented)
    readonly IRelaySessionAwareDriverFactory: IRelaySessionAwareDriverFactory;
}

// @public
export interface IRelaySessionAwareDriverFactory extends IProvideSessionAwareDriverFactory {
    // (undocumented)
    getRelayServiceSessionInfo(resolvedUrl: IResolvedUrl): Promise<ISocketStorageDiscovery | undefined>;
}

// @public
export interface ISharingLink extends ISharingLinkKind {
    // (undocumented)
    webUrl: string;
}

// @public
export interface ISharingLinkKind {
    // (undocumented)
    role?: SharingLinkRole;
    // (undocumented)
    scope: SharingLinkScope;
}

// @public (undocumented)
export interface ISnapshotOptions {
    // (undocumented)
    blobs?: number;
    // (undocumented)
    channels?: number;
    // (undocumented)
    deltas?: number;
    // (undocumented)
    mds?: number;
    // (undocumented)
    timeout?: number;
}

// @public
export interface ISocketStorageDiscovery {
    // (undocumented)
    deltaStorageUrl: string;
    deltaStreamSocketUrl: string;
    // (undocumented)
    id: string;
    refreshSessionDurationSeconds?: number;
    // (undocumented)
    runtimeTenantId?: string;
    // (undocumented)
    snapshotStorageUrl: string;
    socketToken?: string;
    // (undocumented)
    tenantId: string;
}

// @public
export const isTokenFromCache: (tokenResponse: string | TokenResponse | null) => boolean | undefined;

// @public (undocumented)
export type OdspError = IOdspError | (DriverError & IOdspErrorAugmentations);

// @public @deprecated
export enum OdspErrorType {
    blockedIPAddress = "blockedIPAddress",
    cannotCatchUp = "cannotCatchUp",
    fetchTimeout = "fetchTimeout",
    // (undocumented)
    fetchTokenError = "fetchTokenError",
    fluidNotEnabled = "fluidNotEnabled",
    invalidFileNameError = "invalidFileNameError",
    outOfStorageError = "outOfStorageError",
    serviceReadOnly = "serviceReadOnly",
    snapshotTooBig = "snapshotTooBig"
}

// @public
export const OdspErrorTypes: {
    readonly invalidFileNameError: "invalidFileNameError";
    readonly snapshotTooBig: "snapshotTooBig";
    readonly fetchTimeout: "fetchTimeout";
    readonly fluidNotEnabled: "fluidNotEnabled";
    readonly cannotCatchUp: "cannotCatchUp";
    readonly serviceReadOnly: "serviceReadOnly";
    readonly blockedIPAddress: "blockedIPAddress";
    readonly genericNetworkError: "genericNetworkError";
    readonly authorizationError: "authorizationError";
    readonly fileNotFoundOrAccessDeniedError: "fileNotFoundOrAccessDeniedError";
    readonly offlineError: "offlineError";
    readonly unsupportedClientProtocolVersion: "unsupportedClientProtocolVersion";
    readonly writeError: "writeError";
    readonly fetchFailure: "fetchFailure";
    readonly fetchTokenError: "fetchTokenError";
    readonly incorrectServerResponse: "incorrectServerResponse";
    readonly fileOverwrittenInStorage: "fileOverwrittenInStorage";
    readonly deltaStreamConnectionForbidden: "deltaStreamConnectionForbidden";
    readonly locationRedirection: "locationRedirection";
    readonly fluidInvalidSchema: "fluidInvalidSchema";
    readonly fileIsLocked: "fileIsLocked";
    readonly outOfStorageError: "outOfStorageError";
    readonly genericError: "genericError";
    readonly throttlingError: "throttlingError";
    readonly usageError: "usageError";
};

// @public (undocumented)
export type OdspErrorTypes = (typeof OdspErrorTypes)[keyof typeof OdspErrorTypes];

// @public
export interface OdspResourceTokenFetchOptions extends TokenFetchOptions {
    driveId?: string;
    itemId?: string;
    siteUrl: string;
}

// @public
export interface ShareLinkInfoType {
    createLink?: {
        type?: ShareLinkTypes | ISharingLinkKind;
        link?: string | ISharingLink;
        error?: any;
        shareId?: string;
    };
    sharingLinkToRedeem?: string;
}

// @public @deprecated (undocumented)
export enum ShareLinkTypes {
    // (undocumented)
    csl = "csl"
}

// @public
export enum SharingLinkRole {
    // (undocumented)
    edit = "edit",
    // (undocumented)
    view = "view"
}

// @public
export enum SharingLinkScope {
    // (undocumented)
    anonymous = "anonymous",
    // (undocumented)
    default = "default",
    // (undocumented)
    organization = "organization",
    // (undocumented)
    users = "users"
}

// @public
export const snapshotKey = "snapshot";

// @public
export type TokenFetcher<T> = (options: T) => Promise<string | TokenResponse | null>;

// @public
export interface TokenFetchOptions {
    claims?: string;
    refresh: boolean;
    tenantId?: string;
}

// @public
export const tokenFromResponse: (tokenResponse: string | TokenResponse | null | undefined) => string | null;

// @public
export interface TokenResponse {
    fromCache?: boolean;
    token: string;
}

// Warnings were encountered during analysis:
//
// src/errors.ts:63:1 - (ae-undocumented) Missing documentation for "OdspErrorTypes".
// src/errors.ts:104:2 - (ae-undocumented) Missing documentation for "fetchTokenError".
// src/errors.ts:127:1 - (ae-undocumented) Missing documentation for "IOdspErrorAugmentations".
// src/errors.ts:151:2 - (ae-undocumented) Missing documentation for "errorType".
// src/errors.ts:154:1 - (ae-undocumented) Missing documentation for "OdspError".
// src/factory.ts:6:1 - (ae-undocumented) Missing documentation for "ISnapshotOptions".
// src/factory.ts:7:2 - (ae-undocumented) Missing documentation for "blobs".
// src/factory.ts:8:2 - (ae-undocumented) Missing documentation for "deltas".
// src/factory.ts:9:2 - (ae-undocumented) Missing documentation for "channels".
// src/factory.ts:15:2 - (ae-undocumented) Missing documentation for "mds".
// src/factory.ts:22:2 - (ae-undocumented) Missing documentation for "timeout".
// src/factory.ts:25:1 - (ae-undocumented) Missing documentation for "IOpsCachingPolicy".
// src/factory.ts:53:1 - (ae-undocumented) Missing documentation for "ICollabSessionOptions".
// src/factory.ts:69:2 - (ae-undocumented) Missing documentation for "forceAccessTokenViaAuthorizationHeader".
// src/factory.ts:72:1 - (ae-undocumented) Missing documentation for "HostStoragePolicy".
// src/factory.ts:73:2 - (ae-undocumented) Missing documentation for "snapshotOptions".
// src/factory.ts:87:2 - (ae-undocumented) Missing documentation for "opsBatchSize".
// src/factory.ts:88:2 - (ae-undocumented) Missing documentation for "concurrentOpsBatches".
// src/factory.ts:105:2 - (ae-undocumented) Missing documentation for "enableRedeemFallback".
// src/factory.ts:116:2 - (ae-undocumented) Missing documentation for "fetchBinarySnapshotFormat".
// src/factory.ts:133:2 - (ae-undocumented) Missing documentation for "enableShareLinkWithCreate".
// src/odspCache.ts:12:1 - (ae-undocumented) Missing documentation for "CacheContentType".
// src/odspCache.ts:19:1 - (ae-undocumented) Missing documentation for "IFileEntry".
// src/resolvedUrl.ts:8:1 - (ae-undocumented) Missing documentation for "IOdspUrlParts".
// src/resolvedUrl.ts:9:2 - (ae-undocumented) Missing documentation for "siteUrl".
// src/resolvedUrl.ts:10:2 - (ae-undocumented) Missing documentation for "driveId".
// src/resolvedUrl.ts:11:2 - (ae-undocumented) Missing documentation for "itemId".
// src/resolvedUrl.ts:18:1 - (ae-undocumented) Missing documentation for "ShareLinkTypes".
// src/resolvedUrl.ts:19:2 - (ae-undocumented) Missing documentation for "csl".
// src/resolvedUrl.ts:26:2 - (ae-undocumented) Missing documentation for "organization".
// src/resolvedUrl.ts:27:2 - (ae-undocumented) Missing documentation for "users".
// src/resolvedUrl.ts:28:2 - (ae-undocumented) Missing documentation for "anonymous".
// src/resolvedUrl.ts:29:2 - (ae-undocumented) Missing documentation for "default".
// src/resolvedUrl.ts:36:2 - (ae-undocumented) Missing documentation for "view".
// src/resolvedUrl.ts:37:2 - (ae-undocumented) Missing documentation for "edit".
// src/resolvedUrl.ts:45:2 - (ae-undocumented) Missing documentation for "scope".
// src/resolvedUrl.ts:50:2 - (ae-undocumented) Missing documentation for "role".
// src/resolvedUrl.ts:57:2 - (ae-undocumented) Missing documentation for "webUrl".
// src/resolvedUrl.ts:101:1 - (ae-undocumented) Missing documentation for "IOdspResolvedUrl".
// src/resolvedUrl.ts:102:2 - (ae-undocumented) Missing documentation for "type".
// src/resolvedUrl.ts:103:2 - (ae-undocumented) Missing documentation for "odspResolvedUrl".
// src/resolvedUrl.ts:106:2 - (ae-undocumented) Missing documentation for "url".
// src/resolvedUrl.ts:109:2 - (ae-undocumented) Missing documentation for "hashedDocumentId".
// src/resolvedUrl.ts:111:2 - (ae-undocumented) Missing documentation for "endpoints".
// src/resolvedUrl.ts:120:2 - (ae-undocumented) Missing documentation for "tokens".
// src/resolvedUrl.ts:122:2 - (ae-undocumented) Missing documentation for "fileName".
// src/resolvedUrl.ts:124:2 - (ae-undocumented) Missing documentation for "summarizer".
// src/resolvedUrl.ts:126:2 - (ae-undocumented) Missing documentation for "codeHint".
// src/resolvedUrl.ts:132:2 - (ae-undocumented) Missing documentation for "fileVersion".
// src/resolvedUrl.ts:134:2 - (ae-undocumented) Missing documentation for "dataStorePath".
// src/resolvedUrl.ts:143:2 - (ae-undocumented) Missing documentation for "isClpCompliantApp".
// src/sessionProvider.ts:13:2 - (ae-undocumented) Missing documentation for "id".
// src/sessionProvider.ts:17:2 - (ae-undocumented) Missing documentation for "runtimeTenantId".
// src/sessionProvider.ts:18:2 - (ae-undocumented) Missing documentation for "tenantId".
// src/sessionProvider.ts:20:2 - (ae-undocumented) Missing documentation for "snapshotStorageUrl".
// src/sessionProvider.ts:21:2 - (ae-undocumented) Missing documentation for "deltaStorageUrl".
// src/sessionProvider.ts:47:2 - (ae-undocumented) Missing documentation for "IRelaySessionAwareDriverFactory".
// src/sessionProvider.ts:55:2 - (ae-undocumented) Missing documentation for "getRelayServiceSessionInfo".
// src/tokenFetch.ts:98:1 - (ae-undocumented) Missing documentation for "InstrumentedStorageTokenFetcher".

// (No @packageDocumentation comment for this package)

```
