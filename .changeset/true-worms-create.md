---
"@fluidframework/tree": minor
"fluid-framework": minor
"__section": tree
---
Fix bug in multi-step move of array elements

A multi-step move can be authored my moving the same array element multiple times within the scope of a single transaction.
Such multi-step would lead to errors in the following scenarios:
- Reverting a multi-step move would fail with with error code 0x92a on the peer attempting the revert, thus putting the peer in a broken read-only state without corrupting the document.
- If the set of pending edits generated by a peer included an edit with a multi-step move, followed by further edits to any of the moved items, reconciling these edits with concurrent edits sequenced earlier could lead to a document corruption with error code 0x9c7.

These operations are now safe.
