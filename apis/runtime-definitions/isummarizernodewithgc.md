{"kind":"Interface","title":"ISummarizerNodeWithGC Interface","summary":"Extends the functionality of ISummarizerNode to support garbage collection. It adds / updates the following APIs: - usedRoutes - The routes in this node that are currently in use. - getGCData - A new API that can be used to get the garbage collection data for this node. - summarize - Added a trackState flag which indicates whether the summarizer node should track the state of the summary or not. - createChild - Added the following params: - getGCDataFn - This gets the GC data from the caller. This must be provided in order for getGCData to work. - getInitialGCDetailsFn - This gets the initial GC details from the caller. - deleteChild - Deletes a child node. - isReferenced - This tells whether this node is referenced in the document or not. - updateUsedRoutes - Used to notify this node of routes that are currently in use in it.","members":{"MethodSignature":{"createChild":"/docs/apis/runtime-definitions/isummarizernodewithgc#createchild-MethodSignature","deleteChild":"/docs/apis/runtime-definitions/isummarizernodewithgc#deletechild-MethodSignature","getBaseGCDetails":"/docs/apis/runtime-definitions/isummarizernodewithgc#getbasegcdetails-MethodSignature","getChild":"/docs/apis/runtime-definitions/isummarizernodewithgc#getchild-MethodSignature","getGCData":"/docs/apis/runtime-definitions/isummarizernodewithgc#getgcdata-MethodSignature","getGCSummaryDetails":"/docs/apis/runtime-definitions/isummarizernodewithgc#getgcsummarydetails-MethodSignature","isReferenced":"/docs/apis/runtime-definitions/isummarizernodewithgc#isreferenced-MethodSignature","updateUsedRoutes":"/docs/apis/runtime-definitions/isummarizernodewithgc#updateusedroutes-MethodSignature"}},"package":"@fluidframework/runtime-definitions","unscopedPackageName":"runtime-definitions"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/runtime-definitions](/docs/apis/runtime-definitions) &gt; [ISummarizerNodeWithGC](/docs/apis/runtime-definitions/isummarizernodewithgc)

Extends the functionality of ISummarizerNode to support garbage collection. It adds / updates the following APIs: - usedRoutes - The routes in this node that are currently in use. - getGCData - A new API that can be used to get the garbage collection data for this node. - summarize - Added a trackState flag which indicates whether the summarizer node should track the state of the summary or not. - createChild - Added the following params: - getGCDataFn - This gets the GC data from the caller. This must be provided in order for getGCData to work. - getInitialGCDetailsFn - This gets the initial GC details from the caller. - deleteChild - Deletes a child node. - isReferenced - This tells whether this node is referenced in the document or not. - updateUsedRoutes - Used to notify this node of routes that are currently in use in it.

<b>Signature:</b>

```typescript
export interface ISummarizerNodeWithGC extends ISummarizerNode 
```
<b>Extends:</b> [ISummarizerNode](/docs/apis/runtime-definitions/isummarizernode)

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#createchild-MethodSignature'>createChild(summarizeInternalFn, id, createParam, config, getGCDataFn, getInitialGCSummaryDetailsFn)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#deletechild-MethodSignature'>deleteChild(id)</a></td>
      <td>Delete the child with the given id..</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#getbasegcdetails-MethodSignature'>getBaseGCDetails()</a></td>
      <td>Returns the GC details to be added to this node's summary and is used to initialize new nodes' GC state.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#getchild-MethodSignature'>getChild(id)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#getgcdata-MethodSignature'>getGCData(fullGC)</a></td>
      <td>Returns this node's data that is used for garbage collection. This includes a list of GC nodes that represent this node. Each node has a set of outbound routes to other GC nodes in the document.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#getgcsummarydetails-MethodSignature'>getGCSummaryDetails()</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#isreferenced-MethodSignature'>isReferenced()</a></td>
      <td>Tells whether this node is being referenced in this document or not. Unreferenced node will get GC'd</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc#updateusedroutes-MethodSignature'>updateUsedRoutes(usedRoutes, gcTimestamp)</a></td>
      <td>After GC has run, called to notify this node of routes that are used in it. These are used for the following: 1. To identify if this node is being referenced in the document or not. 2. To identify if this node or any of its children's used routes changed since last summary.</td>
    </tr>
  </tbody>
</table>

<hr><div id=interface-details>

## Method Details {#methods-details}

### createChild {#createchild-MethodSignature}

<b>Signature:</b>

```typescript
createChild(
    summarizeInternalFn: SummarizeInternalFn, 
    id: string, 
    createParam: CreateChildSummarizerNodeParam, 
    config?: ISummarizerNodeConfigWithGC, getGCDataFn?: (fullGC?: boolean) => Promise<IGarbageCollectionData>, getInitialGCSummaryDetailsFn?: () => Promise<IGarbageCollectionSummaryDetails>): ISummarizerNodeWithGC;
```

#### Parameters {#createchild-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>summarizeInternalFn</td>
      <td><a href='/docs/apis/runtime-definitions#summarizeinternalfn-TypeAlias'>SummarizeInternalFn</a></td>
      <td></td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>createParam</td>
      <td><a href='/docs/apis/runtime-definitions#createchildsummarizernodeparam-TypeAlias'>CreateChildSummarizerNodeParam</a></td>
      <td></td>
    </tr>
    <tr>
      <td>config</td>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodeconfigwithgc'>ISummarizerNodeConfigWithGC</a></td>
      <td></td>
    </tr>
    <tr>
      <td>getGCDataFn</td>
      <td>(fullGC?: boolean) => Promise<<a href='/docs/apis/runtime-definitions/igarbagecollectiondata'>IGarbageCollectionData</a>></td>
      <td></td>
    </tr>
    <tr>
      <td>getInitialGCSummaryDetailsFn</td>
      <td>() => Promise<<a href='/docs/apis/runtime-definitions#igarbagecollectionsummarydetails-TypeAlias'>IGarbageCollectionSummaryDetails</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>

### deleteChild {#deletechild-MethodSignature}

Delete the child with the given id..

<b>Signature:</b>

```typescript
deleteChild(id: string): void;
```

#### Parameters {#deletechild-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getBaseGCDetails {#getbasegcdetails-MethodSignature}

Returns the GC details to be added to this node's summary and is used to initialize new nodes' GC state.

<b>Signature:</b>

```typescript
getBaseGCDetails?(): IGarbageCollectionDetailsBase;
```

### getChild {#getchild-MethodSignature}

<b>Signature:</b>

```typescript
getChild(id: string): ISummarizerNodeWithGC | undefined;
```

#### Parameters {#getchild-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getGCData {#getgcdata-MethodSignature}

Returns this node's data that is used for garbage collection. This includes a list of GC nodes that represent this node. Each node has a set of outbound routes to other GC nodes in the document.

<b>Signature:</b>

```typescript
getGCData(fullGC?: boolean): Promise<IGarbageCollectionData>;
```

#### Parameters {#getgcdata-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fullGC</td>
      <td>boolean</td>
      <td>true to bypass optimizations and force full generation of GC data.</td>
    </tr>
  </tbody>
</table>

### getGCSummaryDetails {#getgcsummarydetails-MethodSignature}

{{% callout warning Deprecated %}}
- Renamed to getBaseGCDetails. Returns the GC details that may be added to this node's summary.

{{% /callout %}}

<b>Signature:</b>

```typescript
getGCSummaryDetails(): IGarbageCollectionSummaryDetails;
```

### isReferenced {#isreferenced-MethodSignature}

Tells whether this node is being referenced in this document or not. Unreferenced node will get GC'd

<b>Signature:</b>

```typescript
isReferenced(): boolean;
```

### updateUsedRoutes {#updateusedroutes-MethodSignature}

After GC has run, called to notify this node of routes that are used in it. These are used for the following: 1. To identify if this node is being referenced in the document or not. 2. To identify if this node or any of its children's used routes changed since last summary.

<b>Signature:</b>

```typescript
updateUsedRoutes(usedRoutes: string[], gcTimestamp?: number): void;
```

#### Parameters {#updateusedroutes-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>usedRoutes</td>
      <td>string[]</td>
      <td>The routes that are used in this node.</td>
    </tr>
    <tr>
      <td>gcTimestamp</td>
      <td>number</td>
      <td>The time when GC was run that generated these used routes. If a node becomes unreferenced as part of this GC run, this timestamp is used to update the time when it happens.</td>
    </tr>
  </tbody>
</table>


</div>
