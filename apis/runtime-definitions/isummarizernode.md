{"kind":"Interface","title":"ISummarizerNode Interface","members":{"MethodSignature":{"createChild":"/docs/apis/runtime-definitions/isummarizernode#createchild-MethodSignature","getChild":"/docs/apis/runtime-definitions/isummarizernode#getchild-MethodSignature","invalidate":"/docs/apis/runtime-definitions/isummarizernode#invalidate-MethodSignature","loadBaseSummary":"/docs/apis/runtime-definitions/isummarizernode#loadbasesummary-MethodSignature","loadBaseSummaryWithoutDifferential":"/docs/apis/runtime-definitions/isummarizernode#loadbasesummarywithoutdifferential-MethodSignature","recordChange":"/docs/apis/runtime-definitions/isummarizernode#recordchange-MethodSignature","summarize":"/docs/apis/runtime-definitions/isummarizernode#summarize-MethodSignature"},"PropertySignature":{"referenceSequenceNumber":"/docs/apis/runtime-definitions/isummarizernode#referencesequencenumber-PropertySignature"}},"package":"@fluidframework/runtime-definitions","unscopedPackageName":"runtime-definitions"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/runtime-definitions](/docs/apis/runtime-definitions) &gt; [ISummarizerNode](/docs/apis/runtime-definitions/isummarizernode)

<b>Signature:</b>

```typescript
export interface ISummarizerNode 
```

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#referencesequencenumber-PropertySignature'>referenceSequenceNumber</a></td>
      <td>number</td>
      <td>Latest successfully acked summary reference sequence number</td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#createchild-MethodSignature'>createChild(summarizeInternalFn, id, createParam, config)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#getchild-MethodSignature'>getChild(id)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#invalidate-MethodSignature'>invalidate(sequenceNumber)</a></td>
      <td>Marks the node as having a change with the given sequence number.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#loadbasesummary-MethodSignature'>loadBaseSummary(snapshot, readAndParseBlob)</a></td>
      <td>Does all the work of loadBaseSummaryWithoutDifferential. Additionally if the base summary is a differential summary containing handle + outstanding ops blob, then this will return the innermost base summary, and update the state by tracking the outstanding ops.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#loadbasesummarywithoutdifferential-MethodSignature'>loadBaseSummaryWithoutDifferential(snapshot)</a></td>
      <td>Checks if there are any additional path parts for children that need to be loaded from the base summary. Additional path parts represent parts of the path between this SummarizerNode and any child SummarizerNodes that it might have. For example: if datastore "a" contains dds "b", but the path is "/a/.channels/b", then the additional path part is ".channels".</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#recordchange-MethodSignature'>recordChange(op)</a></td>
      <td>Records an op representing a change to this node/subtree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode#summarize-MethodSignature'>summarize(fullTree, trackState, telemetryContext)</a></td>
      <td>Calls the internal summarize function and handles internal state tracking. If unchanged and fullTree is false, it will reuse previous summary subtree. If an error is encountered and throwOnFailure is false, it will try to make a summary with a pointer to the previous summary + a blob of outstanding ops.</td>
    </tr>
  </tbody>
</table>

<hr><div id=interface-details>

## Property Details {#properties-details}

### referenceSequenceNumber {#referencesequencenumber-PropertySignature}

Latest successfully acked summary reference sequence number

<b>Signature:</b>

```typescript
readonly referenceSequenceNumber: number;
```

## Method Details {#methods-details}

### createChild {#createchild-MethodSignature}

<b>Signature:</b>

```typescript
createChild(
    summarizeInternalFn: SummarizeInternalFn, 
    id: string, 
    createParam: CreateChildSummarizerNodeParam, 
    config?: ISummarizerNodeConfig): ISummarizerNode;
```

#### Parameters {#createchild-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>summarizeInternalFn</td>
      <td><a href='/docs/apis/runtime-definitions#summarizeinternalfn-TypeAlias'>SummarizeInternalFn</a></td>
      <td></td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>createParam</td>
      <td><a href='/docs/apis/runtime-definitions#createchildsummarizernodeparam-TypeAlias'>CreateChildSummarizerNodeParam</a></td>
      <td></td>
    </tr>
    <tr>
      <td>config</td>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodeconfig'>ISummarizerNodeConfig</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### getChild {#getchild-MethodSignature}

<b>Signature:</b>

```typescript
getChild(id: string): ISummarizerNode | undefined;
```

#### Parameters {#getchild-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### invalidate {#invalidate-MethodSignature}

Marks the node as having a change with the given sequence number.

<b>Signature:</b>

```typescript
invalidate(sequenceNumber: number): void;
```

#### Parameters {#invalidate-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>sequenceNumber</td>
      <td>number</td>
      <td>sequence number of change</td>
    </tr>
  </tbody>
</table>

### loadBaseSummary {#loadbasesummary-MethodSignature}

Does all the work of loadBaseSummaryWithoutDifferential. Additionally if the base summary is a differential summary containing handle + outstanding ops blob, then this will return the innermost base summary, and update the state by tracking the outstanding ops.

<b>Signature:</b>

```typescript
loadBaseSummary(snapshot: ISnapshotTree, readAndParseBlob: <T>(id: string) => Promise<T>): Promise<ISnapshotTree>;
```

#### Parameters {#loadbasesummary-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>snapshot</td>
      <td><a href='/docs/apis/protocol-definitions/isnapshottree'>ISnapshotTree</a></td>
      <td>the base summary to parse</td>
    </tr>
    <tr>
      <td>readAndParseBlob</td>
      <td><T>(id: string) => Promise<T></td>
      <td>function to read and parse blobs from storage</td>
    </tr>
  </tbody>
</table>

#### Returns {#loadbasesummary-MethodSignature-returns}


the base summary to be used

<b>Return type(s):</b> Promise&lt;[ISnapshotTree](/docs/apis/protocol-definitions/isnapshottree)<!-- -->&gt;

### loadBaseSummaryWithoutDifferential {#loadbasesummarywithoutdifferential-MethodSignature}

Checks if there are any additional path parts for children that need to be loaded from the base summary. Additional path parts represent parts of the path between this SummarizerNode and any child SummarizerNodes that it might have. For example: if datastore "a" contains dds "b", but the path is "/a/.channels/b", then the additional path part is ".channels".

<b>Signature:</b>

```typescript
loadBaseSummaryWithoutDifferential(snapshot: ISnapshotTree): void;
```

#### Parameters {#loadbasesummarywithoutdifferential-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>snapshot</td>
      <td><a href='/docs/apis/protocol-definitions/isnapshottree'>ISnapshotTree</a></td>
      <td>the base summary to parse</td>
    </tr>
  </tbody>
</table>

### recordChange {#recordchange-MethodSignature}

Records an op representing a change to this node/subtree.

<b>Signature:</b>

```typescript
recordChange(op: ISequencedDocumentMessage): void;
```

#### Parameters {#recordchange-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>op</td>
      <td><a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a></td>
      <td>op of change to record</td>
    </tr>
  </tbody>
</table>

### summarize {#summarize-MethodSignature}

Calls the internal summarize function and handles internal state tracking. If unchanged and fullTree is false, it will reuse previous summary subtree. If an error is encountered and throwOnFailure is false, it will try to make a summary with a pointer to the previous summary + a blob of outstanding ops.

<b>Signature:</b>

```typescript
summarize(fullTree: boolean, trackState?: boolean, telemetryContext?: ITelemetryContext): Promise<ISummarizeResult>;
```

#### Parameters {#summarize-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fullTree</td>
      <td>boolean</td>
      <td>true to skip optimizations and always generate the full tree</td>
    </tr>
    <tr>
      <td>trackState</td>
      <td>boolean</td>
      <td>indicates whether the summarizer node should track the state of the summary or not</td>
    </tr>
    <tr>
      <td>telemetryContext</td>
      <td><a href='/docs/apis/runtime-definitions/itelemetrycontext'>ITelemetryContext</a></td>
      <td>summary data passed through the layers for telemetry purposes</td>
    </tr>
  </tbody>
</table>


</div>
