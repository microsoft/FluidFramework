{
  "title": "OldestClientObserver Class",
  "summary": "The `OldestClientObserver` is a utility inspect if the local client is the oldest amongst connected clients (in terms of when they connected) and watch for changes.\n\nIt is still experimental and under development. Please do try it out, but expect breaking changes in the future.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/oldest-client-observer\\oldestclientobserver-class#_constructor_-constructor"
    },
    "Method": {
      "isOldest": "/docs/apis/oldest-client-observer\\oldestclientobserver-class#isoldest-method"
    }
  },
  "package": "@fluid-experimental/oldest-client-observer",
  "unscopedPackageName": "oldest-client-observer"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluid-experimental/oldest-client-observer](/docs/apis/oldest-client-observer) &gt; [OldestClientObserver](/docs/apis/oldest-client-observer\oldestclientobserver-class)

The `OldestClientObserver` is a utility inspect if the local client is the oldest amongst connected clients (in terms of when they connected) and watch for changes.

It is still experimental and under development. Please do try it out, but expect breaking changes in the future.

## Signature {#oldestclientobserver-signature}

```typescript
export declare class OldestClientObserver extends TypedEventEmitter<IOldestClientObserverEvents> implements IOldestClientObserver 
```
<b>Extends:</b> [TypedEventEmitter](/docs/apis/common-utils\typedeventemitter-class)<!-- -->&lt;[IOldestClientObserverEvents](/docs/apis/oldest-client-observer\ioldestclientobserverevents-interface)

<b>Implements:</b> [IOldestClientObserver](/docs/apis/oldest-client-observer\ioldestclientobserver-interface)

## Remarks {#oldestclientobserver-remarks}

\#\#\# Creation

The `OldestClientObserver` constructor takes an `IOldestClientObservable`<!-- -->. This is most easily satisfied with either an `IContainerRuntime` or an `IFluidDataStoreRuntime`<!-- -->:

```typescript
// E.g. from within a BaseContainerRuntimeFactory:
protected async containerHasInitialized(runtime: IContainerRuntime) {
    const oldestClientObserver = new OldestClientObserver(runtime);
    // ...
}
```

```typescript
// From within a DataObject
protected async hasInitialized() {
    const oldestClientObserver = new OldestClientObserver(this.runtime);
    // ...
}
```
\#\#\# Usage

To check if the local client is the oldest, use the `isOldest()` method.

```typescript
if (oldestClientObserver.isOldest()) {
    console.log("I'm the oldest");
} else {
    console.log("Someone else is older");
}
```
\#\#\# Eventing

`OldestClientObserver` is an `EventEmitter`<!-- -->, and will emit events when the local client becomes the oldest and when it is no longer the oldest.

```typescript
oldestClientObserver.on("becameOldest", () => {
    console.log("I'm the oldest now");
});

oldestClientObserver.on("lostOldest", () => {
    console.log("I'm not the oldest anymore");
});
```

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Constructor
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/oldest-client-observer\oldestclientobserver-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Constructs a new instance of the <code>OldestClientObserver</code> class
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Method
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/oldest-client-observer\oldestclientobserver-class#isoldest-method'>isOldest</a>
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Constructs a new instance of the `OldestClientObserver` class

#### Signature {#_constructor_-signature}

```typescript
constructor(observable: IOldestClientObservable);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        observable
      </td>
      <td>
        <a href='/docs/apis/oldest-client-observer\ioldestclientobservable-interface'>IOldestClientObservable</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### isOldest {#isoldest-method}

#### Signature {#isoldest-signature}

```typescript
isOldest(): boolean;
```

#### Returns {#isoldest-returns}

<b>Return type:</b> boolean