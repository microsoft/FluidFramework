{
  "title": "@fluidframework/sequence Package",
  "summary": "Supports distributed data structures which are list-like.\n\nThis library's main export is [SharedString](/docs/apis/sequence\\sharedstring-class)<!-- -->, a DDS for storing and simultaneously editing a sequence of text.\n\nSee the package's README for a high-level introduction to `SharedString`<!-- -->'s feature set.",
  "kind": "Package",
  "members": {
    "TypeAlias": {
      "CompressedSerializedInterval": "/docs/apis/sequence#compressedserializedinterval-typealias",
      "DeserializeCallback": "/docs/apis/sequence#deserializecallback-typealias",
      "IntervalConflictResolver": "/docs/apis/sequence#intervalconflictresolver-typealias",
      "SharedStringSegment": "/docs/apis/sequence#sharedstringsegment-typealias"
    },
    "Function": {
      "getTextAndMarkers": "/docs/apis/sequence#gettextandmarkers-function",
      "intervalLocatorFromEndpoint": "/docs/apis/sequence#intervallocatorfromendpoint-function"
    },
    "Interface": {
      "IInterval": "/docs/apis/sequence\\iinterval-interface",
      "IIntervalCollectionEvent": "/docs/apis/sequence\\iintervalcollectionevent-interface",
      "IIntervalHelpers": "/docs/apis/sequence\\iintervalhelpers-interface",
      "IJSONRunSegment": "/docs/apis/sequence\\ijsonrunsegment-interface",
      "IntervalLocator": "/docs/apis/sequence\\intervallocator-interface",
      "ISequenceDeltaRange": "/docs/apis/sequence\\isequencedeltarange-interface",
      "ISerializableInterval": "/docs/apis/sequence\\iserializableinterval-interface",
      "ISharedIntervalCollection": "/docs/apis/sequence\\isharedintervalcollection-interface",
      "ISharedSegmentSequenceEvents": "/docs/apis/sequence\\isharedsegmentsequenceevents-interface",
      "ISharedString": "/docs/apis/sequence\\isharedstring-interface"
    },
    "Class": {
      "Interval": "/docs/apis/sequence\\interval-class",
      "IntervalCollection": "/docs/apis/sequence\\intervalcollection-class",
      "IntervalCollectionIterator": "/docs/apis/sequence\\intervalcollectioniterator-class",
      "SequenceDeltaEvent": "/docs/apis/sequence\\sequencedeltaevent-class",
      "SequenceEvent": "/docs/apis/sequence\\sequenceevent-class",
      "SequenceInterval": "/docs/apis/sequence\\sequenceinterval-class",
      "SequenceMaintenanceEvent": "/docs/apis/sequence\\sequencemaintenanceevent-class",
      "SharedIntervalCollection": "/docs/apis/sequence\\sharedintervalcollection-class",
      "SharedIntervalCollectionFactory": "/docs/apis/sequence\\sharedintervalcollectionfactory-class",
      "SharedSegmentSequence": "/docs/apis/sequence\\sharedsegmentsequence-class",
      "SharedSequence": "/docs/apis/sequence\\sharedsequence-class",
      "SharedString": "/docs/apis/sequence\\sharedstring-class",
      "SharedStringFactory": "/docs/apis/sequence\\sharedstringfactory-class",
      "SubSequence": "/docs/apis/sequence\\subsequence-class"
    },
    "Enum": {
      "IntervalType": "/docs/apis/sequence#intervaltype-enum"
    }
  },
  "package": "@fluidframework/sequence",
  "unscopedPackageName": "sequence"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/sequence](/docs/apis/sequence)

Supports distributed data structures which are list-like.

This library's main export is [SharedString](/docs/apis/sequence\sharedstring-class)<!-- -->, a DDS for storing and simultaneously editing a sequence of text.

See the package's README for a high-level introduction to `SharedString`<!-- -->'s feature set.

## Remarks {#_fluidframework_sequence-remarks}

Note that SharedString is a sequence DDS but it has additional specialized features and behaviors for working with text.

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Interface
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence\iinterval-interface'>IInterval</a>
      </td>
      <td>
        Basic interval abstraction
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\iintervalcollectionevent-interface'>IIntervalCollectionEvent</a>
      </td>
      <td>
        Change events emitted by <code>IntervalCollection</code>s
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\iintervalhelpers-interface'>IIntervalHelpers</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\ijsonrunsegment-interface'>IJSONRunSegment</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\intervallocator-interface'>IntervalLocator</a>
      </td>
      <td>
        Information that identifies an interval within a <code>Sequence</code>.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\isequencedeltarange-interface'>ISequenceDeltaRange</a>
      </td>
      <td>
        A range that has changed corresponding to a segment modification.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\iserializableinterval-interface'>ISerializableInterval</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\isharedintervalcollection-interface'>ISharedIntervalCollection</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\isharedsegmentsequenceevents-interface'>ISharedSegmentSequenceEvents</a>
      </td>
      <td>
        Events emitted in response to changes to the sequence data.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\isharedstring-interface'>ISharedString</a>
      </td>
      <td>
        Fluid object interface describing access methods on a SharedString
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Class
      </th>
      <th scope="col">
        Alerts
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence\interval-class'>Interval</a>
      </td>
      <td>
      </td>
      <td>
        Serializable interval whose endpoints are plain-old numbers.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\intervalcollection-class'>IntervalCollection</a>
      </td>
      <td>
      </td>
      <td>
        Collection of intervals that supports addition, modification, removal, and efficient spatial querying. This class is not a DDS in its own right, but emits events on mutating operations such that it's possible to integrate into a DDS. This aligns with its usage in <code>SharedSegmentSequence</code>, which allows associating intervals to positions in the sequence DDS which are broadcast to all other clients in an eventually consistent fashion.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\intervalcollectioniterator-class'>IntervalCollectionIterator</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sequencedeltaevent-class'>SequenceDeltaEvent</a>
      </td>
      <td>
      </td>
      <td>
        <p>The event object returned on sequenceDelta events.</p><p>The properties of this object and its sub-objects represent the state of the sequence at the point in time at which the operation was applied. They will not take into consideration any future modifications performed to the underlying sequence and merge tree.</p><p>For group ops, each op will get its own event, and the group op property will be set on the op args.</p><p>Ops may get multiple events. For instance, an insert-replace will get a remove then an insert event.</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sequenceevent-class'>SequenceEvent</a>
      </td>
      <td>
      </td>
      <td>
        <p>Base class for SequenceDeltaEvent and SequenceMaintenanceEvent.</p><p>The properties of this object and its sub-objects represent the state of the sequence at the point in time at which the operation was applied. They will not take into any future modifications performed to the underlying sequence and merge tree.</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sequenceinterval-class'>SequenceInterval</a>
      </td>
      <td>
      </td>
      <td>
        Interval impelmentation whose ends are associated with positions in a mutatable sequence. As such, when content is inserted into the middle of the interval, the interval expands to include that content.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sequencemaintenanceevent-class'>SequenceMaintenanceEvent</a>
      </td>
      <td>
      </td>
      <td>
        <p>The event object returned on maintenance events.</p><p>The properties of this object and its sub-objects represent the state of the sequence at the point in time at which the operation was applied. They will not take into consideration any future modifications performed to the underlying sequence and merge tree.</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sharedintervalcollection-class'>SharedIntervalCollection</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sharedintervalcollectionfactory-class'>SharedIntervalCollectionFactory</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        The factory that defines the SharedIntervalCollection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sharedsegmentsequence-class'>SharedSegmentSequence</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sharedsequence-class'>SharedSequence</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sharedstring-class'>SharedString</a>
      </td>
      <td>
      </td>
      <td>
        <p>The Shared String is a specialized data structure for handling collaborative text. It is based on a more general Sequence data structure but has additional features that make working with text easier.</p><p>In addition to text, a Shared String can also contain markers. Markers can be used to store metadata at positions within the text, like the details of an image or Fluid object that should be rendered with the text.</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\sharedstringfactory-class'>SharedStringFactory</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence\subsequence-class'>SubSequence</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Enumerations

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Enum
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence#intervaltype-enum'>IntervalType</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        TypeAlias
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence#compressedserializedinterval-typealias'>CompressedSerializedInterval</a>
      </td>
      <td>
        <p>A size optimization to avoid redundantly storing keys when serializing intervals as JSON for summaries.</p><p>Intervals are of the format:</p><p>[start, end, sequenceNumber, intervalType, properties]</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence#deserializecallback-typealias'>DeserializeCallback</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence#intervalconflictresolver-typealias'>IntervalConflictResolver</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence#sharedstringsegment-typealias'>SharedStringSegment</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Function
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence#gettextandmarkers-function'>getTextAndMarkers</a>
      </td>
      <td>
        { parallelText: string[]; parallelMarkers: <a href='/docs/apis/merge-tree\marker-class'>Marker</a>[]; }
      </td>
      <td>
        Splits the text into regions ending with markers with the given <code>label</code>.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence#intervallocatorfromendpoint-function'>intervalLocatorFromEndpoint</a>
      </td>
      <td>
        <a href='/docs/apis/sequence\intervallocator-interface'>IntervalLocator</a> | undefined
      </td>
      <td>
        Returns an object that can be used to find the interval a given LocalReferencePosition belongs to.
      </td>
    </tr>
  </tbody>
</table>

## Enumeration Details

### IntervalType {#intervaltype-enum}

#### Signature {#intervaltype-signature}

```typescript
export declare enum IntervalType 
```

#### Flags

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Flag
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence#intervaltype-nest-enummember'>Nest</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence#intervaltype-simple-enummember'>Simple</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence#intervaltype-slideonremove-enummember'>SlideOnRemove</a>
      </td>
      <td>
        SlideOnRemove indicates that the ends of the interval will slide if the segment they reference is removed and acked. See <code>packages\dds\merge-tree\REFERENCEPOSITIONS.md</code> for details SlideOnRemove is the default interval behavior and does not need to be specified.
      </td>
    </tr>
  </tbody>
</table>

#### FlagDetails

##### Nest {#intervaltype-nest-enummember}

###### Signature {#nest-signature}

```typescript
Nest = 1
```

##### Simple {#intervaltype-simple-enummember}

###### Signature {#simple-signature}

```typescript
Simple = 0
```

##### SlideOnRemove {#intervaltype-slideonremove-enummember}

SlideOnRemove indicates that the ends of the interval will slide if the segment they reference is removed and acked. See `packages\dds\merge-tree\REFERENCEPOSITIONS.md` for details SlideOnRemove is the default interval behavior and does not need to be specified.

###### Signature {#slideonremove-signature}

```typescript
SlideOnRemove = 2
```

## Type Details

### CompressedSerializedInterval {#compressedserializedinterval-typealias}

A size optimization to avoid redundantly storing keys when serializing intervals as JSON for summaries.

Intervals are of the format:

\[start, end, sequenceNumber, intervalType, properties\]

#### Signature {#compressedserializedinterval-signature}

```typescript
export declare type CompressedSerializedInterval = [number, number, number, IntervalType, PropertySet];
```

### DeserializeCallback {#deserializecallback-typealias}

#### Signature {#deserializecallback-signature}

```typescript
export declare type DeserializeCallback = (properties: PropertySet) => void;
```

### IntervalConflictResolver {#intervalconflictresolver-typealias}

#### Signature {#intervalconflictresolver-signature}

```typescript
export declare type IntervalConflictResolver<TInterval> = (a: TInterval, b: TInterval) => TInterval;
```

### SharedStringSegment {#sharedstringsegment-typealias}

#### Signature {#sharedstringsegment-signature}

```typescript
export declare type SharedStringSegment = TextSegment | Marker;
```

## Function Details

### getTextAndMarkers {#gettextandmarkers-function}

Splits the text into regions ending with markers with the given `label`<!-- -->.

#### Signature {#gettextandmarkers-signature}

```typescript
export declare function getTextAndMarkers(sharedString: SharedString, label: string, start?: number, end?: number): {
    parallelText: string[];
    parallelMarkers: Marker[];
};
```

#### Parameters {#gettextandmarkers-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        sharedString
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/sequence\sharedstring-class'>SharedString</a>
      </td>
      <td>
        String to retrieve text and markers from
      </td>
    </tr>
    <tr>
      <td>
        label
      </td>
      <td>
      </td>
      <td>
        string
      </td>
      <td>
        label to split on
      </td>
    </tr>
    <tr>
      <td>
        start
      </td>
      <td>
        optional
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        end
      </td>
      <td>
        optional
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#gettextandmarkers-returns}

Two parallel lists of text and markers, split by markers with the provided `label`<!-- -->.

For example:

```typescript
// Say sharedstring has contents "hello<paragraph marker 1>world<paragraph marker 2>missing".
const { parallelText, parallelMarkers } = getTextAndMarkers(sharedString, "paragraph");
// parallelText === ["hello", "world"]
// parallelMarkers === [<paragraph marker 1 object>, <paragraph marker 2 object>]
// Note parallelText does not include "missing".
```

<b>Return type:</b> { parallelText: string\[\]; parallelMarkers: [Marker](/docs/apis/merge-tree\marker-class)<!-- -->\[\]; }

### intervalLocatorFromEndpoint {#intervallocatorfromendpoint-function}

Returns an object that can be used to find the interval a given LocalReferencePosition belongs to.

#### Signature {#intervallocatorfromendpoint-signature}

```typescript
export declare function intervalLocatorFromEndpoint(potentialEndpoint: LocalReferencePosition): IntervalLocator | undefined;
```

#### Parameters {#intervallocatorfromendpoint-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        potentialEndpoint
      </td>
      <td>
        <a href='/docs/apis/merge-tree\localreferenceposition-interface'>LocalReferencePosition</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#intervallocatorfromendpoint-returns}

undefined if the reference position is not the endpoint of any interval (e.g. it was created on the merge tree directly by app code), otherwise an [IntervalLocator](/docs/apis/sequence\intervallocator-interface) for the interval this endpoint is a part of.

<b>Return type:</b> [IntervalLocator](/docs/apis/sequence\intervallocator-interface) \| undefined