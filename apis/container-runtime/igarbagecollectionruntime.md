{"kind":"Interface","title":"IGarbageCollectionRuntime Interface","summary":"Defines the APIs for the runtime object to be passed to the garbage collector.","members":{"MethodSignature":{"closeFn":"/docs/apis/container-runtime/igarbagecollectionruntime#closefn-MethodSignature","deleteUnusedRoutes":"/docs/apis/container-runtime/igarbagecollectionruntime#deleteunusedroutes-MethodSignature","getCurrentReferenceTimestampMs":"/docs/apis/container-runtime/igarbagecollectionruntime#getcurrentreferencetimestampms-MethodSignature","getGCData":"/docs/apis/container-runtime/igarbagecollectionruntime#getgcdata-MethodSignature","getNodeType":"/docs/apis/container-runtime/igarbagecollectionruntime#getnodetype-MethodSignature","updateStateBeforeGC":"/docs/apis/container-runtime/igarbagecollectionruntime#updatestatebeforegc-MethodSignature","updateUsedRoutes":"/docs/apis/container-runtime/igarbagecollectionruntime#updateusedroutes-MethodSignature"}},"package":"@fluidframework/container-runtime","unscopedPackageName":"container-runtime"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/container-runtime](/docs/apis/container-runtime) &gt; [IGarbageCollectionRuntime](/docs/apis/container-runtime/igarbagecollectionruntime)

Defines the APIs for the runtime object to be passed to the garbage collector.

<b>Signature:</b>

```typescript
export interface IGarbageCollectionRuntime 
```

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#closefn-MethodSignature'>closeFn(error)</a></td>
      <td>Called when the runtime should close because of an error.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#deleteunusedroutes-MethodSignature'>deleteUnusedRoutes(unusedRoutes)</a></td>
      <td>After GC has run, called to delete objects in the runtime whose routes are unused.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#getcurrentreferencetimestampms-MethodSignature'>getCurrentReferenceTimestampMs()</a></td>
      <td>Returns a referenced timestamp to be used to track unreferenced nodes.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#getgcdata-MethodSignature'>getGCData(fullGC)</a></td>
      <td>Returns the garbage collection data of the runtime.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#getnodetype-MethodSignature'>getNodeType(nodePath)</a></td>
      <td>Returns the type of the GC node.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#updatestatebeforegc-MethodSignature'>updateStateBeforeGC()</a></td>
      <td>Before GC runs, called to notify the runtime to update any pending GC state.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/igarbagecollectionruntime#updateusedroutes-MethodSignature'>updateUsedRoutes(usedRoutes, gcTimestamp)</a></td>
      <td>After GC has run, called to notify the runtime of routes that are used in it.</td>
    </tr>
  </tbody>
</table>

<hr><div id=interface-details>

## Method Details {#methods-details}

### closeFn {#closefn-MethodSignature}

Called when the runtime should close because of an error.

<b>Signature:</b>

```typescript
closeFn(error?: ICriticalContainerError): void;
```

#### Parameters {#closefn-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>error</td>
      <td>ICriticalContainerError</td>
      <td></td>
    </tr>
  </tbody>
</table>

### deleteUnusedRoutes {#deleteunusedroutes-MethodSignature}

After GC has run, called to delete objects in the runtime whose routes are unused.

<b>Signature:</b>

```typescript
deleteUnusedRoutes(unusedRoutes: string[]): void;
```

#### Parameters {#deleteunusedroutes-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>unusedRoutes</td>
      <td>string[]</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getCurrentReferenceTimestampMs {#getcurrentreferencetimestampms-MethodSignature}

Returns a referenced timestamp to be used to track unreferenced nodes.

<b>Signature:</b>

```typescript
getCurrentReferenceTimestampMs(): number | undefined;
```

### getGCData {#getgcdata-MethodSignature}

Returns the garbage collection data of the runtime.

<b>Signature:</b>

```typescript
getGCData(fullGC?: boolean): Promise<IGarbageCollectionData>;
```

#### Parameters {#getgcdata-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fullGC</td>
      <td>boolean</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getNodeType {#getnodetype-MethodSignature}

Returns the type of the GC node.

<b>Signature:</b>

```typescript
getNodeType(nodePath: string): GCNodeType;
```

#### Parameters {#getnodetype-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>nodePath</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### updateStateBeforeGC {#updatestatebeforegc-MethodSignature}

Before GC runs, called to notify the runtime to update any pending GC state.

<b>Signature:</b>

```typescript
updateStateBeforeGC(): Promise<void>;
```

### updateUsedRoutes {#updateusedroutes-MethodSignature}

After GC has run, called to notify the runtime of routes that are used in it.

<b>Signature:</b>

```typescript
updateUsedRoutes(usedRoutes: string[], gcTimestamp?: number): void;
```

#### Parameters {#updateusedroutes-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>usedRoutes</td>
      <td>string[]</td>
      <td></td>
    </tr>
    <tr>
      <td>gcTimestamp</td>
      <td>number</td>
      <td></td>
    </tr>
  </tbody>
</table>


</div>
