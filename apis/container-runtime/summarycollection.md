{"kind":"Class","title":"SummaryCollection Class","summary":"Data structure that looks at the op stream to track summaries as they are broadcast, acked and nacked. It provides functionality for watching specific summaries.","members":{"Constructor":{"(constructor)":"/docs/apis/container-runtime/summarycollection#_constructor_-Constructor"},"Method":{"addOpListener":"/docs/apis/container-runtime/summarycollection#addoplistener-Method","createWatcher":"/docs/apis/container-runtime/summarycollection#createwatcher-Method","emit":"/docs/apis/container-runtime/summarycollection#emit-Method","removeOpListener":"/docs/apis/container-runtime/summarycollection#removeoplistener-Method","removeWatcher":"/docs/apis/container-runtime/summarycollection#removewatcher-Method","setPendingAckTimerTimeoutCallback":"/docs/apis/container-runtime/summarycollection#setpendingacktimertimeoutcallback-Method","unsetPendingAckTimerTimeoutCallback":"/docs/apis/container-runtime/summarycollection#unsetpendingacktimertimeoutcallback-Method","waitFlushed":"/docs/apis/container-runtime/summarycollection#waitflushed-Method","waitSummaryAck":"/docs/apis/container-runtime/summarycollection#waitsummaryack-Method"},"Property":{"latestAck":"/docs/apis/container-runtime/summarycollection#latestack-Property","opsSinceLastAck":"/docs/apis/container-runtime/summarycollection#opssincelastack-Property"}},"package":"@fluidframework/container-runtime","unscopedPackageName":"container-runtime"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/container-runtime](/docs/apis/container-runtime) &gt; [SummaryCollection](/docs/apis/container-runtime/summarycollection)

Data structure that looks at the op stream to track summaries as they are broadcast, acked and nacked. It provides functionality for watching specific summaries.

<b>Signature:</b>

```typescript
export declare class SummaryCollection extends TypedEventEmitter<ISummaryCollectionOpEvents> 
```
<b>Extends:</b> [TypedEventEmitter](/docs/apis/common-utils/typedeventemitter)<!-- -->&lt;[ISummaryCollectionOpEvents](/docs/apis/container-runtime/isummarycollectionopevents)

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#_constructor_-Constructor'>(constructor)(deltaManager, logger)</a></td>
      <td></td>
      <td>Constructs a new instance of the <code>SummaryCollection</code> class</td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this class</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#latestack-Property'>latestAck</a></td>
      <td></td>
      <td><a href='/docs/apis/container-runtime/iackedsummary'>IAckedSummary</a> | undefined</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#opssincelastack-Property'>opsSinceLastAck</a></td>
      <td></td>
      <td>number</td>
      <td></td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#addoplistener-Method'>addOpListener(listener)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#createwatcher-Method'>createWatcher(clientId)</a></td>
      <td></td>
      <td>Creates and returns a summary watcher for a specific client. This will allow for local sent summaries to be better tracked.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#emit-Method'>emit(event, args)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#removeoplistener-Method'>removeOpListener(listener)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#removewatcher-Method'>removeWatcher(clientId)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#setpendingacktimertimeoutcallback-Method'>setPendingAckTimerTimeoutCallback(maxAckWaitTime, timeoutCallback)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#unsetpendingacktimertimeoutcallback-Method'>unsetPendingAckTimerTimeoutCallback()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#waitflushed-Method'>waitFlushed()</a></td>
      <td></td>
      <td>Returns a promise that resolves once all pending summary ops have been acked or nacked.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarycollection#waitsummaryack-Method'>waitSummaryAck(referenceSequenceNumber)</a></td>
      <td></td>
      <td>Returns a promise that resolves once a summary is acked that has a reference sequence number greater than or equal to the passed in sequence number.</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### SummaryCollection.(constructor) {#_constructor_-Constructor}

Constructs a new instance of the `SummaryCollection` class

<b>Signature:</b>

```typescript
constructor(deltaManager: IDeltaManager<ISequencedDocumentMessage, IDocumentMessage>, logger: ITelemetryLogger);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>deltaManager</td>
      <td>IDeltaManager<<a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a>, <a href='/docs/apis/protocol-definitions/idocumentmessage'>IDocumentMessage</a>></td>
      <td></td>
    </tr>
    <tr>
      <td>logger</td>
      <td><a href='/docs/apis/common-definitions/itelemetrylogger'>ITelemetryLogger</a></td>
      <td></td>
    </tr>
  </tbody>
</table>


## Property Details {#properties-details}

### latestAck {#latestack-Property}

<b>Signature:</b>

```typescript
get latestAck(): IAckedSummary | undefined;
```

### opsSinceLastAck {#opssincelastack-Property}

<b>Signature:</b>

```typescript
get opsSinceLastAck(): number;
```

## Method Details {#methods-details}

### addOpListener {#addoplistener-Method}

<b>Signature:</b>

```typescript
addOpListener(listener: () => void): void;
```

#### Parameters {#addoplistener-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>listener</td>
      <td>() => void</td>
      <td></td>
    </tr>
  </tbody>
</table>

### createWatcher {#createwatcher-Method}

Creates and returns a summary watcher for a specific client. This will allow for local sent summaries to be better tracked.

<b>Signature:</b>

```typescript
createWatcher(clientId: string): IClientSummaryWatcher;
```

#### Parameters {#createwatcher-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>clientId</td>
      <td>string</td>
      <td>client id for watcher</td>
    </tr>
  </tbody>
</table>

### emit {#emit-Method}

<b>Signature:</b>

```typescript
emit(event: OpActionEventName, ...args: Parameters<OpActionEventListener>): boolean;
```

#### Parameters {#emit-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>event</td>
      <td><a href='/docs/apis/container-runtime#opactioneventname-TypeAlias'>OpActionEventName</a></td>
      <td></td>
    </tr>
    <tr>
      <td>args</td>
      <td>Parameters<<a href='/docs/apis/container-runtime#opactioneventlistener-TypeAlias'>OpActionEventListener</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>

### removeOpListener {#removeoplistener-Method}

<b>Signature:</b>

```typescript
removeOpListener(listener: () => void): void;
```

#### Parameters {#removeoplistener-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>listener</td>
      <td>() => void</td>
      <td></td>
    </tr>
  </tbody>
</table>

### removeWatcher {#removewatcher-Method}

<b>Signature:</b>

```typescript
removeWatcher(clientId: string): void;
```

#### Parameters {#removewatcher-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>clientId</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### setPendingAckTimerTimeoutCallback {#setpendingacktimertimeoutcallback-Method}

<b>Signature:</b>

```typescript
setPendingAckTimerTimeoutCallback(maxAckWaitTime: number, timeoutCallback: () => void): void;
```

#### Parameters {#setpendingacktimertimeoutcallback-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>maxAckWaitTime</td>
      <td>number</td>
      <td></td>
    </tr>
    <tr>
      <td>timeoutCallback</td>
      <td>() => void</td>
      <td></td>
    </tr>
  </tbody>
</table>

### unsetPendingAckTimerTimeoutCallback {#unsetpendingacktimertimeoutcallback-Method}

<b>Signature:</b>

```typescript
unsetPendingAckTimerTimeoutCallback(): void;
```

### waitFlushed {#waitflushed-Method}

Returns a promise that resolves once all pending summary ops have been acked or nacked.

<b>Signature:</b>

```typescript
waitFlushed(): Promise<IAckedSummary | undefined>;
```

### waitSummaryAck {#waitsummaryack-Method}

Returns a promise that resolves once a summary is acked that has a reference sequence number greater than or equal to the passed in sequence number.

<b>Signature:</b>

```typescript
waitSummaryAck(referenceSequenceNumber: number): Promise<IAckedSummary>;
```

#### Parameters {#waitsummaryack-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>referenceSequenceNumber</td>
      <td>number</td>
      <td>reference sequence number to wait for</td>
    </tr>
  </tbody>
</table>

#### Returns {#waitsummaryack-Method-returns}


The latest acked summary

<b>Return type(s):</b> Promise&lt;[IAckedSummary](/docs/apis/container-runtime/iackedsummary)<!-- -->&gt;


</div>
