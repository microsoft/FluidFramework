{"kind":"Class","title":"Summarizer Class","summary":"Summarizer is responsible for coordinating when to generate and send summaries. It is the main entry point for summary work. It is created only by summarizing container (i.e. one with clientType === 'summarizer')","members":{"Constructor":{"(constructor)":"/docs/apis/container-runtime/summarizer#_constructor_-Constructor"},"Method":{"close":"/docs/apis/container-runtime/summarizer#close-Method","create":"/docs/apis/container-runtime/summarizer#create-Method","dispose":"/docs/apis/container-runtime/summarizer#dispose-Method","run":"/docs/apis/container-runtime/summarizer#run-Method","stop":"/docs/apis/container-runtime/summarizer#stop-Method","stopReasonCanRunLastSummary":"/docs/apis/container-runtime/summarizer#stopreasoncanrunlastsummary-Method"},"Property":{"enqueueSummarize":"/docs/apis/container-runtime/summarizer#enqueuesummarize-Property","handle":"/docs/apis/container-runtime/summarizer#handle-Property","IFluidLoadable":"/docs/apis/container-runtime/summarizer#ifluidloadable-Property","ISummarizer":"/docs/apis/container-runtime/summarizer#isummarizer-Property","summarizeOnDemand":"/docs/apis/container-runtime/summarizer#summarizeondemand-Property","summaryCollection":"/docs/apis/container-runtime/summarizer#summarycollection-Property"}},"package":"@fluidframework/container-runtime","unscopedPackageName":"container-runtime"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/container-runtime](/docs/apis/container-runtime) &gt; [Summarizer](/docs/apis/container-runtime/summarizer)

Summarizer is responsible for coordinating when to generate and send summaries. It is the main entry point for summary work. It is created only by summarizing container (i.e. one with clientType === "summarizer")

<b>Signature:</b>

```typescript
export declare class Summarizer extends EventEmitter implements ISummarizer 
```
<b>Extends:</b> EventEmitter

<b>Implements:</b> [ISummarizer](/docs/apis/container-runtime/isummarizer)

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#_constructor_-Constructor'>(constructor)(url, runtime, configurationGetter, internalsProvider, handleContext, summaryCollection, runCoordinatorCreateFn)</a></td>
      <td></td>
      <td>Constructs a new instance of the <code>Summarizer</code> class</td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this class</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#enqueuesummarize-Property'>enqueueSummarize</a></td>
      <td></td>
      <td><a href='/docs/apis/container-runtime/isummarizer'>ISummarizer</a>["enqueueSummarize"]</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#handle-Property'>handle</a></td>
      <td></td>
      <td><a href='/docs/apis/core-interfaces/ifluidhandle'>IFluidHandle</a><this></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#ifluidloadable-Property'>IFluidLoadable</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#isummarizer-Property'>ISummarizer</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#summarizeondemand-Property'>summarizeOnDemand</a></td>
      <td></td>
      <td><a href='/docs/apis/container-runtime/isummarizer'>ISummarizer</a>["summarizeOnDemand"]</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#summarycollection-Property'>summaryCollection</a></td>
      <td></td>
      <td><a href='/docs/apis/container-runtime/summarycollection'>SummaryCollection</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#close-Method'>close()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#create-Method'>create(loader, url)</a></td>
      <td><code>static</code></td>
      <td>Creates a Summarizer and its underlying client. Note that different implementations of ILoader will handle the URL differently. ILoader provided by a ContainerRuntime is a RelativeLoader, which will treat URL's starting with "/" as relative to the Container. The general ILoader interface will expect an absolute URL and will not handle "/".</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#dispose-Method'>dispose()</a></td>
      <td></td>
      <td>Disposes of resources after running. This cleanup will clear any outstanding timers and reset some of the state properties. Called by ContainerRuntime when it is disposed, as well as at the end the run().</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#run-Method'>run(onBehalfOf)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#stop-Method'>stop(reason)</a></td>
      <td></td>
      <td>Stops the summarizer from running. This will complete the run promise, and also close the container.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/container-runtime/summarizer#stopreasoncanrunlastsummary-Method'>stopReasonCanRunLastSummary(stopReason)</a></td>
      <td><code>static</code></td>
      <td>Should we try to run a last summary for the given stop reason? Currently only allows "parentNotConnected"</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### Summarizer.(constructor) {#_constructor_-Constructor}

Constructs a new instance of the `Summarizer` class

<b>Signature:</b>

```typescript
constructor(url: string, 
    runtime: ISummarizerRuntime, configurationGetter: () => ISummaryConfiguration, 
    internalsProvider: ISummarizerInternalsProvider, handleContext: IFluidHandleContext, summaryCollection: SummaryCollection, runCoordinatorCreateFn: (runtime: IConnectableRuntime) => Promise<ICancellableSummarizerController>);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>url</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>runtime</td>
      <td><a href='/docs/apis/container-runtime/isummarizerruntime'>ISummarizerRuntime</a></td>
      <td></td>
    </tr>
    <tr>
      <td>configurationGetter</td>
      <td>() => <a href='/docs/apis/container-runtime#isummaryconfiguration-TypeAlias'>ISummaryConfiguration</a></td>
      <td></td>
    </tr>
    <tr>
      <td>internalsProvider</td>
      <td><a href='/docs/apis/container-runtime/isummarizerinternalsprovider'>ISummarizerInternalsProvider</a></td>
      <td></td>
    </tr>
    <tr>
      <td>handleContext</td>
      <td><a href='/docs/apis/core-interfaces/ifluidhandlecontext'>IFluidHandleContext</a></td>
      <td></td>
    </tr>
    <tr>
      <td>summaryCollection</td>
      <td><a href='/docs/apis/container-runtime/summarycollection'>SummaryCollection</a></td>
      <td></td>
    </tr>
    <tr>
      <td>runCoordinatorCreateFn</td>
      <td>(runtime: <a href='/docs/apis/container-runtime/iconnectableruntime'>IConnectableRuntime</a>) => Promise<<a href='/docs/apis/container-runtime/icancellablesummarizercontroller'>ICancellableSummarizerController</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>


## Property Details {#properties-details}

### enqueueSummarize {#enqueuesummarize-Property}

<b>Signature:</b>

```typescript
readonly enqueueSummarize: ISummarizer["enqueueSummarize"];
```

### handle {#handle-Property}

<b>Signature:</b>

```typescript
get handle(): IFluidHandle<this>;
```

### IFluidLoadable {#ifluidloadable-Property}

<b>Signature:</b>

```typescript
get IFluidLoadable(): this;
```

### ISummarizer {#isummarizer-Property}

<b>Signature:</b>

```typescript
get ISummarizer(): this;
```

### summarizeOnDemand {#summarizeondemand-Property}

<b>Signature:</b>

```typescript
readonly summarizeOnDemand: ISummarizer["summarizeOnDemand"];
```

### summaryCollection {#summarycollection-Property}

<b>Signature:</b>

```typescript
readonly summaryCollection: SummaryCollection;
```

## Method Details {#methods-details}

### close {#close-Method}

<b>Signature:</b>

```typescript
close(): void;
```

### create {#create-Method}

Creates a Summarizer and its underlying client. Note that different implementations of ILoader will handle the URL differently. ILoader provided by a ContainerRuntime is a RelativeLoader, which will treat URL's starting with "/" as relative to the Container. The general ILoader interface will expect an absolute URL and will not handle "/".

<b>Signature:</b>

```typescript
static create(loader: ILoader, url: string): Promise<ISummarizer>;
```

#### Parameters {#create-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>loader</td>
      <td>ILoader</td>
      <td>the loader that resolves the request</td>
    </tr>
    <tr>
      <td>url</td>
      <td>string</td>
      <td>the URL used to resolve the container</td>
    </tr>
  </tbody>
</table>

### dispose {#dispose-Method}

Disposes of resources after running. This cleanup will clear any outstanding timers and reset some of the state properties. Called by ContainerRuntime when it is disposed, as well as at the end the run().

<b>Signature:</b>

```typescript
dispose(): void;
```

### run {#run-Method}

<b>Signature:</b>

```typescript
run(onBehalfOf: string): Promise<SummarizerStopReason>;
```

#### Parameters {#run-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>onBehalfOf</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### stop {#stop-Method}

Stops the summarizer from running. This will complete the run promise, and also close the container.

<b>Signature:</b>

```typescript
stop(reason: SummarizerStopReason): void;
```

#### Parameters {#stop-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>reason</td>
      <td><a href='/docs/apis/container-runtime#summarizerstopreason-TypeAlias'>SummarizerStopReason</a></td>
      <td>reason code for stopping</td>
    </tr>
  </tbody>
</table>

### stopReasonCanRunLastSummary {#stopreasoncanrunlastsummary-Method}

Should we try to run a last summary for the given stop reason? Currently only allows "parentNotConnected"

<b>Signature:</b>

```typescript
static stopReasonCanRunLastSummary(stopReason: SummarizerStopReason): boolean;
```

#### Parameters {#stopreasoncanrunlastsummary-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>stopReason</td>
      <td><a href='/docs/apis/container-runtime#summarizerstopreason-TypeAlias'>SummarizerStopReason</a></td>
      <td>SummarizerStopReason</td>
    </tr>
  </tbody>
</table>

#### Returns {#stopreasoncanrunlastsummary-Method-returns}


- true if the stop reason can run a last summary

<b>Return type(s):</b> boolean


</div>
