{"kind":"Class","title":"OdspDriverUrlResolverForShareLink Class","summary":"Resolver to resolve urls like the ones created by createOdspUrl which is driver inner url format and the ones which have things like driveId, siteId, itemId etc encoded in nav param. This resolver also handles share links and try to generate one for the use by the app.","members":{"Constructor":{"(constructor)":"/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#_constructor_-Constructor"},"Method":{"appendDataStorePath":"/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#appenddatastorepath-Method","createDocumentUrl":"/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#createdocumenturl-Method","createNavParam":"/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#createnavparam-Method","getAbsoluteUrl":"/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#getabsoluteurl-Method","resolve":"/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#resolve-Method"}},"package":"@fluidframework/odsp-driver","unscopedPackageName":"odsp-driver"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/odsp-driver](/docs/apis/odsp-driver) &gt; [OdspDriverUrlResolverForShareLink](/docs/apis/odsp-driver/odspdriverurlresolverforsharelink)

Resolver to resolve urls like the ones created by createOdspUrl which is driver inner url format and the ones which have things like driveId, siteId, itemId etc encoded in nav param. This resolver also handles share links and try to generate one for the use by the app.

<b>Signature:</b>

```typescript
export declare class OdspDriverUrlResolverForShareLink implements IUrlResolver 
```
<b>Implements:</b> [IUrlResolver](/docs/apis/driver-definitions/iurlresolver)

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#_constructor_-Constructor'>(constructor)(shareLinkFetcherProps, logger, appName, getContext)</a></td>
      <td></td>
      <td>Creates url resolver instance</td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#appenddatastorepath-Method'>appendDataStorePath(requestUrl, pathToAppend)</a></td>
      <td></td>
      <td>Takes an already generated data store url (from requestUrl) and appends a path to the existing data store information.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#createdocumenturl-Method'>createDocumentUrl(baseUrl, driverInfo)</a></td>
      <td><code>static</code></td>
      <td>Crafts a supported document/driver URL</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#createnavparam-Method'>createNavParam(locator)</a></td>
      <td><code>static</code></td>
      <td>Crafts a supported data store nav param</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#getabsoluteurl-Method'>getAbsoluteUrl(resolvedUrl, dataStorePath, packageInfoSource)</a></td>
      <td></td>
      <td>Requests a driver + data store storage URL. Note that this method requires share link to be fetched and it will throw in case share link fetcher props were not specified when instance was created.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink#resolve-Method'>resolve(request)</a></td>
      <td></td>
      <td>Resolves request URL into driver details</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### OdspDriverUrlResolverForShareLink.(constructor) {#_constructor_-Constructor}

Creates url resolver instance

<b>Signature:</b>

```typescript
constructor(shareLinkFetcherProps?: ShareLinkFetcherProps | undefined, logger?: ITelemetryBaseLogger, appName?: string | undefined, getContext?: ((resolvedUrl: IOdspResolvedUrl, dataStorePath: string) => Promise<string | undefined>) | undefined);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>shareLinkFetcherProps</td>
      <td><a href='/docs/apis/odsp-driver/sharelinkfetcherprops'>ShareLinkFetcherProps</a> | undefined</td>
      <td>properties used when fetching share link. Can be set as 'undefined' for cases where share link is not needed. Currently, only getAbsoluteUrl() method requires share link.</td>
    </tr>
    <tr>
      <td>logger</td>
      <td><a href='/docs/apis/common-definitions/itelemetrybaselogger'>ITelemetryBaseLogger</a></td>
      <td>logger object that is used as telemetry sink</td>
    </tr>
    <tr>
      <td>appName</td>
      <td>string | undefined</td>
      <td>application name hint that is encoded with url produced by getAbsoluteUrl() method. This hint is used by link handling logic which determines which app to redirect to when user navigates directly to the link.</td>
    </tr>
    <tr>
      <td>getContext</td>
      <td>((resolvedUrl: <a href='/docs/apis/odsp-driver-definitions/iodspresolvedurl'>IOdspResolvedUrl</a>, dataStorePath: string) => Promise<string | undefined>) | undefined</td>
      <td>callback function which is used to get context for given resolved url. If context is returned then it will be embedded into url returned by getAbsoluteUrl() method.</td>
    </tr>
  </tbody>
</table>


## Method Details {#methods-details}

### appendDataStorePath {#appenddatastorepath-Method}

Takes an already generated data store url (from requestUrl) and appends a path to the existing data store information.

<b>Signature:</b>

```typescript
appendDataStorePath(requestUrl: URL, pathToAppend: string): string | undefined;
```

#### Parameters {#appenddatastorepath-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>requestUrl</td>
      <td>URL</td>
      <td></td>
    </tr>
    <tr>
      <td>pathToAppend</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### createDocumentUrl {#createdocumenturl-Method}

Crafts a supported document/driver URL

<b>Signature:</b>

```typescript
static createDocumentUrl(baseUrl: string, driverInfo: OdspFluidDataStoreLocator): string;
```

#### Parameters {#createdocumenturl-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>baseUrl</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>driverInfo</td>
      <td><a href='/docs/apis/odsp-driver/odspfluiddatastorelocator'>OdspFluidDataStoreLocator</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### createNavParam {#createnavparam-Method}

{{% callout warning Deprecated %}}
encodeOdspFluidDataStoreLocator should be used instead

{{% /callout %}}

Crafts a supported data store nav param

<b>Signature:</b>

```typescript
static createNavParam(locator: OdspFluidDataStoreLocator): string;
```

#### Parameters {#createnavparam-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>locator</td>
      <td><a href='/docs/apis/odsp-driver/odspfluiddatastorelocator'>OdspFluidDataStoreLocator</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### getAbsoluteUrl {#getabsoluteurl-Method}

Requests a driver + data store storage URL. Note that this method requires share link to be fetched and it will throw in case share link fetcher props were not specified when instance was created.

<b>Signature:</b>

```typescript
getAbsoluteUrl(resolvedUrl: IResolvedUrl, dataStorePath: string, packageInfoSource?: IContainerPackageInfo): Promise<string>;
```

#### Parameters {#getabsoluteurl-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>resolvedUrl</td>
      <td><a href='/docs/apis/driver-definitions#iresolvedurl-TypeAlias'>IResolvedUrl</a></td>
      <td>The driver resolved URL</td>
    </tr>
    <tr>
      <td>dataStorePath</td>
      <td>string</td>
      <td>The relative data store path URL. For requesting a driver URL, this value should always be '/'</td>
    </tr>
    <tr>
      <td>packageInfoSource</td>
      <td><a href='/docs/apis/driver-definitions/icontainerpackageinfo'>IContainerPackageInfo</a></td>
      <td>optional, represents container package information to be included in url.</td>
    </tr>
  </tbody>
</table>

### resolve {#resolve-Method}

Resolves request URL into driver details

<b>Signature:</b>

```typescript
resolve(request: IRequest): Promise<IOdspResolvedUrl>;
```

#### Parameters {#resolve-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>request</td>
      <td><a href='/docs/apis/core-interfaces/irequest'>IRequest</a></td>
      <td></td>
    </tr>
  </tbody>
</table>


</div>
