{"kind":"Interface","title":"ITokenProvider Interface","summary":"Abstracts the token fetching mechanism for a hosting application. The hosting application is responsible for providing an implementation.","members":{"MethodSignature":{"documentPostCreateCallback":"/docs/apis/routerlicious-driver/itokenprovider#documentpostcreatecallback-MethodSignature","fetchOrdererToken":"/docs/apis/routerlicious-driver/itokenprovider#fetchorderertoken-MethodSignature","fetchStorageToken":"/docs/apis/routerlicious-driver/itokenprovider#fetchstoragetoken-MethodSignature"}},"package":"@fluidframework/routerlicious-driver","unscopedPackageName":"routerlicious-driver"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/routerlicious-driver](/docs/apis/routerlicious-driver) &gt; [ITokenProvider](/docs/apis/routerlicious-driver/itokenprovider)

Abstracts the token fetching mechanism for a hosting application. The hosting application is responsible for providing an implementation.

<b>Signature:</b>

```typescript
export interface ITokenProvider 
```

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/routerlicious-driver/itokenprovider#documentpostcreatecallback-MethodSignature'>documentPostCreateCallback(documentId, creationToken)</a></td>
      <td>A callback triggered directly after creating the document. In this callback the client has the opportunity, to verify against an authorization service, if the user who claims to create the document is the same user who created it.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/routerlicious-driver/itokenprovider#fetchorderertoken-MethodSignature'>fetchOrdererToken(tenantId, documentId, refresh)</a></td>
      <td>Fetches the orderer token from host.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/routerlicious-driver/itokenprovider#fetchstoragetoken-MethodSignature'>fetchStorageToken(tenantId, documentId, refresh)</a></td>
      <td>Fetches the storage token from host.</td>
    </tr>
  </tbody>
</table>

<hr><div id=interface-details>

## Method Details {#methods-details}

### documentPostCreateCallback {#documentpostcreatecallback-MethodSignature}

A callback triggered directly after creating the document. In this callback the client has the opportunity, to verify against an authorization service, if the user who claims to create the document is the same user who created it.

<b>Signature:</b>

```typescript
documentPostCreateCallback?(documentId: string, creationToken: string): Promise<void>;
```

#### Parameters {#documentpostcreatecallback-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>documentId</td>
      <td>string</td>
      <td>Document ID.</td>
    </tr>
    <tr>
      <td>creationToken</td>
      <td>string</td>
      <td>A special token that doesn't provide any kind of access, but it has the user's payload and document id. It can be used to validate the identity of the document creator.</td>
    </tr>
  </tbody>
</table>

#### Remarks {#documentpostcreatecallback-MethodSignature-remarks}

Notes: \* Using the callback may have performance impact on the document creation process. \* Any exceptions thrown in the callback would fail the creation workflow (see [RouterliciousDocumentServiceFactory.createContainer()](/docs/apis/routerlicious-driver/routerliciousdocumentservicefactory#createcontainer-Method) for more details).

### fetchOrdererToken {#fetchorderertoken-MethodSignature}

Fetches the orderer token from host.

<b>Signature:</b>

```typescript
fetchOrdererToken(tenantId: string, documentId?: string, refresh?: boolean): Promise<ITokenResponse>;
```

#### Parameters {#fetchorderertoken-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tenantId</td>
      <td>string</td>
      <td>Tenant ID.</td>
    </tr>
    <tr>
      <td>documentId</td>
      <td>string</td>
      <td>Optional. Document ID is only required for document-scoped requests.</td>
    </tr>
    <tr>
      <td>refresh</td>
      <td>boolean</td>
      <td>Optional flag indicating whether token fetch must bypass local cache.</td>
    </tr>
  </tbody>
</table>

#### Returns {#fetchorderertoken-MethodSignature-returns}


TokenResponse object representing token value along with flag indicating whether token came from cache.

<b>Return type(s):</b> Promise&lt;[ITokenResponse](/docs/apis/azure-client/itokenresponse)<!-- -->&gt;

### fetchStorageToken {#fetchstoragetoken-MethodSignature}

Fetches the storage token from host.

<b>Signature:</b>

```typescript
fetchStorageToken(tenantId: string, documentId: string, refresh?: boolean): Promise<ITokenResponse>;
```

#### Parameters {#fetchstoragetoken-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tenantId</td>
      <td>string</td>
      <td>Tenant ID.</td>
    </tr>
    <tr>
      <td>documentId</td>
      <td>string</td>
      <td>Document ID.</td>
    </tr>
    <tr>
      <td>refresh</td>
      <td>boolean</td>
      <td>Optional flag indicating whether token fetch must bypass local cache.</td>
    </tr>
  </tbody>
</table>

#### Returns {#fetchstoragetoken-MethodSignature-returns}


TokenResponse object representing token value along with flag indicating whether token came from cache.

<b>Return type(s):</b> Promise&lt;[ITokenResponse](/docs/apis/azure-client/itokenresponse)<!-- -->&gt;


</div>
