{"kind":"Class","title":"SharedSegmentSequence Class","members":{"Constructor":{"(constructor)":"/docs/apis/sequence/sharedsegmentsequence#_constructor_-Constructor"},"Method":{"annotateRange":"/docs/apis/sequence/sharedsegmentsequence#annotaterange-Method","applyStashedOp":"/docs/apis/sequence/sharedsegmentsequence#applystashedop-Method","createLocalReferencePosition":"/docs/apis/sequence/sharedsegmentsequence#createlocalreferenceposition-Method","didAttach":"/docs/apis/sequence/sharedsegmentsequence#didattach-Method","getContainingSegment":"/docs/apis/sequence/sharedsegmentsequence#getcontainingsegment-Method","getCurrentSeq":"/docs/apis/sequence/sharedsegmentsequence#getcurrentseq-Method","getIntervalCollection":"/docs/apis/sequence/sharedsegmentsequence#getintervalcollection-Method","getIntervalCollectionLabels":"/docs/apis/sequence/sharedsegmentsequence#getintervalcollectionlabels-Method","getLength":"/docs/apis/sequence/sharedsegmentsequence#getlength-Method","getPosition":"/docs/apis/sequence/sharedsegmentsequence#getposition-Method","getPropertiesAtPosition":"/docs/apis/sequence/sharedsegmentsequence#getpropertiesatposition-Method","getRangeExtentsOfPosition":"/docs/apis/sequence/sharedsegmentsequence#getrangeextentsofposition-Method","groupOperation":"/docs/apis/sequence/sharedsegmentsequence#groupoperation-Method","initializeLocalCore":"/docs/apis/sequence/sharedsegmentsequence#initializelocalcore-Method","insertAtReferencePosition":"/docs/apis/sequence/sharedsegmentsequence#insertatreferenceposition-Method","loadCore":"/docs/apis/sequence/sharedsegmentsequence#loadcore-Method","localReferencePositionToPosition":"/docs/apis/sequence/sharedsegmentsequence#localreferencepositiontoposition-Method","onConnect":"/docs/apis/sequence/sharedsegmentsequence#onconnect-Method","onDisconnect":"/docs/apis/sequence/sharedsegmentsequence#ondisconnect-Method","posFromRelativePos":"/docs/apis/sequence/sharedsegmentsequence#posfromrelativepos-Method","processCore":"/docs/apis/sequence/sharedsegmentsequence#processcore-Method","processGCDataCore":"/docs/apis/sequence/sharedsegmentsequence#processgcdatacore-Method","removeLocalReferencePosition":"/docs/apis/sequence/sharedsegmentsequence#removelocalreferenceposition-Method","removeRange":"/docs/apis/sequence/sharedsegmentsequence#removerange-Method","replaceRange":"/docs/apis/sequence/sharedsegmentsequence#replacerange-Method","resolveRemoteClientPosition":"/docs/apis/sequence/sharedsegmentsequence#resolveremoteclientposition-Method","reSubmitCore":"/docs/apis/sequence/sharedsegmentsequence#resubmitcore-Method","submitSequenceMessage":"/docs/apis/sequence/sharedsegmentsequence#submitsequencemessage-Method","summarizeCore":"/docs/apis/sequence/sharedsegmentsequence#summarizecore-Method","waitIntervalCollection":"/docs/apis/sequence/sharedsegmentsequence#waitintervalcollection-Method","walkSegments":"/docs/apis/sequence/sharedsegmentsequence#walksegments-Method"},"Property":{"client":"/docs/apis/sequence/sharedsegmentsequence#client-Property","id":"/docs/apis/sequence/sharedsegmentsequence#id-Property","loaded":"/docs/apis/sequence/sharedsegmentsequence#loaded-Property","loadedDeferred":"/docs/apis/sequence/sharedsegmentsequence#loadeddeferred-Property","segmentFromSpec":"/docs/apis/sequence/sharedsegmentsequence#segmentfromspec-Property"}},"package":"@fluidframework/sequence","unscopedPackageName":"sequence"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/sequence](/docs/apis/sequence) &gt; [SharedSegmentSequence](/docs/apis/sequence/sharedsegmentsequence)

<b>Signature:</b>

```typescript
export declare abstract class SharedSegmentSequence<T extends ISegment> extends SharedObject<ISharedSegmentSequenceEvents> implements ISharedIntervalCollection<SequenceInterval> 
```
<b>Extends:</b> [SharedObject](/docs/apis/shared-object-base/sharedobject)<!-- -->&lt;[ISharedSegmentSequenceEvents](/docs/apis/sequence/isharedsegmentsequenceevents)

<b>Implements:</b> [ISharedIntervalCollection](/docs/apis/sequence/isharedintervalcollection)<!-- -->&lt;[SequenceInterval](/docs/apis/sequence/sequenceinterval)

<b>Type parameters:</b> 

<b>T</b> --

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#_constructor_-Constructor'>(constructor)(dataStoreRuntime, id, attributes, segmentFromSpec)</a></td>
      <td></td>
      <td>Constructs a new instance of the <code>SharedSegmentSequence</code> class</td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this class</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#client-Property'>client</a></td>
      <td></td>
      <td><a href='/docs/apis/merge-tree/client'>Client</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#id-Property'>id</a></td>
      <td></td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#loaded-Property'>loaded</a></td>
      <td></td>
      <td>Promise<void></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#loadeddeferred-Property'>loadedDeferred</a></td>
      <td></td>
      <td><a href='/docs/apis/common-utils/deferred'>Deferred</a><void></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#segmentfromspec-Property'>segmentFromSpec</a></td>
      <td></td>
      <td>(spec: <a href='/docs/apis/merge-tree/ijsonsegment'>IJSONSegment</a>) => <a href='/docs/apis/merge-tree/isegment'>ISegment</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#annotaterange-Method'>annotateRange(start, end, props, combiningOp)</a></td>
      <td></td>
      <td>Annotates the range with the provided properties</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#applystashedop-Method'>applyStashedOp(content)</a></td>
      <td></td>
      <td>Apply changes from an op. Used when rehydrating an attached container with pending changes. This prepares the SharedObject for seeing an ACK for the op or resubmitting the op upon reconnection.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#createlocalreferenceposition-Method'>createLocalReferencePosition(segment, offset, refType, properties)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#didattach-Method'>didAttach()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getcontainingsegment-Method'>getContainingSegment(pos)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getcurrentseq-Method'>getCurrentSeq()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getintervalcollection-Method'>getIntervalCollection(label)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getintervalcollectionlabels-Method'>getIntervalCollectionLabels()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getlength-Method'>getLength()</a></td>
      <td></td>
      <td>Returns the length of the current sequence for the client</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getposition-Method'>getPosition(segment)</a></td>
      <td></td>
      <td>Returns the current position of a segment, and -1 if the segment does not exist in this sequence</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getpropertiesatposition-Method'>getPropertiesAtPosition(pos)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#getrangeextentsofposition-Method'>getRangeExtentsOfPosition(pos)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#groupoperation-Method'>groupOperation(groupOp)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#initializelocalcore-Method'>initializeLocalCore()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#insertatreferenceposition-Method'>insertAtReferencePosition(pos, segment)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#loadcore-Method'>loadCore(storage)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#localreferencepositiontoposition-Method'>localReferencePositionToPosition(lref)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#onconnect-Method'>onConnect()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#ondisconnect-Method'>onDisconnect()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#posfromrelativepos-Method'>posFromRelativePos(relativePos)</a></td>
      <td></td>
      <td>Given a position specified relative to a marker id, lookup the marker and convert the position to a character position.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#processcore-Method'>processCore(message, local, localOpMetadata)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#processgcdatacore-Method'>processGCDataCore(serializer)</a></td>
      <td></td>
      <td>Runs serializer over the GC data for this SharedMatrix. All the IFluidHandle's represent routes to other objects.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#removelocalreferenceposition-Method'>removeLocalReferencePosition(lref)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#removerange-Method'>removeRange(start, end)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#replacerange-Method'>replaceRange(start, end, segment)</a></td>
      <td></td>
      <td>Replace the range specified from start to end with the provided segment This is done by inserting the segment at the end of the range, followed by removing the contents of the range For a zero or reverse range (start >= end), insert at end do not remove anything</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#resolveremoteclientposition-Method'>resolveRemoteClientPosition(remoteClientPosition, remoteClientRefSeq, remoteClientId)</a></td>
      <td></td>
      <td>Resolves a remote client's position against the local sequence and returns the remote client's position relative to the local sequence. The client ref seq must be above the minimum sequence number or the return value will be undefined. Generally this method is used in conjunction with signals which provide point in time values for the below parameters, and is useful for things like displaying user position. It should not be used with persisted values as persisted values will quickly become invalid as the remoteClientRefSeq moves below the minimum sequence number</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#resubmitcore-Method'>reSubmitCore(content, localOpMetadata)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#submitsequencemessage-Method'>submitSequenceMessage(message)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#summarizecore-Method'>summarizeCore(serializer, telemetryContext)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#waitintervalcollection-Method'>waitIntervalCollection(label)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/sequence/sharedsegmentsequence#walksegments-Method'>walkSegments(handler, start, end, accum, splitRange)</a></td>
      <td></td>
      <td>Walk the underlying segments of the sequence. The walked segments may extend beyond the range if the segments cross the ranges start or end boundaries. Set split range to true to ensure only segments within the range are walked.</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### SharedSegmentSequence.(constructor) {#_constructor_-Constructor}

Constructs a new instance of the `SharedSegmentSequence` class

<b>Signature:</b>

```typescript
constructor(dataStoreRuntime: IFluidDataStoreRuntime, id: string, attributes: IChannelAttributes, segmentFromSpec: (spec: IJSONSegment) => ISegment);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>dataStoreRuntime</td>
      <td><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime'>IFluidDataStoreRuntime</a></td>
      <td></td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>attributes</td>
      <td><a href='/docs/apis/datastore-definitions/ichannelattributes'>IChannelAttributes</a></td>
      <td></td>
    </tr>
    <tr>
      <td>segmentFromSpec</td>
      <td>(spec: <a href='/docs/apis/merge-tree/ijsonsegment'>IJSONSegment</a>) => <a href='/docs/apis/merge-tree/isegment'>ISegment</a></td>
      <td></td>
    </tr>
  </tbody>
</table>


## Property Details {#properties-details}

### client {#client-Property}

<b>Signature:</b>

```typescript
protected client: Client;
```

### id {#id-Property}

<b>Signature:</b>

```typescript
id: string;
```

### loaded {#loaded-Property}

<b>Signature:</b>

```typescript
get loaded(): Promise<void>;
```

### loadedDeferred {#loadeddeferred-Property}

<b>Signature:</b>

```typescript
protected loadedDeferred: Deferred<void>;
```

### segmentFromSpec {#segmentfromspec-Property}

<b>Signature:</b>

```typescript
readonly segmentFromSpec: (spec: IJSONSegment) => ISegment;
```

## Method Details {#methods-details}

### annotateRange {#annotaterange-Method}

Annotates the range with the provided properties

<b>Signature:</b>

```typescript
annotateRange(start: number, end: number, props: PropertySet, combiningOp?: ICombiningOp): void;
```

#### Parameters {#annotaterange-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>start</td>
      <td>number</td>
      <td>The inclusive start position of the range to annotate</td>
    </tr>
    <tr>
      <td>end</td>
      <td>number</td>
      <td>The exclusive end position of the range to annotate</td>
    </tr>
    <tr>
      <td>props</td>
      <td><a href='/docs/apis/merge-tree#propertyset-TypeAlias'>PropertySet</a></td>
      <td>The properties to annotate the range with</td>
    </tr>
    <tr>
      <td>combiningOp</td>
      <td><a href='/docs/apis/merge-tree/icombiningop'>ICombiningOp</a></td>
      <td>Optional. Specifies how to combine values for the property, such as "incr" for increment.</td>
    </tr>
  </tbody>
</table>

### applyStashedOp {#applystashedop-Method}

Apply changes from an op. Used when rehydrating an attached container with pending changes. This prepares the SharedObject for seeing an ACK for the op or resubmitting the op upon reconnection.

<b>Signature:</b>

```typescript
protected applyStashedOp(content: any): unknown;
```

#### Parameters {#applystashedop-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>content</td>
      <td>any</td>
      <td>Contents of a stashed op.</td>
    </tr>
  </tbody>
</table>

#### Returns {#applystashedop-Method-returns}


localMetadata of the op, to be passed to process() or resubmit() when the op is ACKed or resubmitted, respectively

<b>Return type(s):</b> unknown

### createLocalReferencePosition {#createlocalreferenceposition-Method}

<b>Signature:</b>

```typescript
createLocalReferencePosition(segment: T, offset: number, refType: ReferenceType, properties: PropertySet | undefined): LocalReferencePosition;
```

#### Parameters {#createlocalreferenceposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>segment</td>
      <td>T</td>
      <td></td>
    </tr>
    <tr>
      <td>offset</td>
      <td>number</td>
      <td></td>
    </tr>
    <tr>
      <td>refType</td>
      <td><a href='/docs/apis/merge-tree#referencetype-Enum'>ReferenceType</a></td>
      <td></td>
    </tr>
    <tr>
      <td>properties</td>
      <td><a href='/docs/apis/merge-tree#propertyset-TypeAlias'>PropertySet</a> | undefined</td>
      <td></td>
    </tr>
  </tbody>
</table>

### didAttach {#didattach-Method}

<b>Signature:</b>

```typescript
protected didAttach(): void;
```

### getContainingSegment {#getcontainingsegment-Method}

<b>Signature:</b>

```typescript
getContainingSegment(pos: number): {
        segment: T;
        offset: number;
    };
```

#### Parameters {#getcontainingsegment-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pos</td>
      <td>number</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getCurrentSeq {#getcurrentseq-Method}

<b>Signature:</b>

```typescript
getCurrentSeq(): number;
```

### getIntervalCollection {#getintervalcollection-Method}

<b>Signature:</b>

```typescript
getIntervalCollection(label: string): IntervalCollection<SequenceInterval>;
```

#### Parameters {#getintervalcollection-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>label</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getIntervalCollectionLabels {#getintervalcollectionlabels-Method}

<b>Signature:</b>

```typescript
getIntervalCollectionLabels(): IterableIterator<string>;
```

#### Returns {#getintervalcollectionlabels-Method-returns}


an iterable object that enumerates the IntervalCollection labels Usage: const iter = this.getIntervalCollectionKeys(); for (key of iter) const collection = this.getIntervalCollection(key); ...

<b>Return type(s):</b> IterableIterator&lt;string&gt;

### getLength {#getlength-Method}

Returns the length of the current sequence for the client

<b>Signature:</b>

```typescript
getLength(): number;
```

### getPosition {#getposition-Method}

Returns the current position of a segment, and -1 if the segment does not exist in this sequence

<b>Signature:</b>

```typescript
getPosition(segment: ISegment): number;
```

#### Parameters {#getposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>segment</td>
      <td><a href='/docs/apis/merge-tree/isegment'>ISegment</a></td>
      <td>The segment to get the position of</td>
    </tr>
  </tbody>
</table>

### getPropertiesAtPosition {#getpropertiesatposition-Method}

<b>Signature:</b>

```typescript
getPropertiesAtPosition(pos: number): PropertySet;
```

#### Parameters {#getpropertiesatposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pos</td>
      <td>number</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getRangeExtentsOfPosition {#getrangeextentsofposition-Method}

<b>Signature:</b>

```typescript
getRangeExtentsOfPosition(pos: number): {
        posStart: number;
        posAfterEnd: number;
    };
```

#### Parameters {#getrangeextentsofposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pos</td>
      <td>number</td>
      <td></td>
    </tr>
  </tbody>
</table>

### groupOperation {#groupoperation-Method}

<b>Signature:</b>

```typescript
groupOperation(groupOp: IMergeTreeGroupMsg): void;
```

#### Parameters {#groupoperation-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>groupOp</td>
      <td><a href='/docs/apis/merge-tree/imergetreegroupmsg'>IMergeTreeGroupMsg</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### initializeLocalCore {#initializelocalcore-Method}

<b>Signature:</b>

```typescript
protected initializeLocalCore(): void;
```

### insertAtReferencePosition {#insertatreferenceposition-Method}

<b>Signature:</b>

```typescript
insertAtReferencePosition(pos: ReferencePosition, segment: T): void;
```

#### Parameters {#insertatreferenceposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pos</td>
      <td><a href='/docs/apis/merge-tree/referenceposition'>ReferencePosition</a></td>
      <td></td>
    </tr>
    <tr>
      <td>segment</td>
      <td>T</td>
      <td></td>
    </tr>
  </tbody>
</table>

### loadCore {#loadcore-Method}


<b>Signature:</b>

```typescript
protected loadCore(storage: IChannelStorageService): Promise<void>;
```

#### Parameters {#loadcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>storage</td>
      <td><a href='/docs/apis/datastore-definitions/ichannelstorageservice'>IChannelStorageService</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### localReferencePositionToPosition {#localreferencepositiontoposition-Method}

<b>Signature:</b>

```typescript
localReferencePositionToPosition(lref: ReferencePosition): number;
```

#### Parameters {#localreferencepositiontoposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>lref</td>
      <td><a href='/docs/apis/merge-tree/referenceposition'>ReferencePosition</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### onConnect {#onconnect-Method}

<b>Signature:</b>

```typescript
protected onConnect(): void;
```

### onDisconnect {#ondisconnect-Method}

<b>Signature:</b>

```typescript
protected onDisconnect(): void;
```

### posFromRelativePos {#posfromrelativepos-Method}

Given a position specified relative to a marker id, lookup the marker and convert the position to a character position.

<b>Signature:</b>

```typescript
posFromRelativePos(relativePos: IRelativePosition): number;
```

#### Parameters {#posfromrelativepos-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>relativePos</td>
      <td><a href='/docs/apis/merge-tree/irelativeposition'>IRelativePosition</a></td>
      <td>Id of marker (may be indirect) and whether position is before or after marker.</td>
    </tr>
  </tbody>
</table>

### processCore {#processcore-Method}

<b>Signature:</b>

```typescript
protected processCore(message: ISequencedDocumentMessage, local: boolean, localOpMetadata: unknown): void;
```

#### Parameters {#processcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a></td>
      <td></td>
    </tr>
    <tr>
      <td>local</td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td></td>
    </tr>
  </tbody>
</table>

### processGCDataCore {#processgcdatacore-Method}

Runs serializer over the GC data for this SharedMatrix. All the IFluidHandle's represent routes to other objects.

<b>Signature:</b>

```typescript
protected processGCDataCore(serializer: SummarySerializer): void;
```

#### Parameters {#processgcdatacore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>serializer</td>
      <td><a href='/docs/apis/shared-object-base/summaryserializer'>SummarySerializer</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### removeLocalReferencePosition {#removelocalreferenceposition-Method}

<b>Signature:</b>

```typescript
removeLocalReferencePosition(lref: LocalReferencePosition): LocalReferencePosition;
```

#### Parameters {#removelocalreferenceposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>lref</td>
      <td><a href='/docs/apis/merge-tree/localreferenceposition'>LocalReferencePosition</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### removeRange {#removerange-Method}

<b>Signature:</b>

```typescript
removeRange(start: number, end: number): IMergeTreeRemoveMsg;
```

#### Parameters {#removerange-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>start</td>
      <td>number</td>
      <td>The inclusive start of the range to remove</td>
    </tr>
    <tr>
      <td>end</td>
      <td>number</td>
      <td>The exclusive end of the range to remove</td>
    </tr>
  </tbody>
</table>

### replaceRange {#replacerange-Method}

Replace the range specified from start to end with the provided segment This is done by inserting the segment at the end of the range, followed by removing the contents of the range For a zero or reverse range (start &gt;<!-- -->= end), insert at end do not remove anything

<b>Signature:</b>

```typescript
protected replaceRange(start: number, end: number, segment: ISegment): void;
```

#### Parameters {#replacerange-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>start</td>
      <td>number</td>
      <td>The start of the range to replace</td>
    </tr>
    <tr>
      <td>end</td>
      <td>number</td>
      <td>The end of the range to replace</td>
    </tr>
    <tr>
      <td>segment</td>
      <td><a href='/docs/apis/merge-tree/isegment'>ISegment</a></td>
      <td>The segment that will replace the range</td>
    </tr>
  </tbody>
</table>

### resolveRemoteClientPosition {#resolveremoteclientposition-Method}

Resolves a remote client's position against the local sequence and returns the remote client's position relative to the local sequence. The client ref seq must be above the minimum sequence number or the return value will be undefined. Generally this method is used in conjunction with signals which provide point in time values for the below parameters, and is useful for things like displaying user position. It should not be used with persisted values as persisted values will quickly become invalid as the remoteClientRefSeq moves below the minimum sequence number

<b>Signature:</b>

```typescript
resolveRemoteClientPosition(remoteClientPosition: number, remoteClientRefSeq: number, remoteClientId: string): number;
```

#### Parameters {#resolveremoteclientposition-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>remoteClientPosition</td>
      <td>number</td>
      <td>The remote client's position to resolve</td>
    </tr>
    <tr>
      <td>remoteClientRefSeq</td>
      <td>number</td>
      <td>The reference sequence number of the remote client</td>
    </tr>
    <tr>
      <td>remoteClientId</td>
      <td>string</td>
      <td>The client id of the remote client</td>
    </tr>
  </tbody>
</table>

### reSubmitCore {#resubmitcore-Method}

<b>Signature:</b>

```typescript
protected reSubmitCore(content: any, localOpMetadata: unknown): void;
```

#### Parameters {#resubmitcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>content</td>
      <td>any</td>
      <td></td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td></td>
    </tr>
  </tbody>
</table>

### submitSequenceMessage {#submitsequencemessage-Method}

<b>Signature:</b>

```typescript
submitSequenceMessage(message: IMergeTreeOp): void;
```

#### Parameters {#submitsequencemessage-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><a href='/docs/apis/merge-tree#imergetreeop-TypeAlias'>IMergeTreeOp</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### summarizeCore {#summarizecore-Method}

<b>Signature:</b>

```typescript
protected summarizeCore(serializer: IFluidSerializer, telemetryContext?: ITelemetryContext): ISummaryTreeWithStats;
```

#### Parameters {#summarizecore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>serializer</td>
      <td><a href='/docs/apis/shared-object-base/ifluidserializer'>IFluidSerializer</a></td>
      <td></td>
    </tr>
    <tr>
      <td>telemetryContext</td>
      <td><a href='/docs/apis/runtime-definitions/itelemetrycontext'>ITelemetryContext</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### waitIntervalCollection {#waitintervalcollection-Method}

{{% callout warning Deprecated %}}
- IntervalCollections are created on a first-write wins basis, and concurrent creates are supported. Use `getIntervalCollection` instead.

{{% /callout %}}

<b>Signature:</b>

```typescript
waitIntervalCollection(label: string): Promise<IntervalCollection<SequenceInterval>>;
```

#### Parameters {#waitintervalcollection-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>label</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### walkSegments {#walksegments-Method}

Walk the underlying segments of the sequence. The walked segments may extend beyond the range if the segments cross the ranges start or end boundaries. Set split range to true to ensure only segments within the range are walked.

<b>Signature:</b>

```typescript
walkSegments<TClientData>(handler: ISegmentAction<TClientData>, start?: number, end?: number, accum?: TClientData, splitRange?: boolean): void;
```

#### Parameters {#walksegments-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>handler</td>
      <td><a href='/docs/apis/merge-tree/isegmentaction'>ISegmentAction</a><TClientData></td>
      <td>The function to handle each segment</td>
    </tr>
    <tr>
      <td>start</td>
      <td>number</td>
      <td>Optional. The start of range walk.</td>
    </tr>
    <tr>
      <td>end</td>
      <td>number</td>
      <td>Optional. The end of range walk</td>
    </tr>
    <tr>
      <td>accum</td>
      <td>TClientData</td>
      <td>Optional. An object that will be passed to the handler for accumulation</td>
    </tr>
    <tr>
      <td>splitRange</td>
      <td>boolean</td>
      <td>Optional. Splits boundary segments on the range boundaries</td>
    </tr>
  </tbody>
</table>


</div>
