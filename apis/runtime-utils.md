{
  "title": "@fluidframework/runtime-utils Package",
  "kind": "Package",
  "members": {
    "Function": {
      "addBlobToSummary": "/docs/apis/runtime-utils#addblobtosummary-function",
      "addSummarizeResultToSummary": "/docs/apis/runtime-utils#addsummarizeresulttosummary-function",
      "addTreeToSummary": "/docs/apis/runtime-utils#addtreetosummary-function",
      "calculateStats": "/docs/apis/runtime-utils#calculatestats-function",
      "convertSnapshotTreeToSummaryTree": "/docs/apis/runtime-utils#convertsnapshottreetosummarytree-function",
      "convertSummaryTreeToITree": "/docs/apis/runtime-utils#convertsummarytreetoitree-function",
      "convertToSummaryTree": "/docs/apis/runtime-utils#converttosummarytree-function",
      "convertToSummaryTreeWithStats": "/docs/apis/runtime-utils#converttosummarytreewithstats-function",
      "createDataStoreFactory": "/docs/apis/runtime-utils#createdatastorefactory-function",
      "createResponseError": "/docs/apis/runtime-utils#createresponseerror-function",
      "exceptionToResponse": "/docs/apis/runtime-utils#exceptiontoresponse-function",
      "generateHandleContextPath": "/docs/apis/runtime-utils#generatehandlecontextpath-function",
      "getBlobSize": "/docs/apis/runtime-utils#getblobsize-function",
      "getNormalizedObjectStoragePathParts": "/docs/apis/runtime-utils#getnormalizedobjectstoragepathparts-function",
      "listBlobsAtTreePath": "/docs/apis/runtime-utils#listblobsattreepath-function",
      "mergeStats": "/docs/apis/runtime-utils#mergestats-function",
      "packagePathToTelemetryProperty": "/docs/apis/runtime-utils#packagepathtotelemetryproperty-function",
      "requestFluidObject": "/docs/apis/runtime-utils#requestfluidobject-function",
      "responseToException": "/docs/apis/runtime-utils#responsetoexception-function",
      "seqFromTree": "/docs/apis/runtime-utils#seqfromtree-function",
      "utf8ByteLength": "/docs/apis/runtime-utils#utf8bytelength-function"
    },
    "Variable": {
      "create404Response": "/docs/apis/runtime-utils#create404response-variable",
      "createRootSummarizerNode": "/docs/apis/runtime-utils#createrootsummarizernode-variable",
      "createRootSummarizerNodeWithGC": "/docs/apis/runtime-utils#createrootsummarizernodewithgc-variable"
    },
    "TypeAlias": {
      "Factory": "/docs/apis/runtime-utils#factory-typealias",
      "ReadAndParseBlob": "/docs/apis/runtime-utils#readandparseblob-typealias",
      "RefreshSummaryResult": "/docs/apis/runtime-utils#refreshsummaryresult-typealias"
    },
    "Interface": {
      "IFetchSnapshotResult": "/docs/apis/runtime-utils\\ifetchsnapshotresult-interface",
      "IRootSummarizerNode": "/docs/apis/runtime-utils\\irootsummarizernode-interface",
      "IRootSummarizerNodeWithGC": "/docs/apis/runtime-utils\\irootsummarizernodewithgc-interface",
      "ISummarizerNodeRootContract": "/docs/apis/runtime-utils\\isummarizernoderootcontract-interface"
    },
    "Class": {
      "ObjectStoragePartition": "/docs/apis/runtime-utils\\objectstoragepartition-class",
      "RequestParser": "/docs/apis/runtime-utils\\requestparser-class",
      "RuntimeFactoryHelper": "/docs/apis/runtime-utils\\runtimefactoryhelper-class",
      "SummaryTreeBuilder": "/docs/apis/runtime-utils\\summarytreebuilder-class",
      "TelemetryContext": "/docs/apis/runtime-utils\\telemetrycontext-class"
    }
  },
  "package": "@fluidframework/runtime-utils",
  "unscopedPackageName": "runtime-utils"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/runtime-utils](/docs/apis/runtime-utils)

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Interface
      </th>
      <th scope="col">
        Alerts
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\ifetchsnapshotresult-interface'>IFetchSnapshotResult</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        Result of snapshot fetch during refreshing latest summary state.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\irootsummarizernode-interface'>IRootSummarizerNode</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\irootsummarizernodewithgc-interface'>IRootSummarizerNodeWithGC</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\isummarizernoderootcontract-interface'>ISummarizerNodeRootContract</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Class
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\objectstoragepartition-class'>ObjectStoragePartition</a>
      </td>
      <td>
        Returns a new IChannelStorageService that resolves the given <code>path</code> as root.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\requestparser-class'>RequestParser</a>
      </td>
      <td>
        The Request Parser takes an IRequest provides parsing and sub request creation
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\runtimefactoryhelper-class'>RuntimeFactoryHelper</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\summarytreebuilder-class'>SummaryTreeBuilder</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils\telemetrycontext-class'>TelemetryContext</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        TypeAlias
      </th>
      <th scope="col">
        Alerts
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#factory-typealias'>Factory</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#readandparseblob-typealias'>ReadAndParseBlob</a>
      </td>
      <td>
      </td>
      <td>
        Reads a blob from storage and parses it from JSON.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#refreshsummaryresult-typealias'>RefreshSummaryResult</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        <p>Return type of refreshSummaryAck function. There can be three different scenarios based on the passed params:</p><p>1. The latest summary was not updated.</p><p>2. The latest summary was updated and the summary corresponding to the params was tracked by this client.</p><p>3. The latest summary was updated but the summary corresponding to the params was not tracked. In this case, the latest snapshot is fetched and the latest summary state is updated based on it.</p>
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Function
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#addblobtosummary-function'>addBlobToSummary</a>
      </td>
      <td>
        void
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#addsummarizeresulttosummary-function'>addSummarizeResultToSummary</a>
      </td>
      <td>
        void
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#addtreetosummary-function'>addTreeToSummary</a>
      </td>
      <td>
        void
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#calculatestats-function'>calculateStats</a>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarystats-interface'>ISummaryStats</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#convertsnapshottreetosummarytree-function'>convertSnapshotTreeToSummaryTree</a>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarytreewithstats-interface'>ISummaryTreeWithStats</a>
      </td>
      <td>
        Converts ISnapshotTree to ISummaryTree format and tracks stats. This snapshot tree was was taken by serialize api in detached container.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#convertsummarytreetoitree-function'>convertSummaryTreeToITree</a>
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\itree-interface'>ITree</a>
      </td>
      <td>
        Converts ISummaryTree to ITree format. This is needed for back-compat while we get rid of snapshot.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#converttosummarytree-function'>convertToSummaryTree</a>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarizeresult-interface'>ISummarizeResult</a>
      </td>
      <td>
        Converts snapshot ITree to ISummaryTree format and tracks stats.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#converttosummarytreewithstats-function'>convertToSummaryTreeWithStats</a>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarytreewithstats-interface'>ISummaryTreeWithStats</a>
      </td>
      <td>
        Converts snapshot ITree to ISummaryTree format and tracks stats.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#createdatastorefactory-function'>createDataStoreFactory</a>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\ifluiddatastorefactory-interface'>IFluidDataStoreFactory</a> & <a href='/docs/apis/runtime-definitions\ifluiddatastoreregistry-interface'>IFluidDataStoreRegistry</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#createresponseerror-function'>createResponseError</a>
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\iresponse-interface'>IResponse</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#exceptiontoresponse-function'>exceptionToResponse</a>
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\iresponse-interface'>IResponse</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#generatehandlecontextpath-function'>generateHandleContextPath</a>
      </td>
      <td>
        string
      </td>
      <td>
        Generates the absolute path for a Fluid object given its path and its parent routeContext.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#getblobsize-function'>getBlobSize</a>
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#getnormalizedobjectstoragepathparts-function'>getNormalizedObjectStoragePathParts</a>
      </td>
      <td>
        string[]
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#listblobsattreepath-function'>listBlobsAtTreePath</a>
      </td>
      <td>
        Promise<string[]>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#mergestats-function'>mergeStats</a>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarystats-interface'>ISummaryStats</a>
      </td>
      <td>
        Combines summary stats by adding their totals together. Returns empty stats if called without args.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#packagepathtotelemetryproperty-function'>packagePathToTelemetryProperty</a>
      </td>
      <td>
        <a href='/docs/apis/common-definitions\itaggedtelemetrypropertytype-interface'>ITaggedTelemetryPropertyType</a> | undefined
      </td>
      <td>
        Takes a set of packages and joins them pkg1/pkg2... etc. Tags the field as a code artifact
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#requestfluidobject-function'>requestFluidObject</a>
      </td>
      <td>
        Promise<T>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#responsetoexception-function'>responseToException</a>
      </td>
      <td>
        Error
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#seqfromtree-function'>seqFromTree</a>
      </td>
      <td>
        Promise<number>
      </td>
      <td>
        Fetches the sequence number of the snapshot tree by examining the protocol.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#utf8bytelength-function'>utf8ByteLength</a>
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Variables

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Variable
      </th>
      <th scope="col">
        Alerts
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#create404response-variable'>create404Response</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#createrootsummarizernode-variable'>createRootSummarizerNode</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        Creates a root summarizer node.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-utils#createrootsummarizernodewithgc-variable'>createRootSummarizerNodeWithGC</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        Creates a root summarizer node with GC functionality built-in.
      </td>
    </tr>
  </tbody>
</table>

## Type Details

### Factory {#factory-typealias}

#### Signature {#factory-signature}

```typescript
export declare type Factory = IFluidDataStoreFactory & Partial<IProvideFluidDataStoreRegistry>;
```

### ReadAndParseBlob {#readandparseblob-typealias}

Reads a blob from storage and parses it from JSON.

#### Signature {#readandparseblob-signature}

```typescript
export declare type ReadAndParseBlob = <T>(id: string) => Promise<T>;
```

### RefreshSummaryResult {#refreshsummaryresult-typealias}

{{% callout Warning Deprecated %}}
Internal implementation detail and will no longer be exported in an upcoming release.


{{% /callout %}}

Return type of refreshSummaryAck function. There can be three different scenarios based on the passed params:

1. The latest summary was not updated.

2. The latest summary was updated and the summary corresponding to the params was tracked by this client.

3. The latest summary was updated but the summary corresponding to the params was not tracked. In this case, the latest snapshot is fetched and the latest summary state is updated based on it.

#### Signature {#refreshsummaryresult-signature}

```typescript
export declare type RefreshSummaryResult = {
    latestSummaryUpdated: false;
} | {
    latestSummaryUpdated: true;
    wasSummaryTracked: true;
    summaryRefSeq: number;
} | {
    latestSummaryUpdated: true;
    wasSummaryTracked: false;
    snapshotTree: ISnapshotTree;
    summaryRefSeq: number;
};
```

## Function Details

### addBlobToSummary {#addblobtosummary-function}

#### Signature {#addblobtosummary-signature}

```typescript
export declare function addBlobToSummary(summary: ISummaryTreeWithStats, key: string, content: string | Uint8Array): void;
```

#### Parameters {#addblobtosummary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summary
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarytreewithstats-interface'>ISummaryTreeWithStats</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        key
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        content
      </td>
      <td>
        string | Uint8Array
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### addSummarizeResultToSummary {#addsummarizeresulttosummary-function}

#### Signature {#addsummarizeresulttosummary-signature}

```typescript
export declare function addSummarizeResultToSummary(summary: ISummaryTreeWithStats, key: string, summarizeResult: ISummarizeResult): void;
```

#### Parameters {#addsummarizeresulttosummary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summary
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarytreewithstats-interface'>ISummaryTreeWithStats</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        key
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        summarizeResult
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarizeresult-interface'>ISummarizeResult</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### addTreeToSummary {#addtreetosummary-function}

#### Signature {#addtreetosummary-signature}

```typescript
export declare function addTreeToSummary(summary: ISummaryTreeWithStats, key: string, summarizeResult: ISummarizeResult): void;
```

#### Parameters {#addtreetosummary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summary
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarytreewithstats-interface'>ISummaryTreeWithStats</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        key
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        summarizeResult
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarizeresult-interface'>ISummarizeResult</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### calculateStats {#calculatestats-function}

#### Signature {#calculatestats-signature}

```typescript
export declare function calculateStats(summary: SummaryObject): ISummaryStats;
```

#### Parameters {#calculatestats-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summary
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions#summaryobject-typealias'>SummaryObject</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#calculatestats-returns}

<b>Return type:</b> [ISummaryStats](/docs/apis/runtime-definitions\isummarystats-interface)

### convertSnapshotTreeToSummaryTree {#convertsnapshottreetosummarytree-function}

Converts ISnapshotTree to ISummaryTree format and tracks stats. This snapshot tree was was taken by serialize api in detached container.

#### Signature {#convertsnapshottreetosummarytree-signature}

```typescript
export declare function convertSnapshotTreeToSummaryTree(snapshot: ISnapshotTree): ISummaryTreeWithStats;
```

#### Parameters {#convertsnapshottreetosummarytree-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        snapshot
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\isnapshottree-interface'>ISnapshotTree</a>
      </td>
      <td>
        snapshot in ISnapshotTree format
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#convertsnapshottreetosummarytree-returns}

<b>Return type:</b> [ISummaryTreeWithStats](/docs/apis/runtime-definitions\isummarytreewithstats-interface)

### convertSummaryTreeToITree {#convertsummarytreetoitree-function}

Converts ISummaryTree to ITree format. This is needed for back-compat while we get rid of snapshot.

#### Signature {#convertsummarytreetoitree-signature}

```typescript
export declare function convertSummaryTreeToITree(summaryTree: ISummaryTree): ITree;
```

#### Parameters {#convertsummarytreetoitree-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summaryTree
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\isummarytree-interface'>ISummaryTree</a>
      </td>
      <td>
        summary tree in ISummaryTree format
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#convertsummarytreetoitree-returns}

<b>Return type:</b> [ITree](/docs/apis/protocol-definitions\itree-interface)

### convertToSummaryTree {#converttosummarytree-function}

Converts snapshot ITree to ISummaryTree format and tracks stats.

#### Signature {#converttosummarytree-signature}

```typescript
export declare function convertToSummaryTree(snapshot: ITree, fullTree?: boolean): ISummarizeResult;
```

#### Parameters {#converttosummarytree-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        snapshot
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\itree-interface'>ITree</a>
      </td>
      <td>
        snapshot in ITree format
      </td>
    </tr>
    <tr>
      <td>
        fullTree
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
        true to never use handles, even if id is specified
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#converttosummarytree-returns}

<b>Return type:</b> [ISummarizeResult](/docs/apis/runtime-definitions\isummarizeresult-interface)

### convertToSummaryTreeWithStats {#converttosummarytreewithstats-function}

Converts snapshot ITree to ISummaryTree format and tracks stats.

#### Signature {#converttosummarytreewithstats-signature}

```typescript
export declare function convertToSummaryTreeWithStats(snapshot: ITree, fullTree?: boolean): ISummaryTreeWithStats;
```

#### Parameters {#converttosummarytreewithstats-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        snapshot
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\itree-interface'>ITree</a>
      </td>
      <td>
        snapshot in ITree format
      </td>
    </tr>
    <tr>
      <td>
        fullTree
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
        true to never use handles, even if id is specified
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#converttosummarytreewithstats-returns}

<b>Return type:</b> [ISummaryTreeWithStats](/docs/apis/runtime-definitions\isummarytreewithstats-interface)

### createDataStoreFactory {#createdatastorefactory-function}

#### Signature {#createdatastorefactory-signature}

```typescript
export declare function createDataStoreFactory(type: string, factory: Factory | Promise<Factory>): IFluidDataStoreFactory & IFluidDataStoreRegistry;
```

#### Parameters {#createdatastorefactory-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        type
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        factory
      </td>
      <td>
        <a href='/docs/apis/runtime-utils#factory-typealias'>Factory</a> | Promise<<a href='/docs/apis/runtime-utils#factory-typealias'>Factory</a>>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createdatastorefactory-returns}

<b>Return type:</b> [IFluidDataStoreFactory](/docs/apis/runtime-definitions\ifluiddatastorefactory-interface) &amp; [IFluidDataStoreRegistry](/docs/apis/runtime-definitions\ifluiddatastoreregistry-interface)

### createResponseError {#createresponseerror-function}

#### Signature {#createresponseerror-signature}

```typescript
export declare function createResponseError(status: number, value: string, request: IRequest, headers?: {
    [key: string]: any;
}): IResponse;
```

#### Parameters {#createresponseerror-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        status
      </td>
      <td>
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        value
      </td>
      <td>
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        request
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\irequest-interface'>IRequest</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        headers
      </td>
      <td>
        optional
      </td>
      <td>
        { [key: string]: any; }
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createresponseerror-returns}

<b>Return type:</b> [IResponse](/docs/apis/core-interfaces\iresponse-interface)

### exceptionToResponse {#exceptiontoresponse-function}

#### Signature {#exceptiontoresponse-signature}

```typescript
export declare function exceptionToResponse(err: any): IResponse;
```

#### Parameters {#exceptiontoresponse-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        err
      </td>
      <td>
        any
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#exceptiontoresponse-returns}

<b>Return type:</b> [IResponse](/docs/apis/core-interfaces\iresponse-interface)

### generateHandleContextPath {#generatehandlecontextpath-function}

Generates the absolute path for a Fluid object given its path and its parent routeContext.

#### Signature {#generatehandlecontextpath-signature}

```typescript
export declare function generateHandleContextPath(path: string, routeContext?: IFluidHandleContext): string;
```

#### Parameters {#generatehandlecontextpath-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        path
      </td>
      <td>
      </td>
      <td>
        string
      </td>
      <td>
        The path to the Fluid object relative to the route context.
      </td>
    </tr>
    <tr>
      <td>
        routeContext
      </td>
      <td>
        optional
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\ifluidhandlecontext-interface'>IFluidHandleContext</a>
      </td>
      <td>
        The route context that contains the Fluid object.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#generatehandlecontextpath-returns}

The absolute path to the Fluid object from the root of the Container.

<b>Return type:</b> string

### getBlobSize {#getblobsize-function}

#### Signature {#getblobsize-signature}

```typescript
export declare function getBlobSize(content: ISummaryBlob["content"]): number;
```

#### Parameters {#getblobsize-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        content
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\isummaryblob-interface'>ISummaryBlob</a>["content"]
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getblobsize-returns}

<b>Return type:</b> number

### getNormalizedObjectStoragePathParts {#getnormalizedobjectstoragepathparts-function}

#### Signature {#getnormalizedobjectstoragepathparts-signature}

```typescript
export declare function getNormalizedObjectStoragePathParts(path: string): string[];
```

#### Parameters {#getnormalizedobjectstoragepathparts-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        path
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getnormalizedobjectstoragepathparts-returns}

<b>Return type:</b> string\[\]

### listBlobsAtTreePath {#listblobsattreepath-function}

#### Signature {#listblobsattreepath-signature}

```typescript
export declare function listBlobsAtTreePath(inputTree: ITree | undefined, path: string): Promise<string[]>;
```

#### Parameters {#listblobsattreepath-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        inputTree
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\itree-interface'>ITree</a> | undefined
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        path
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#listblobsattreepath-returns}

<b>Return type:</b> Promise&lt;string\[\]&gt;

### mergeStats {#mergestats-function}

Combines summary stats by adding their totals together. Returns empty stats if called without args.

#### Signature {#mergestats-signature}

```typescript
export declare function mergeStats(...stats: ISummaryStats[]): ISummaryStats;
```

#### Parameters {#mergestats-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        stats
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions\isummarystats-interface'>ISummaryStats</a>[]
      </td>
      <td>
        stats to merge
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#mergestats-returns}

<b>Return type:</b> [ISummaryStats](/docs/apis/runtime-definitions\isummarystats-interface)

### packagePathToTelemetryProperty {#packagepathtotelemetryproperty-function}

Takes a set of packages and joins them pkg1/pkg2... etc. Tags the field as a code artifact

#### Signature {#packagepathtotelemetryproperty-signature}

```typescript
export declare function packagePathToTelemetryProperty(packagePath: readonly string[] | undefined): ITaggedTelemetryPropertyType | undefined;
```

#### Parameters {#packagepathtotelemetryproperty-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        packagePath
      </td>
      <td>
        readonly string[] | undefined
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#packagepathtotelemetryproperty-returns}

<b>Return type:</b> [ITaggedTelemetryPropertyType](/docs/apis/common-definitions\itaggedtelemetrypropertytype-interface) \| undefined

### requestFluidObject {#requestfluidobject-function}

#### Signature {#requestfluidobject-signature}

```typescript
export declare function requestFluidObject<T = FluidObject>(router: IFluidRouter, url: string | IRequest): Promise<T>;
```

#### Parameters {#requestfluidobject-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        router
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\ifluidrouter-interface'>IFluidRouter</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        url
      </td>
      <td>
        string | <a href='/docs/apis/core-interfaces\irequest-interface'>IRequest</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#requestfluidobject-returns}

<b>Return type:</b> Promise&lt;T&gt;

### responseToException {#responsetoexception-function}

#### Signature {#responsetoexception-signature}

```typescript
export declare function responseToException(response: IResponse, request: IRequest): Error;
```

#### Parameters {#responsetoexception-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        response
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\iresponse-interface'>IResponse</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        request
      </td>
      <td>
        <a href='/docs/apis/core-interfaces\irequest-interface'>IRequest</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#responsetoexception-returns}

<b>Return type:</b> Error

### seqFromTree {#seqfromtree-function}

Fetches the sequence number of the snapshot tree by examining the protocol.

#### Signature {#seqfromtree-signature}

```typescript
export declare function seqFromTree(tree: ISnapshotTree, readAndParseBlob: ReadAndParseBlob): Promise<number>;
```

#### Parameters {#seqfromtree-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        tree
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\isnapshottree-interface'>ISnapshotTree</a>
      </td>
      <td>
        snapshot tree to examine
      </td>
    </tr>
    <tr>
      <td>
        readAndParseBlob
      </td>
      <td>
        <a href='/docs/apis/runtime-utils#readandparseblob-typealias'>ReadAndParseBlob</a>
      </td>
      <td>
        function to read blob contents from storage and parse the result from JSON.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#seqfromtree-returns}

<b>Return type:</b> Promise&lt;number&gt;

### utf8ByteLength {#utf8bytelength-function}

#### Signature {#utf8bytelength-signature}

```typescript
export declare function utf8ByteLength(str: string): number;
```

#### Parameters {#utf8bytelength-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        str
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#utf8bytelength-returns}

<b>Return type:</b> number

## Variable Details

### create404Response {#create404response-variable}

#### Signature {#create404response-signature}

```typescript
create404Response: (request: IRequest) => IResponse
```

### createRootSummarizerNode {#createrootsummarizernode-variable}

{{% callout Warning Deprecated %}}
Internal implementation detail and will no longer be exported in an upcoming release.


{{% /callout %}}

Creates a root summarizer node.

#### Signature {#createrootsummarizernode-signature}

```typescript
createRootSummarizerNode: (logger: ITelemetryLogger, summarizeInternalFn: SummarizeInternalFn, changeSequenceNumber: number, referenceSequenceNumber: number | undefined, config?: ISummarizerNodeConfig) => IRootSummarizerNode
```

### createRootSummarizerNodeWithGC {#createrootsummarizernodewithgc-variable}

{{% callout Warning Deprecated %}}
Internal implementation detail and will no longer be exported in an upcoming release.


{{% /callout %}}

Creates a root summarizer node with GC functionality built-in.

#### Signature {#createrootsummarizernodewithgc-signature}

```typescript
createRootSummarizerNodeWithGC: (logger: ITelemetryLogger, summarizeInternalFn: SummarizeInternalFn, changeSequenceNumber: number, referenceSequenceNumber: number | undefined, config?: ISummarizerNodeConfigWithGC, getGCDataFn?: ((fullGC?: boolean | undefined) => Promise<IGarbageCollectionData>) | undefined, getBaseGCDetailsFn?: (() => Promise<IGarbageCollectionDetailsBase>) | undefined) => IRootSummarizerNodeWithGC
```