{"kind":"Package","title":"@fluidframework/runtime-definitions Package","members":{"TypeAlias":{"AliasResult":"/docs/apis/runtime-definitions#aliasresult-TypeAlias","CreateChildSummarizerNodeFn":"/docs/apis/runtime-definitions#createchildsummarizernodefn-TypeAlias","CreateChildSummarizerNodeParam":"/docs/apis/runtime-definitions#createchildsummarizernodeparam-TypeAlias","FluidDataStoreRegistryEntry":"/docs/apis/runtime-definitions#fluiddatastoreregistryentry-TypeAlias","IGarbageCollectionSummaryDetails":"/docs/apis/runtime-definitions#igarbagecollectionsummarydetails-TypeAlias","InboundAttachMessage":"/docs/apis/runtime-definitions#inboundattachmessage-TypeAlias","NamedFluidDataStoreRegistryEntries":"/docs/apis/runtime-definitions#namedfluiddatastoreregistryentries-TypeAlias","NamedFluidDataStoreRegistryEntry":"/docs/apis/runtime-definitions#namedfluiddatastoreregistryentry-TypeAlias","SummarizeInternalFn":"/docs/apis/runtime-definitions#summarizeinternalfn-TypeAlias","VisibilityState_2":"/docs/apis/runtime-definitions#visibilitystate_2-TypeAlias"},"Variable":{"blobCountPropertyName":"/docs/apis/runtime-definitions#blobcountpropertyname-Variable","channelsTreeName":"/docs/apis/runtime-definitions#channelstreename-Variable","gcBlobKey":"/docs/apis/runtime-definitions#gcblobkey-Variable","IFluidDataStoreFactory":"/docs/apis/runtime-definitions#ifluiddatastorefactory-Variable","IFluidDataStoreRegistry":"/docs/apis/runtime-definitions#ifluiddatastoreregistry-Variable","totalBlobSizePropertyName":"/docs/apis/runtime-definitions#totalblobsizepropertyname-Variable","VisibilityState_2":"/docs/apis/runtime-definitions#visibilitystate_2-Variable"},"Enum":{"CreateSummarizerNodeSource":"/docs/apis/runtime-definitions#createsummarizernodesource-Enum","FlushMode":"/docs/apis/runtime-definitions#flushmode-Enum"},"Interface":{"IAttachMessage":"/docs/apis/runtime-definitions/iattachmessage","IContainerRuntimeBase":"/docs/apis/runtime-definitions/icontainerruntimebase","IContainerRuntimeBaseEvents":"/docs/apis/runtime-definitions/icontainerruntimebaseevents","IDataStore":"/docs/apis/runtime-definitions/idatastore","IEnvelope":"/docs/apis/runtime-definitions/ienvelope","IFluidDataStoreChannel":"/docs/apis/runtime-definitions/ifluiddatastorechannel","IFluidDataStoreContext":"/docs/apis/runtime-definitions/ifluiddatastorecontext","IFluidDataStoreContextDetached":"/docs/apis/runtime-definitions/ifluiddatastorecontextdetached","IFluidDataStoreContextEvents":"/docs/apis/runtime-definitions/ifluiddatastorecontextevents","IFluidDataStoreFactory":"/docs/apis/runtime-definitions/ifluiddatastorefactory","IFluidDataStoreRegistry":"/docs/apis/runtime-definitions/ifluiddatastoreregistry","IGarbageCollectionData":"/docs/apis/runtime-definitions/igarbagecollectiondata","IGarbageCollectionDetailsBase":"/docs/apis/runtime-definitions/igarbagecollectiondetailsbase","IGarbageCollectionNodeData":"/docs/apis/runtime-definitions/igarbagecollectionnodedata","IGarbageCollectionState":"/docs/apis/runtime-definitions/igarbagecollectionstate","IInboundSignalMessage":"/docs/apis/runtime-definitions/iinboundsignalmessage","IProvideFluidDataStoreFactory":"/docs/apis/runtime-definitions/iprovidefluiddatastorefactory","IProvideFluidDataStoreRegistry":"/docs/apis/runtime-definitions/iprovidefluiddatastoreregistry","ISignalEnvelope":"/docs/apis/runtime-definitions/isignalenvelope","ISummarizeInternalResult":"/docs/apis/runtime-definitions/isummarizeinternalresult","ISummarizeResult":"/docs/apis/runtime-definitions/isummarizeresult","ISummarizerNode":"/docs/apis/runtime-definitions/isummarizernode","ISummarizerNodeConfig":"/docs/apis/runtime-definitions/isummarizernodeconfig","ISummarizerNodeConfigWithGC":"/docs/apis/runtime-definitions/isummarizernodeconfigwithgc","ISummarizerNodeWithGC":"/docs/apis/runtime-definitions/isummarizernodewithgc","ISummaryStats":"/docs/apis/runtime-definitions/isummarystats","ISummaryTreeWithStats":"/docs/apis/runtime-definitions/isummarytreewithstats","ITelemetryContext":"/docs/apis/runtime-definitions/itelemetrycontext"}},"package":"@fluidframework/runtime-definitions","unscopedPackageName":"runtime-definitions"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/runtime-definitions](/docs/apis/runtime-definitions)

## Enumerations

<table class="table table-striped table-hover enum-list">
<caption>List of enums contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Enumeration</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#createsummarizernodesource-Enum'>CreateSummarizerNodeSource</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#flushmode-Enum'>FlushMode</a></td>
      <td>Runtime flush mode handling</td>
    </tr>
  </tbody>
</table>

## Interfaces

<table class="table table-striped table-hover interface-list">
<caption>List of interfaces contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Interface</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/iattachmessage'>IAttachMessage</a></td>
      <td>Message send by client attaching local data structure. Contains snapshot of data structure which is the current state of this data structure.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/icontainerruntimebase'>IContainerRuntimeBase</a></td>
      <td>A reduced set of functionality of IContainerRuntime that a data store context/data store runtime will need TODO: this should be merged into IFluidDataStoreContext</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/icontainerruntimebaseevents'>IContainerRuntimeBaseEvents</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/idatastore'>IDataStore</a></td>
      <td>A fluid router with the capability of being assigned an alias</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ienvelope'>IEnvelope</a></td>
      <td>An envelope wraps the contents with the intended target</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorechannel'>IFluidDataStoreChannel</a></td>
      <td>Minimal interface a data store runtime need to provide for IFluidDataStoreContext to bind to control<!-- -->Functionality include attach, snapshot, op/signal processing, request routes, and connection state notifications</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext'>IFluidDataStoreContext</a></td>
      <td>Represents the context for the data store. It is used by the data store runtime to get information and call functionality to the container.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorecontextdetached'>IFluidDataStoreContextDetached</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorecontextevents'>IFluidDataStoreContextEvents</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorefactory'>IFluidDataStoreFactory</a></td>
      <td>IFluidDataStoreFactory create data stores. It is associated with an identifier (its <code>type</code> member) and usually provided to consumers using this mapping through a data store registry.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastoreregistry'>IFluidDataStoreRegistry</a></td>
      <td>An association of identifiers to data store registry entries, where the entries can be used to create data stores.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/igarbagecollectiondata'>IGarbageCollectionData</a></td>
      <td>Garbage collection data returned by nodes in a Container. Used for running GC in the Container.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/igarbagecollectiondetailsbase'>IGarbageCollectionDetailsBase</a></td>
      <td>GC details provided to each node during creation.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/igarbagecollectionnodedata'>IGarbageCollectionNodeData</a></td>
      <td>The garbage collection data of each node in the reference graph.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/igarbagecollectionstate'>IGarbageCollectionState</a></td>
      <td>The garbage collection state of the reference graph. It contains a list of all the nodes in the graph and their GC data.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/iinboundsignalmessage'>IInboundSignalMessage</a></td>
      <td>Represents ISignalMessage with its type.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/iprovidefluiddatastorefactory'>IProvideFluidDataStoreFactory</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/iprovidefluiddatastoreregistry'>IProvideFluidDataStoreRegistry</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isignalenvelope'>ISignalEnvelope</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizeinternalresult'>ISummarizeInternalResult</a></td>
      <td>Contains the same data as ISummaryResult but in order to avoid naming collisions, the data store summaries are wrapped around an array of labels identified by pathPartsForChildren.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizeresult'>ISummarizeResult</a></td>
      <td>Represents a summary at a current sequence number.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernode'>ISummarizerNode</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodeconfig'>ISummarizerNodeConfig</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodeconfigwithgc'>ISummarizerNodeConfigWithGC</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarizernodewithgc'>ISummarizerNodeWithGC</a></td>
      <td>Extends the functionality of ISummarizerNode to support garbage collection. It adds / updates the following APIs: - usedRoutes - The routes in this node that are currently in use. - getGCData - A new API that can be used to get the garbage collection data for this node. - summarize - Added a trackState flag which indicates whether the summarizer node should track the state of the summary or not. - createChild - Added the following params: - getGCDataFn - This gets the GC data from the caller. This must be provided in order for getGCData to work. - getInitialGCDetailsFn - This gets the initial GC details from the caller. - deleteChild - Deletes a child node. - isReferenced - This tells whether this node is referenced in the document or not. - updateUsedRoutes - Used to notify this node of routes that are currently in use in it.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarystats'>ISummaryStats</a></td>
      <td>Contains the aggregation data from a Tree/Subtree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/isummarytreewithstats'>ISummaryTreeWithStats</a></td>
      <td>Represents the summary tree for a node along with the statistics for that tree. For example, for a given data store, it contains the data for data store along with a subtree for each of its DDS. Any component that implements IChannelContext, IFluidDataStoreChannel or extends SharedObject will be taking part of the summarization process.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions/itelemetrycontext'>ITelemetryContext</a></td>
      <td>Contains telemetry data relevant to summarization workflows. This object is expected to be modified directly by various summarize methods.</td>
    </tr>
  </tbody>
</table>

## Variables

<table class="table table-striped table-hover variable-list">
<caption>List of variables contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Variable</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#blobcountpropertyname-Variable'>blobCountPropertyName</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#channelstreename-Variable'>channelsTreeName</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#gcblobkey-Variable'>gcBlobKey</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#ifluiddatastorefactory-Variable'>IFluidDataStoreFactory</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#ifluiddatastoreregistry-Variable'>IFluidDataStoreRegistry</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#totalblobsizepropertyname-Variable'>totalBlobSizePropertyName</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#visibilitystate_2-Variable'>VisibilityState_2</a></td>
      <td>This tells the visibility state of a Fluid object. It basically tracks whether the object is not visible, visible locally within the container only or visible globally to all clients.</td>
    </tr>
  </tbody>
</table>

## Type Aliases

<table class="table table-striped table-hover alias-list">
<caption>List of type aliases contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Type Alias</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#aliasresult-TypeAlias'>AliasResult</a></td>
      <td>Encapsulates the return codes of the aliasing API.<!-- -->'Success' - the datastore has been successfully aliased. It can now be used. 'Conflict' - there is already a datastore bound to the provided alias. To acquire a handle to it, use the <code>IContainerRuntime.getRootDataStore</code> function. The current datastore should be discarded and will be garbage collected. The current datastore cannot be aliased to a different value. 'AlreadyAliased' - the datastore has already been previously bound to another alias name.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#createchildsummarizernodefn-TypeAlias'>CreateChildSummarizerNodeFn</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#createchildsummarizernodeparam-TypeAlias'>CreateChildSummarizerNodeParam</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#fluiddatastoreregistryentry-TypeAlias'>FluidDataStoreRegistryEntry</a></td>
      <td>A single registry entry that may be used to create data stores It has to have either factory or registry, or both.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#igarbagecollectionsummarydetails-TypeAlias'>IGarbageCollectionSummaryDetails</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#inboundattachmessage-TypeAlias'>InboundAttachMessage</a></td>
      <td>This type should be used when reading an incoming attach op, but it should not be used when creating a new attach op. Older versions of attach messages could have null snapshots, so this gives correct typings for writing backward compatible code.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#namedfluiddatastoreregistryentries-TypeAlias'>NamedFluidDataStoreRegistryEntries</a></td>
      <td>An iterable identifier/registry entry pair list</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#namedfluiddatastoreregistryentry-TypeAlias'>NamedFluidDataStoreRegistryEntry</a></td>
      <td>An associated pair of an identifier and registry entry. Registry entries may be dynamically loaded.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#summarizeinternalfn-TypeAlias'>SummarizeInternalFn</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/runtime-definitions#visibilitystate_2-TypeAlias'>VisibilityState_2</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

<hr><div id=package-details>

## Enumeration Details {#enumerations-details}

### CreateSummarizerNodeSource enum {#createsummarizernodesource-Enum}

<b>Signature:</b>

```typescript
export declare enum CreateSummarizerNodeSource 
```

### Enumeration Members

<table class="table table-striped table-hover enum-list">
<caption>List of members in use in this enum</caption>
  <thead>
    <tr>
     <th scope="col">Member</th>
 <th scope="col">Value</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FromAttach</td>
      <td><code>1</code></td>
      <td></td>
    </tr>
    <tr>
      <td>FromSummary</td>
      <td><code>0</code></td>
      <td></td>
    </tr>
    <tr>
      <td>Local</td>
      <td><code>2</code></td>
      <td></td>
    </tr>
  </tbody>
</table>

### FlushMode enum {#flushmode-Enum}

Runtime flush mode handling

<b>Signature:</b>

```typescript
export declare enum FlushMode 
```

### Enumeration Members

<table class="table table-striped table-hover enum-list">
<caption>List of members in use in this enum</caption>
  <thead>
    <tr>
     <th scope="col">Member</th>
 <th scope="col">Value</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Immediate</td>
      <td><code>0</code></td>
      <td>In Immediate flush mode the runtime will immediately send all operations to the driver layer.</td>
    </tr>
    <tr>
      <td>TurnBased</td>
      <td><code>1</code></td>
      <td>When in TurnBased flush mode the runtime will buffer operations in the current turn and send them as a single batch at the end of the turn. The flush call on the runtime can be used to force send the current batch.</td>
    </tr>
  </tbody>
</table>


## Variable Details {#variables-details}

### blobCountPropertyName {#blobcountpropertyname-Variable}

<b>Signature:</b>

```typescript
blobCountPropertyName = "BlobCount"
```

### channelsTreeName {#channelstreename-Variable}

<b>Signature:</b>

```typescript
channelsTreeName = ".channels"
```

### gcBlobKey {#gcblobkey-Variable}

<b>Signature:</b>

```typescript
gcBlobKey = "gc"
```

### IFluidDataStoreFactory {#ifluiddatastorefactory-Variable}

<b>Signature:</b>

```typescript
IFluidDataStoreFactory: keyof IProvideFluidDataStoreFactory
```

### IFluidDataStoreRegistry {#ifluiddatastoreregistry-Variable}

<b>Signature:</b>

```typescript
IFluidDataStoreRegistry: keyof IProvideFluidDataStoreRegistry
```

### totalBlobSizePropertyName {#totalblobsizepropertyname-Variable}

<b>Signature:</b>

```typescript
totalBlobSizePropertyName = "TotalBlobSize"
```

### VisibilityState\_2 {#visibilitystate_2-Variable}

This tells the visibility state of a Fluid object. It basically tracks whether the object is not visible, visible locally within the container only or visible globally to all clients.

<b>Signature:</b>

```typescript
VisibilityState: {
    NotVisible: string;
    LocallyVisible: string;
    GloballyVisible: string;
}
```

## Type Alias Details {#type-aliases-details}

### AliasResult {#aliasresult-TypeAlias}

Encapsulates the return codes of the aliasing API.

'Success' - the datastore has been successfully aliased. It can now be used. 'Conflict' - there is already a datastore bound to the provided alias. To acquire a handle to it, use the `IContainerRuntime.getRootDataStore` function. The current datastore should be discarded and will be garbage collected. The current datastore cannot be aliased to a different value. 'AlreadyAliased' - the datastore has already been previously bound to another alias name.

<b>Signature:</b>

```typescript
export declare type AliasResult = "Success" | "Conflict" | "AlreadyAliased";
```

### CreateChildSummarizerNodeFn {#createchildsummarizernodefn-TypeAlias}

<b>Signature:</b>

```typescript
export declare type CreateChildSummarizerNodeFn = (summarizeInternal: SummarizeInternalFn, getGCDataFn: (fullGC?: boolean) => Promise<IGarbageCollectionData>, getInitialGCSummaryDetailsFn: () => Promise<IGarbageCollectionSummaryDetails>) => ISummarizerNodeWithGC;
```

### CreateChildSummarizerNodeParam {#createchildsummarizernodeparam-TypeAlias}

<b>Signature:</b>

```typescript
export declare type CreateChildSummarizerNodeParam = {
    type: CreateSummarizerNodeSource.FromSummary;
} | {
    type: CreateSummarizerNodeSource.FromAttach;
    sequenceNumber: number;
    snapshot: ITree;
} | {
    type: CreateSummarizerNodeSource.Local;
};
```

### FluidDataStoreRegistryEntry {#fluiddatastoreregistryentry-TypeAlias}

A single registry entry that may be used to create data stores It has to have either factory or registry, or both.

<b>Signature:</b>

```typescript
export declare type FluidDataStoreRegistryEntry = Readonly<Partial<IProvideFluidDataStoreRegistry & IProvideFluidDataStoreFactory>>;
```

### IGarbageCollectionSummaryDetails {#igarbagecollectionsummarydetails-TypeAlias}

{{% callout warning Deprecated %}}
- Kept for back-compat. This has been renamed to [IGarbageCollectionDetailsBase](/docs/apis/runtime-definitions/igarbagecollectiondetailsbase)<!-- -->.

{{% /callout %}}

<b>Signature:</b>

```typescript
export declare type IGarbageCollectionSummaryDetails = IGarbageCollectionDetailsBase;
```

### InboundAttachMessage {#inboundattachmessage-TypeAlias}

This type should be used when reading an incoming attach op, but it should not be used when creating a new attach op. Older versions of attach messages could have null snapshots, so this gives correct typings for writing backward compatible code.

<b>Signature:</b>

```typescript
export declare type InboundAttachMessage = Omit<IAttachMessage, "snapshot"> & {
    snapshot: IAttachMessage["snapshot"] | null;
};
```

### NamedFluidDataStoreRegistryEntries {#namedfluiddatastoreregistryentries-TypeAlias}

An iterable identifier/registry entry pair list

<b>Signature:</b>

```typescript
export declare type NamedFluidDataStoreRegistryEntries = Iterable<NamedFluidDataStoreRegistryEntry>;
```

### NamedFluidDataStoreRegistryEntry {#namedfluiddatastoreregistryentry-TypeAlias}

An associated pair of an identifier and registry entry. Registry entries may be dynamically loaded.

<b>Signature:</b>

```typescript
export declare type NamedFluidDataStoreRegistryEntry = [string, Promise<FluidDataStoreRegistryEntry>];
```

### SummarizeInternalFn {#summarizeinternalfn-TypeAlias}

<b>Signature:</b>

```typescript
export declare type SummarizeInternalFn = (fullTree: boolean, trackState: boolean, telemetryContext?: ITelemetryContext) => Promise<ISummarizeInternalResult>;
```

### VisibilityState\_2 {#visibilitystate_2-TypeAlias}

<b>Signature:</b>

```typescript
export declare type VisibilityState = typeof VisibilityState[keyof typeof VisibilityState];
```

</div>
