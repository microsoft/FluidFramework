{"kind":"Class","title":"Ink Class","summary":"`Ink` is a shared object which holds a collection of ink strokes.","members":{"Constructor":{"(constructor)":"/docs/apis/ink/ink#_constructor_-Constructor"},"Method":{"appendPointToStroke":"/docs/apis/ink/ink#appendpointtostroke-Method","applyStashedOp":"/docs/apis/ink/ink#applystashedop-Method","clear":"/docs/apis/ink/ink#clear-Method","create":"/docs/apis/ink/ink#create-Method","createStroke":"/docs/apis/ink/ink#createstroke-Method","getFactory":"/docs/apis/ink/ink#getfactory-Method","getStroke":"/docs/apis/ink/ink#getstroke-Method","getStrokes":"/docs/apis/ink/ink#getstrokes-Method","loadCore":"/docs/apis/ink/ink#loadcore-Method","onDisconnect":"/docs/apis/ink/ink#ondisconnect-Method","processCore":"/docs/apis/ink/ink#processcore-Method","summarizeCore":"/docs/apis/ink/ink#summarizecore-Method"}},"package":"@fluidframework/ink","unscopedPackageName":"ink"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/ink](/docs/apis/ink) &gt; [Ink](/docs/apis/ink/ink)

`Ink` is a shared object which holds a collection of ink strokes.

<b>Signature:</b>

```typescript
/** @sealed */
export declare class Ink extends SharedObject<IInkEvents> implements IInk 
```
<b>Extends:</b> [SharedObject](/docs/apis/shared-object-base/sharedobject)<!-- -->&lt;[IInkEvents](/docs/apis/ink/iinkevents)

<b>Implements:</b> [IInk](/docs/apis/ink/iink)

## Remarks

### Creation and setup

To create an `Ink` object, call the static `create` method:

```typescript
const ink = Ink.create(this.runtime, id);
```
You'll also need an `IPen` that will describe the style of your stroke:

```typescript
this.currentPen = {
    color: { r: 0, g: 161 / 255, b: 241 / 255, a: 0 },
    thickness: 7,
};
```
### Usage

Once the `Ink` object is created, you can add and update ink strokes using `createStroke` and `appendPointToStroke`<!-- -->. Most likely you'll want to do this in response to incoming Pointer Events:

```typescript
private handlePointerDown(e: PointerEvent) {
    const newStroke = ink.createStroke(this.currentPen);
    this.currentStrokeId = newStroke.id;
    handlePointerMotion(e);
}

private handlePointerMotion(e: PointerEvent) {
    const inkPoint = {
        x: e.clientX,
        y: e.clientY,
        time: Date.now(),
        pressure: e.pressure,
    };
    ink.appendPointToStroke(inkPoint, this.currentStrokeId);
}

canvas.addEventListener("pointerdown", this.handlePointerDown);
canvas.addEventListener("pointermove", this.handlePointerMotion);
canvas.addEventListener("pointerup", this.handlePointerMotion);
```
You can also clear all the ink with `clear`<!-- -->:

```typescript
ink.clear();
```
To observe and react to changes to the ink from both your own modifications as well as remote participants, you can listen to the `"createStroke"`<!-- -->, `"stylus"` and `"clear"` events. Since you don't need to render anything yet when a stroke is first created, registering for `"createStroke"` may not be necessary.

```typescript
ink.on("stylus", this.renderStylusUpdate.bind(this));
ink.on("clear", this.renderClear.bind(this));
```

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/ink/ink#_constructor_-Constructor'>(constructor)(runtime, id, attributes)</a></td>
      <td></td>
      <td>Create a new Ink.</td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/ink/ink#appendpointtostroke-Method'>appendPointToStroke(point, id)</a></td>
      <td></td>
      <td>Append the given point to the indicated stroke.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#applystashedop-Method'>applyStashedOp()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#clear-Method'>clear()</a></td>
      <td></td>
      <td>Clear all strokes.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#create-Method'>create(runtime, id)</a></td>
      <td><code>static</code></td>
      <td>Create a new Ink.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#createstroke-Method'>createStroke(pen)</a></td>
      <td></td>
      <td>Create a stroke with the given pen information.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#getfactory-Method'>getFactory()</a></td>
      <td><code>static</code></td>
      <td>Get a factory for Ink to register with the data store.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#getstroke-Method'>getStroke(key)</a></td>
      <td></td>
      <td>Get a specific stroke with the given key.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#getstrokes-Method'>getStrokes()</a></td>
      <td></td>
      <td>Get the collection of strokes stored in this Ink object.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#loadcore-Method'>loadCore(storage)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#ondisconnect-Method'>onDisconnect()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#processcore-Method'>processCore(message, local, localOpMetadata)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/ink/ink#summarizecore-Method'>summarizeCore(serializer)</a></td>
      <td></td>
      <td>Gets a form of the object that can be serialized.</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### Ink.(constructor) {#_constructor_-Constructor}

Create a new Ink.

<b>Signature:</b>

```typescript
constructor(runtime: IFluidDataStoreRuntime, id: string, attributes: IChannelAttributes);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>runtime</td>
      <td><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime'>IFluidDataStoreRuntime</a></td>
      <td>The runtime the Ink will be associated with</td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td>Unique ID for the Ink</td>
    </tr>
    <tr>
      <td>attributes</td>
      <td><a href='/docs/apis/datastore-definitions/ichannelattributes'>IChannelAttributes</a></td>
      <td></td>
    </tr>
  </tbody>
</table>


## Method Details {#methods-details}

### appendPointToStroke {#appendpointtostroke-Method}

Append the given point to the indicated stroke.

<b>Signature:</b>

```typescript
appendPointToStroke(point: IInkPoint, id: string): IInkStroke;
```

#### Parameters {#appendpointtostroke-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>point</td>
      <td><a href='/docs/apis/ink/iinkpoint'>IInkPoint</a></td>
      <td>The point to append</td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td>The ID for the stroke to append to</td>
    </tr>
  </tbody>
</table>

#### Returns {#appendpointtostroke-Method-returns}


The stroke that was updated

<b>Return type(s):</b> [IInkStroke](/docs/apis/ink/iinkstroke)

### applyStashedOp {#applystashedop-Method}

<b>Signature:</b>

```typescript
protected applyStashedOp(): void;
```

### clear {#clear-Method}

Clear all strokes.

<b>Signature:</b>

```typescript
clear(): void;
```

### create {#create-Method}

Create a new Ink.

<b>Signature:</b>

```typescript
static create(runtime: IFluidDataStoreRuntime, id?: string): Ink;
```

#### Parameters {#create-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>runtime</td>
      <td><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime'>IFluidDataStoreRuntime</a></td>
      <td>Data Store runtime the new Ink belongs to</td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td>Optional name of the Ink; will be assigned a unique ID if not provided</td>
    </tr>
  </tbody>
</table>

#### Returns {#create-Method-returns}


Newly create Ink object (but not attached yet)

<b>Return type(s):</b> [Ink](/docs/apis/ink/ink)

### createStroke {#createstroke-Method}

Create a stroke with the given pen information.

<b>Signature:</b>

```typescript
createStroke(pen: IPen): IInkStroke;
```

#### Parameters {#createstroke-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pen</td>
      <td><a href='/docs/apis/ink/ipen'>IPen</a></td>
      <td>The pen information for this stroke</td>
    </tr>
  </tbody>
</table>

#### Returns {#createstroke-Method-returns}


The stroke that was created

<b>Return type(s):</b> [IInkStroke](/docs/apis/ink/iinkstroke)

### getFactory {#getfactory-Method}

Get a factory for Ink to register with the data store.

<b>Signature:</b>

```typescript
static getFactory(): InkFactory;
```

#### Returns {#getfactory-Method-returns}


A factory that creates and loads Ink

<b>Return type(s):</b> [InkFactory](/docs/apis/ink/inkfactory)

### getStroke {#getstroke-Method}

Get a specific stroke with the given key.

<b>Signature:</b>

```typescript
getStroke(key: string): IInkStroke;
```

#### Parameters {#getstroke-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>string</td>
      <td>ID for the stroke</td>
    </tr>
  </tbody>
</table>

#### Returns {#getstroke-Method-returns}


the requested stroke, or undefined if it does not exist

<b>Return type(s):</b> [IInkStroke](/docs/apis/ink/iinkstroke)

### getStrokes {#getstrokes-Method}

Get the collection of strokes stored in this Ink object.

<b>Signature:</b>

```typescript
getStrokes(): IInkStroke[];
```

#### Returns {#getstrokes-Method-returns}


the array of strokes

<b>Return type(s):</b> [IInkStroke](/docs/apis/ink/iinkstroke)<!-- -->\[\]

### loadCore {#loadcore-Method}


<b>Signature:</b>

```typescript
protected loadCore(storage: IChannelStorageService): Promise<void>;
```

#### Parameters {#loadcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>storage</td>
      <td><a href='/docs/apis/datastore-definitions/ichannelstorageservice'>IChannelStorageService</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### onDisconnect {#ondisconnect-Method}


<b>Signature:</b>

```typescript
protected onDisconnect(): void;
```

### processCore {#processcore-Method}


<b>Signature:</b>

```typescript
protected processCore(message: ISequencedDocumentMessage, local: boolean, localOpMetadata: unknown): void;
```

#### Parameters {#processcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a></td>
      <td></td>
    </tr>
    <tr>
      <td>local</td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td></td>
    </tr>
  </tbody>
</table>

### summarizeCore {#summarizecore-Method}

Gets a form of the object that can be serialized.

<b>Signature:</b>

```typescript
protected summarizeCore(serializer: IFluidSerializer): ISummaryTreeWithStats;
```

#### Parameters {#summarizecore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>serializer</td>
      <td><a href='/docs/apis/shared-object-base/ifluidserializer'>IFluidSerializer</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

#### Returns {#summarizecore-Method-returns}


A tree representing the snapshot of the shared object.

<b>Return type(s):</b> [ISummaryTreeWithStats](/docs/apis/runtime-definitions/isummarytreewithstats)


</div>
