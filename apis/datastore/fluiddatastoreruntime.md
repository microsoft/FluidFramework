{"kind":"Class","title":"FluidDataStoreRuntime Class","summary":"Base data store class","members":{"Constructor":{"(constructor)":"/docs/apis/datastore/fluiddatastoreruntime#_constructor_-Constructor"},"Property":{"absolutePath":"/docs/apis/datastore/fluiddatastoreruntime#absolutepath-Property","attachState":"/docs/apis/datastore/fluiddatastoreruntime#attachstate-Property","channelsRoutingContext":"/docs/apis/datastore/fluiddatastoreruntime#channelsroutingcontext-Property","clientDetails":"/docs/apis/datastore/fluiddatastoreruntime#clientdetails-Property","clientId":"/docs/apis/datastore/fluiddatastoreruntime#clientid-Property","connected":"/docs/apis/datastore/fluiddatastoreruntime#connected-Property","deltaManager":"/docs/apis/datastore/fluiddatastoreruntime#deltamanager-Property","disposed":"/docs/apis/datastore/fluiddatastoreruntime#disposed-Property","id":"/docs/apis/datastore/fluiddatastoreruntime#id-Property","IFluidHandleContext":"/docs/apis/datastore/fluiddatastoreruntime#ifluidhandlecontext-Property","IFluidRouter":"/docs/apis/datastore/fluiddatastoreruntime#ifluidrouter-Property","isAttached":"/docs/apis/datastore/fluiddatastoreruntime#isattached-Property","logger":"/docs/apis/datastore/fluiddatastoreruntime#logger-Property","objectsRoutingContext":"/docs/apis/datastore/fluiddatastoreruntime#objectsroutingcontext-Property","options":"/docs/apis/datastore/fluiddatastoreruntime#options-Property","rootRoutingContext":"/docs/apis/datastore/fluiddatastoreruntime#rootroutingcontext-Property","routeContext":"/docs/apis/datastore/fluiddatastoreruntime#routecontext-Property","visibilityState":"/docs/apis/datastore/fluiddatastoreruntime#visibilitystate-Property"},"Method":{"applyStashedOp":"/docs/apis/datastore/fluiddatastoreruntime#applystashedop-Method","attachGraph":"/docs/apis/datastore/fluiddatastoreruntime#attachgraph-Method","bind":"/docs/apis/datastore/fluiddatastoreruntime#bind-Method","bindChannel":"/docs/apis/datastore/fluiddatastoreruntime#bindchannel-Method","createChannel":"/docs/apis/datastore/fluiddatastoreruntime#createchannel-Method","dispose":"/docs/apis/datastore/fluiddatastoreruntime#dispose-Method","getAttachSummary":"/docs/apis/datastore/fluiddatastoreruntime#getattachsummary-Method","getAudience":"/docs/apis/datastore/fluiddatastoreruntime#getaudience-Method","getChannel":"/docs/apis/datastore/fluiddatastoreruntime#getchannel-Method","getGCData":"/docs/apis/datastore/fluiddatastoreruntime#getgcdata-Method","getQuorum":"/docs/apis/datastore/fluiddatastoreruntime#getquorum-Method","load":"/docs/apis/datastore/fluiddatastoreruntime#load-Method","makeVisibleAndAttachGraph":"/docs/apis/datastore/fluiddatastoreruntime#makevisibleandattachgraph-Method","process":"/docs/apis/datastore/fluiddatastoreruntime#process-Method","processSignal":"/docs/apis/datastore/fluiddatastoreruntime#processsignal-Method","request":"/docs/apis/datastore/fluiddatastoreruntime#request-Method","resolveHandle":"/docs/apis/datastore/fluiddatastoreruntime#resolvehandle-Method","reSubmit":"/docs/apis/datastore/fluiddatastoreruntime#resubmit-Method","rollback":"/docs/apis/datastore/fluiddatastoreruntime#rollback-Method","setConnectionState":"/docs/apis/datastore/fluiddatastoreruntime#setconnectionstate-Method","submitMessage":"/docs/apis/datastore/fluiddatastoreruntime#submitmessage-Method","submitSignal":"/docs/apis/datastore/fluiddatastoreruntime#submitsignal-Method","summarize":"/docs/apis/datastore/fluiddatastoreruntime#summarize-Method","updateUsedRoutes":"/docs/apis/datastore/fluiddatastoreruntime#updateusedroutes-Method","uploadBlob":"/docs/apis/datastore/fluiddatastoreruntime#uploadblob-Method","waitAttached":"/docs/apis/datastore/fluiddatastoreruntime#waitattached-Method"}},"package":"@fluidframework/datastore","unscopedPackageName":"datastore"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/datastore](/docs/apis/datastore) &gt; [FluidDataStoreRuntime](/docs/apis/datastore/fluiddatastoreruntime)

Base data store class

<b>Signature:</b>

```typescript
export declare class FluidDataStoreRuntime extends TypedEventEmitter<IFluidDataStoreRuntimeEvents> implements IFluidDataStoreChannel, IFluidDataStoreRuntime, IFluidHandleContext 
```
<b>Extends:</b> [TypedEventEmitter](/docs/apis/common-utils/typedeventemitter)<!-- -->&lt;[IFluidDataStoreRuntimeEvents](/docs/apis/datastore-definitions/ifluiddatastoreruntimeevents)

<b>Implements:</b> [IFluidDataStoreChannel](/docs/apis/runtime-definitions/ifluiddatastorechannel)<!-- -->, [IFluidDataStoreRuntime](/docs/apis/datastore-definitions/ifluiddatastoreruntime)<!-- -->, [IFluidHandleContext](/docs/apis/core-interfaces/ifluidhandlecontext)

<b>Implements:</b> [IFluidDataStoreChannel](/docs/apis/runtime-definitions/ifluiddatastorechannel)<!-- -->, [IFluidDataStoreRuntime](/docs/apis/datastore-definitions/ifluiddatastoreruntime)<!-- -->, [IFluidHandleContext](/docs/apis/core-interfaces/ifluidhandlecontext)

<b>Implements:</b> [IFluidDataStoreChannel](/docs/apis/runtime-definitions/ifluiddatastorechannel)<!-- -->, [IFluidDataStoreRuntime](/docs/apis/datastore-definitions/ifluiddatastoreruntime)<!-- -->, [IFluidHandleContext](/docs/apis/core-interfaces/ifluidhandlecontext)

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#_constructor_-Constructor'>(constructor)(dataStoreContext, sharedObjectRegistry, existing)</a></td>
      <td></td>
      <td>Constructs a new instance of the <code>FluidDataStoreRuntime</code> class</td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this class</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#absolutepath-Property'>absolutePath</a></td>
      <td></td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#attachstate-Property'>attachState</a></td>
      <td></td>
      <td><a href='/docs/apis/container-definitions#attachstate-Enum'>AttachState</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#channelsroutingcontext-Property'>channelsRoutingContext</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#clientdetails-Property'>clientDetails</a></td>
      <td></td>
      <td><a href='/docs/apis/protocol-definitions/iclientdetails'>IClientDetails</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#clientid-Property'>clientId</a></td>
      <td></td>
      <td>string | undefined</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#connected-Property'>connected</a></td>
      <td></td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#deltamanager-Property'>deltaManager</a></td>
      <td></td>
      <td>IDeltaManager<<a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a>, <a href='/docs/apis/protocol-definitions/idocumentmessage'>IDocumentMessage</a>></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#disposed-Property'>disposed</a></td>
      <td></td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#id-Property'>id</a></td>
      <td></td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#ifluidhandlecontext-Property'>IFluidHandleContext</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#ifluidrouter-Property'>IFluidRouter</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#isattached-Property'>isAttached</a></td>
      <td></td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#logger-Property'>logger</a></td>
      <td></td>
      <td><a href='/docs/apis/common-definitions/itelemetrylogger'>ITelemetryLogger</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#objectsroutingcontext-Property'>objectsRoutingContext</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#options-Property'>options</a></td>
      <td></td>
      <td>ILoaderOptions</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#rootroutingcontext-Property'>rootRoutingContext</a></td>
      <td></td>
      <td>this</td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#routecontext-Property'>routeContext</a></td>
      <td></td>
      <td><a href='/docs/apis/core-interfaces/ifluidhandlecontext'>IFluidHandleContext</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#visibilitystate-Property'>visibilityState</a></td>
      <td></td>
      <td>VisibilityState</td>
      <td></td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#applystashedop-Method'>applyStashedOp(content)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#attachgraph-Method'>attachGraph()</a></td>
      <td></td>
      <td>This function is called when a handle to this data store is added to a visible DDS.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#bind-Method'>bind(handle)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#bindchannel-Method'>bindChannel(channel)</a></td>
      <td></td>
      <td>Binds a channel with the runtime. If the runtime is attached we will attach the channel right away. If the runtime is not attached we will defer the attach until the runtime attaches.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#createchannel-Method'>createChannel(id, type)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#dispose-Method'>dispose()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#getattachsummary-Method'>getAttachSummary(telemetryContext)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#getaudience-Method'>getAudience()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#getchannel-Method'>getChannel(id)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#getgcdata-Method'>getGCData(fullGC)</a></td>
      <td></td>
      <td>Generates data used for garbage collection. This includes a list of GC nodes that represent this channel including any of its child channel contexts. Each node has a set of outbound routes to other GC nodes in the document. It does the following: 1. Calls into each child context to get its GC data. 2. Prefixes the child context's id to the GC nodes in the child's GC data. This makes sure that the node can be identified as belonging to the child. 3. Adds a GC node for this channel to the nodes received from the children. All these nodes together represent the GC data of this channel.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#getquorum-Method'>getQuorum()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#load-Method'>load(context, sharedObjectRegistry, existing)</a></td>
      <td><code>static</code></td>
      <td>Loads the data store runtime</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#makevisibleandattachgraph-Method'>makeVisibleAndAttachGraph()</a></td>
      <td></td>
      <td>This function is called when a data store becomes root. It does the following: 1. Marks the data store locally visible in the container. 2. Attaches the graph of all the handles bound to it. 3. Calls into the data store context to mark it visible in the container too. If the container is globally visible, it will mark us globally visible. Otherwise, it will mark us globally visible when it becomes globally visible.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#process-Method'>process(message, local, localOpMetadata)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#processsignal-Method'>processSignal(message, local)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#request-Method'>request(request)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#resolvehandle-Method'>resolveHandle(request)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#resubmit-Method'>reSubmit(type, content, localOpMetadata)</a></td>
      <td></td>
      <td>For messages of type MessageType.Operation, finds the right channel and asks it to resubmit the message. For all other messages, just submit it again. This typically happens when we reconnect and there are unacked messages.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#rollback-Method'>rollback(type, content, localOpMetadata)</a></td>
      <td></td>
      <td>Revert a local op.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#setconnectionstate-Method'>setConnectionState(connected, clientId)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#submitmessage-Method'>submitMessage(type, content, localOpMetadata)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#submitsignal-Method'>submitSignal(type, content)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#summarize-Method'>summarize(fullTree, trackState, telemetryContext)</a></td>
      <td></td>
      <td>Returns a summary at the current sequence number.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#updateusedroutes-Method'>updateUsedRoutes(usedRoutes, gcTimestamp)</a></td>
      <td></td>
      <td>After GC has run, called to notify this channel of routes that are used in it. It calls the child contexts to update their used routes.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#uploadblob-Method'>uploadBlob(blob)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore/fluiddatastoreruntime#waitattached-Method'>waitAttached()</a></td>
      <td></td>
      <td>Will return when the data store is attached.</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### FluidDataStoreRuntime.(constructor) {#_constructor_-Constructor}

Constructs a new instance of the `FluidDataStoreRuntime` class

<b>Signature:</b>

```typescript
constructor(dataStoreContext: IFluidDataStoreContext, sharedObjectRegistry: ISharedObjectRegistry, existing: boolean);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>dataStoreContext</td>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext'>IFluidDataStoreContext</a></td>
      <td></td>
    </tr>
    <tr>
      <td>sharedObjectRegistry</td>
      <td><a href='/docs/apis/datastore/isharedobjectregistry'>ISharedObjectRegistry</a></td>
      <td></td>
    </tr>
    <tr>
      <td>existing</td>
      <td>boolean</td>
      <td></td>
    </tr>
  </tbody>
</table>


## Property Details {#properties-details}

### absolutePath {#absolutepath-Property}

<b>Signature:</b>

```typescript
get absolutePath(): string;
```

### attachState {#attachstate-Property}

<b>Signature:</b>

```typescript
get attachState(): AttachState;
```

### channelsRoutingContext {#channelsroutingcontext-Property}

<b>Signature:</b>

```typescript
get channelsRoutingContext(): this;
```

### clientDetails {#clientdetails-Property}

<b>Signature:</b>

```typescript
get clientDetails(): IClientDetails;
```

### clientId {#clientid-Property}

<b>Signature:</b>

```typescript
get clientId(): string | undefined;
```

### connected {#connected-Property}

<b>Signature:</b>

```typescript
get connected(): boolean;
```

### deltaManager {#deltamanager-Property}

<b>Signature:</b>

```typescript
readonly deltaManager: IDeltaManager<ISequencedDocumentMessage, IDocumentMessage>;
```

### disposed {#disposed-Property}

<b>Signature:</b>

```typescript
get disposed(): boolean;
```

### id {#id-Property}

<b>Signature:</b>

```typescript
readonly id: string;
```

### IFluidHandleContext {#ifluidhandlecontext-Property}

<b>Signature:</b>

```typescript
get IFluidHandleContext(): this;
```

### IFluidRouter {#ifluidrouter-Property}

<b>Signature:</b>

```typescript
get IFluidRouter(): this;
```

### isAttached {#isattached-Property}

<b>Signature:</b>

```typescript
get isAttached(): boolean;
```

### logger {#logger-Property}

<b>Signature:</b>

```typescript
readonly logger: ITelemetryLogger;
```

### objectsRoutingContext {#objectsroutingcontext-Property}

<b>Signature:</b>

```typescript
get objectsRoutingContext(): this;
```

### options {#options-Property}

<b>Signature:</b>

```typescript
readonly options: ILoaderOptions;
```

### rootRoutingContext {#rootroutingcontext-Property}

<b>Signature:</b>

```typescript
get rootRoutingContext(): this;
```

### routeContext {#routecontext-Property}

<b>Signature:</b>

```typescript
get routeContext(): IFluidHandleContext;
```

### visibilityState {#visibilitystate-Property}

<b>Signature:</b>

```typescript
visibilityState: VisibilityState;
```

## Method Details {#methods-details}

### applyStashedOp {#applystashedop-Method}

<b>Signature:</b>

```typescript
applyStashedOp(content: any): Promise<unknown>;
```

#### Parameters {#applystashedop-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>content</td>
      <td>any</td>
      <td></td>
    </tr>
  </tbody>
</table>

### attachGraph {#attachgraph-Method}

This function is called when a handle to this data store is added to a visible DDS.

<b>Signature:</b>

```typescript
attachGraph(): void;
```

### bind {#bind-Method}

<b>Signature:</b>

```typescript
bind(handle: IFluidHandle): void;
```

#### Parameters {#bind-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>handle</td>
      <td><a href='/docs/apis/core-interfaces/ifluidhandle'>IFluidHandle</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### bindChannel {#bindchannel-Method}

Binds a channel with the runtime. If the runtime is attached we will attach the channel right away. If the runtime is not attached we will defer the attach until the runtime attaches.

<b>Signature:</b>

```typescript
bindChannel(channel: IChannel): void;
```

#### Parameters {#bindchannel-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>channel</td>
      <td><a href='/docs/apis/datastore-definitions/ichannel'>IChannel</a></td>
      <td>channel to be registered.</td>
    </tr>
  </tbody>
</table>

### createChannel {#createchannel-Method}

<b>Signature:</b>

```typescript
createChannel(id: string | undefined, type: string): IChannel;
```

#### Parameters {#createchannel-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>string | undefined</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### dispose {#dispose-Method}

<b>Signature:</b>

```typescript
dispose(): void;
```

### getAttachSummary {#getattachsummary-Method}

<b>Signature:</b>

```typescript
getAttachSummary(telemetryContext?: ITelemetryContext): ISummaryTreeWithStats;
```

#### Parameters {#getattachsummary-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>telemetryContext</td>
      <td><a href='/docs/apis/runtime-definitions/itelemetrycontext'>ITelemetryContext</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### getAudience {#getaudience-Method}

<b>Signature:</b>

```typescript
getAudience(): IAudience;
```

### getChannel {#getchannel-Method}

<b>Signature:</b>

```typescript
getChannel(id: string): Promise<IChannel>;
```

#### Parameters {#getchannel-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getGCData {#getgcdata-Method}

Generates data used for garbage collection. This includes a list of GC nodes that represent this channel including any of its child channel contexts. Each node has a set of outbound routes to other GC nodes in the document. It does the following: 1. Calls into each child context to get its GC data. 2. Prefixes the child context's id to the GC nodes in the child's GC data. This makes sure that the node can be identified as belonging to the child. 3. Adds a GC node for this channel to the nodes received from the children. All these nodes together represent the GC data of this channel.

<b>Signature:</b>

```typescript
getGCData(fullGC?: boolean): Promise<IGarbageCollectionData>;
```

#### Parameters {#getgcdata-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fullGC</td>
      <td>boolean</td>
      <td>true to bypass optimizations and force full generation of GC data.</td>
    </tr>
  </tbody>
</table>

### getQuorum {#getquorum-Method}

<b>Signature:</b>

```typescript
getQuorum(): IQuorumClients;
```

### load {#load-Method}

Loads the data store runtime

<b>Signature:</b>

```typescript
static load(context: IFluidDataStoreContext, sharedObjectRegistry: ISharedObjectRegistry, existing: boolean): FluidDataStoreRuntime;
```

#### Parameters {#load-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>context</td>
      <td><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext'>IFluidDataStoreContext</a></td>
      <td>The data store context</td>
    </tr>
    <tr>
      <td>sharedObjectRegistry</td>
      <td><a href='/docs/apis/datastore/isharedobjectregistry'>ISharedObjectRegistry</a></td>
      <td>The registry of shared objects used by this data store</td>
    </tr>
    <tr>
      <td>existing</td>
      <td>boolean</td>
      <td>If loading from an existing file.</td>
    </tr>
  </tbody>
</table>

### makeVisibleAndAttachGraph {#makevisibleandattachgraph-Method}

This function is called when a data store becomes root. It does the following: 1. Marks the data store locally visible in the container. 2. Attaches the graph of all the handles bound to it. 3. Calls into the data store context to mark it visible in the container too. If the container is globally visible, it will mark us globally visible. Otherwise, it will mark us globally visible when it becomes globally visible.

<b>Signature:</b>

```typescript
makeVisibleAndAttachGraph(): void;
```

### process {#process-Method}

<b>Signature:</b>

```typescript
process(message: ISequencedDocumentMessage, local: boolean, localOpMetadata: unknown): void;
```

#### Parameters {#process-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a></td>
      <td></td>
    </tr>
    <tr>
      <td>local</td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td></td>
    </tr>
  </tbody>
</table>

### processSignal {#processsignal-Method}

<b>Signature:</b>

```typescript
processSignal(message: IInboundSignalMessage, local: boolean): void;
```

#### Parameters {#processsignal-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><a href='/docs/apis/runtime-definitions/iinboundsignalmessage'>IInboundSignalMessage</a></td>
      <td></td>
    </tr>
    <tr>
      <td>local</td>
      <td>boolean</td>
      <td></td>
    </tr>
  </tbody>
</table>

### request {#request-Method}

<b>Signature:</b>

```typescript
request(request: IRequest): Promise<IResponse>;
```

#### Parameters {#request-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>request</td>
      <td><a href='/docs/apis/core-interfaces/irequest'>IRequest</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### resolveHandle {#resolvehandle-Method}

<b>Signature:</b>

```typescript
resolveHandle(request: IRequest): Promise<IResponse>;
```

#### Parameters {#resolvehandle-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>request</td>
      <td><a href='/docs/apis/core-interfaces/irequest'>IRequest</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### reSubmit {#resubmit-Method}

For messages of type MessageType.Operation, finds the right channel and asks it to resubmit the message. For all other messages, just submit it again. This typically happens when we reconnect and there are unacked messages.

<b>Signature:</b>

```typescript
reSubmit(type: DataStoreMessageType, content: any, localOpMetadata: unknown): void;
```

#### Parameters {#resubmit-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td><a href='/docs/apis/datastore#datastoremessagetype-Enum'>DataStoreMessageType</a></td>
      <td></td>
    </tr>
    <tr>
      <td>content</td>
      <td>any</td>
      <td>The content of the original message.</td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td>The local metadata associated with the original message.</td>
    </tr>
  </tbody>
</table>

### rollback {#rollback-Method}

Revert a local op.

<b>Signature:</b>

```typescript
rollback?(type: DataStoreMessageType, content: any, localOpMetadata: unknown): void;
```

#### Parameters {#rollback-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td><a href='/docs/apis/datastore#datastoremessagetype-Enum'>DataStoreMessageType</a></td>
      <td></td>
    </tr>
    <tr>
      <td>content</td>
      <td>any</td>
      <td>The content of the original message.</td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td>The local metadata associated with the original message.</td>
    </tr>
  </tbody>
</table>

### setConnectionState {#setconnectionstate-Method}

<b>Signature:</b>

```typescript
setConnectionState(connected: boolean, clientId?: string): void;
```

#### Parameters {#setconnectionstate-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>connected</td>
      <td>boolean</td>
      <td></td>
    </tr>
    <tr>
      <td>clientId</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### submitMessage {#submitmessage-Method}

<b>Signature:</b>

```typescript
submitMessage(type: DataStoreMessageType, content: any, localOpMetadata: unknown): void;
```

#### Parameters {#submitmessage-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td><a href='/docs/apis/datastore#datastoremessagetype-Enum'>DataStoreMessageType</a></td>
      <td></td>
    </tr>
    <tr>
      <td>content</td>
      <td>any</td>
      <td></td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td></td>
    </tr>
  </tbody>
</table>

### submitSignal {#submitsignal-Method}

<b>Signature:</b>

```typescript
submitSignal(type: string, content: any): void;
```

#### Parameters {#submitsignal-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>content</td>
      <td>any</td>
      <td></td>
    </tr>
  </tbody>
</table>

### summarize {#summarize-Method}

Returns a summary at the current sequence number.

<b>Signature:</b>

```typescript
summarize(fullTree?: boolean, trackState?: boolean, telemetryContext?: ITelemetryContext): Promise<ISummaryTreeWithStats>;
```

#### Parameters {#summarize-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fullTree</td>
      <td>boolean</td>
      <td>true to bypass optimizations and force a full summary tree</td>
    </tr>
    <tr>
      <td>trackState</td>
      <td>boolean</td>
      <td>This tells whether we should track state from this summary.</td>
    </tr>
    <tr>
      <td>telemetryContext</td>
      <td><a href='/docs/apis/runtime-definitions/itelemetrycontext'>ITelemetryContext</a></td>
      <td>summary data passed through the layers for telemetry purposes</td>
    </tr>
  </tbody>
</table>

### updateUsedRoutes {#updateusedroutes-Method}

After GC has run, called to notify this channel of routes that are used in it. It calls the child contexts to update their used routes.

<b>Signature:</b>

```typescript
updateUsedRoutes(usedRoutes: string[], gcTimestamp?: number): void;
```

#### Parameters {#updateusedroutes-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>usedRoutes</td>
      <td>string[]</td>
      <td>The routes that are used in all contexts in this channel.</td>
    </tr>
    <tr>
      <td>gcTimestamp</td>
      <td>number</td>
      <td>The time when GC was run that generated these used routes. If any node becomes unreferenced as part of this GC run, this should be used to update the time when it happens.</td>
    </tr>
  </tbody>
</table>

### uploadBlob {#uploadblob-Method}

<b>Signature:</b>

```typescript
uploadBlob(blob: ArrayBufferLike): Promise<IFluidHandle<ArrayBufferLike>>;
```

#### Parameters {#uploadblob-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>blob</td>
      <td>ArrayBufferLike</td>
      <td></td>
    </tr>
  </tbody>
</table>

### waitAttached {#waitattached-Method}

Will return when the data store is attached.

<b>Signature:</b>

```typescript
waitAttached(): Promise<void>;
```

</div>
