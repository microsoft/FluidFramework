{"kind":"Class","title":"ServiceAudience Class","summary":"Base class for providing audience information for sessions interacting with FluidContainer This can be extended by different service-specific client packages to additional parameters to the user and client details returned in IMember","members":{"Constructor":{"(constructor)":"/docs/apis/fluid-static/serviceaudience#_constructor_-Constructor"},"Property":{"audience":"/docs/apis/fluid-static/serviceaudience#audience-Property","container":"/docs/apis/fluid-static/serviceaudience#container-Property","lastMembers":"/docs/apis/fluid-static/serviceaudience#lastmembers-Property"},"Method":{"createServiceMember":"/docs/apis/fluid-static/serviceaudience#createservicemember-Method","getMembers":"/docs/apis/fluid-static/serviceaudience#getmembers-Method","getMyself":"/docs/apis/fluid-static/serviceaudience#getmyself-Method","shouldIncludeAsMember":"/docs/apis/fluid-static/serviceaudience#shouldincludeasmember-Method"}},"package":"@fluidframework/fluid-static","unscopedPackageName":"fluid-static"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/fluid-static](/docs/apis/fluid-static) &gt; [ServiceAudience](/docs/apis/fluid-static/serviceaudience)

Base class for providing audience information for sessions interacting with FluidContainer This can be extended by different service-specific client packages to additional parameters to the user and client details returned in IMember

<b>Signature:</b>

```typescript
export declare abstract class ServiceAudience<M extends IMember = IMember> extends TypedEventEmitter<IServiceAudienceEvents<M>> implements IServiceAudience<M> 
```
<b>Extends:</b> [TypedEventEmitter](/docs/apis/common-utils/typedeventemitter)<!-- -->&lt;[IServiceAudienceEvents](/docs/apis/fluid-static/iserviceaudienceevents)

<b>Implements:</b> [IServiceAudience](/docs/apis/fluid-static/iserviceaudience)

<b>Type parameters:</b> 

<b>M</b> -- A service-specific member type.


## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#_constructor_-Constructor'>(constructor)(container)</a></td>
      <td></td>
      <td>Constructs a new instance of the <code>ServiceAudience</code> class</td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this class</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#audience-Property'>audience</a></td>
      <td></td>
      <td>IAudience</td>
      <td>Audience object which includes all the existing members of the container.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#container-Property'>container</a></td>
      <td></td>
      <td>IContainer</td>
      <td>Fluid Container to read the audience from.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#lastmembers-Property'>lastMembers</a></td>
      <td></td>
      <td>Map<string, M></td>
      <td>Retain the most recent member list. This is so we have more information about a member leaving the audience in the removeMember event. It allows us to match the behavior of the addMember event where it only fires on a change to the members this class exposes (and would actually produce a change in what getMembers returns). It also allows us to provide the client details in the event which makes it easier to find that client connection in a map keyed on the userId and not clientId. This map will always be up-to-date in a removeMember event because it is set once at construction and in every addMember event. It is mapped clientId to M to be better work with what the IAudience event provides</td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#createservicemember-Method'>createServiceMember(audienceMember)</a></td>
      <td></td>
      <td>Provides ability for inheriting class to modify/extend the audience object.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#getmembers-Method'>getMembers()</a></td>
      <td></td>
      <td>Returns an map of all users currently in the Fluid session where key is the userId and the value is the member object. The implementation may choose to exclude certain connections from the returned map. E.g. ServiceAudience excludes non-interactive connections to represent only the roster of live users.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#getmyself-Method'>getMyself()</a></td>
      <td></td>
      <td>Returns the current active user on this client once they are connected. Otherwise, returns undefined.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/fluid-static/serviceaudience#shouldincludeasmember-Method'>shouldIncludeAsMember(member)</a></td>
      <td></td>
      <td>Provides ability for the inheriting class to include/omit specific members. An example use case is omitting the summarizer client.</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### ServiceAudience.(constructor) {#_constructor_-Constructor}

Constructs a new instance of the `ServiceAudience` class

<b>Signature:</b>

```typescript
constructor(
    container: IContainer);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>container</td>
      <td>IContainer</td>
      <td></td>
    </tr>
  </tbody>
</table>


## Property Details {#properties-details}

### audience {#audience-Property}

Audience object which includes all the existing members of the container.

<b>Signature:</b>

```typescript
protected readonly audience: IAudience;
```

### container {#container-Property}

Fluid Container to read the audience from.

<b>Signature:</b>

```typescript
protected readonly container: IContainer;
```

### lastMembers {#lastmembers-Property}

Retain the most recent member list. This is so we have more information about a member leaving the audience in the removeMember event. It allows us to match the behavior of the addMember event where it only fires on a change to the members this class exposes (and would actually produce a change in what getMembers returns). It also allows us to provide the client details in the event which makes it easier to find that client connection in a map keyed on the userId and not clientId. This map will always be up-to-date in a removeMember event because it is set once at construction and in every addMember event. It is mapped clientId to M to be better work with what the IAudience event provides

<b>Signature:</b>

```typescript
protected lastMembers: Map<string, M>;
```

## Method Details {#methods-details}

### createServiceMember {#createservicemember-Method}

Provides ability for inheriting class to modify/extend the audience object.

<b>Signature:</b>

```typescript
protected abstract createServiceMember(audienceMember: IClient): M;
```

#### Parameters {#createservicemember-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>audienceMember</td>
      <td><a href='/docs/apis/protocol-definitions/iclient'>IClient</a></td>
      <td>Record of a specific audience member.</td>
    </tr>
  </tbody>
</table>

### getMembers {#getmembers-Method}

Returns an map of all users currently in the Fluid session where key is the userId and the value is the member object. The implementation may choose to exclude certain connections from the returned map. E.g. ServiceAudience excludes non-interactive connections to represent only the roster of live users.

<b>Signature:</b>

```typescript
getMembers(): Map<string, M>;
```

### getMyself {#getmyself-Method}

Returns the current active user on this client once they are connected. Otherwise, returns undefined.

<b>Signature:</b>

```typescript
getMyself(): M | undefined;
```

### shouldIncludeAsMember {#shouldincludeasmember-Method}

Provides ability for the inheriting class to include/omit specific members. An example use case is omitting the summarizer client.

<b>Signature:</b>

```typescript
protected shouldIncludeAsMember(member: IClient): boolean;
```

#### Parameters {#shouldincludeasmember-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>member</td>
      <td><a href='/docs/apis/protocol-definitions/iclient'>IClient</a></td>
      <td>Member to be included/omitted.</td>
    </tr>
  </tbody>
</table>


</div>
