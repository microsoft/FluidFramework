{"kind":"Package","title":"@fluidframework/protocol-base Package","members":{"Function":{"addBlobToTree":"/docs/apis/protocol-base#addblobtotree-Function","buildHierarchy":"/docs/apis/protocol-base#buildhierarchy-Function","generateServiceProtocolEntries":"/docs/apis/protocol-base#generateserviceprotocolentries-Function","getGitMode":"/docs/apis/protocol-base#getgitmode-Function","getGitType":"/docs/apis/protocol-base#getgittype-Function","getQuorumTreeEntries":"/docs/apis/protocol-base#getquorumtreeentries-Function","isSystemMessage":"/docs/apis/protocol-base#issystemmessage-Function","mergeAppAndProtocolTree":"/docs/apis/protocol-base#mergeappandprotocoltree-Function"},"Class":{"AttachmentTreeEntry":"/docs/apis/protocol-base/attachmenttreeentry","BlobTreeEntry":"/docs/apis/protocol-base/blobtreeentry","ProtocolOpHandler":"/docs/apis/protocol-base/protocolophandler","Quorum":"/docs/apis/protocol-base/quorum","QuorumClients":"/docs/apis/protocol-base/quorumclients","QuorumProposals":"/docs/apis/protocol-base/quorumproposals","TreeTreeEntry":"/docs/apis/protocol-base/treetreeentry"},"Interface":{"ILocalSequencedClient":"/docs/apis/protocol-base/ilocalsequencedclient","IProtocolHandler":"/docs/apis/protocol-base/iprotocolhandler","IQuorumSnapshot":"/docs/apis/protocol-base/iquorumsnapshot","IScribeProtocolState":"/docs/apis/protocol-base/iscribeprotocolstate"},"Variable":{"isServiceMessageType":"/docs/apis/protocol-base#isservicemessagetype-Variable"},"TypeAlias":{"QuorumClientsSnapshot":"/docs/apis/protocol-base#quorumclientssnapshot-TypeAlias","QuorumProposalsSnapshot":"/docs/apis/protocol-base#quorumproposalssnapshot-TypeAlias"}},"package":"@fluidframework/protocol-base","unscopedPackageName":"protocol-base"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/protocol-base](/docs/apis/protocol-base)

## Classes

<table class="table table-striped table-hover class-list">
<caption>List of classes contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Class</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/protocol-base/attachmenttreeentry'>AttachmentTreeEntry</a></td>
      <td>Basic implementation of an attachment ITreeEntry</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/blobtreeentry'>BlobTreeEntry</a></td>
      <td>Basic implementation of a blob ITreeEntry</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/protocolophandler'>ProtocolOpHandler</a></td>
      <td>Handles protocol specific ops.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/quorum'>Quorum</a></td>
      <td>A quorum represents all clients currently within the collaboration window. As well as the values they have agreed upon and any pending proposals.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/quorumclients'>QuorumClients</a></td>
      <td>The QuorumClients is used to track members joining and leaving the collaboration session.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/quorumproposals'>QuorumProposals</a></td>
      <td>The QuorumProposals holds a key/value store. Proposed values become finalized in the store once all connected clients have seen the proposal.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/treetreeentry'>TreeTreeEntry</a></td>
      <td>Basic implementation of a tree ITreeEntry</td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover function-list">
<caption>List of functions contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Function</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/protocol-base#addblobtotree-Function'>addBlobToTree(tree, blobName, content)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#buildhierarchy-Function'>buildHierarchy(flatTree, blobsShaToPathCache, removeAppTreePrefix)</a></td>
      <td>Build a tree hierarchy base on a flat tree</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#generateserviceprotocolentries-Function'>generateServiceProtocolEntries(deli, scribe)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#getgitmode-Function'>getGitMode(value)</a></td>
      <td>Take a summary object and returns its git mode.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#getgittype-Function'>getGitType(value)</a></td>
      <td>Take a summary object and returns its type.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#getquorumtreeentries-Function'>getQuorumTreeEntries(documentId, minimumSequenceNumber, sequenceNumber, term, quorumSnapshot)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#issystemmessage-Function'>isSystemMessage(message)</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#mergeappandprotocoltree-Function'>mergeAppAndProtocolTree(appSummaryTree, protocolTree)</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

## Interfaces

<table class="table table-striped table-hover interface-list">
<caption>List of interfaces contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Interface</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/protocol-base/ilocalsequencedclient'>ILocalSequencedClient</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/iprotocolhandler'>IProtocolHandler</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/iquorumsnapshot'>IQuorumSnapshot</a></td>
      <td>Snapshot format for a Quorum</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base/iscribeprotocolstate'>IScribeProtocolState</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

## Variables

<table class="table table-striped table-hover variable-list">
<caption>List of variables contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Variable</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/protocol-base#isservicemessagetype-Variable'>isServiceMessageType</a></td>
      <td>Check if the string is a service message type, which includes MessageType.ClientJoin, MessageType.ClientLeave, MessageType.Control, MessageType.NoClient, MessageType.SummaryAck, and MessageType.SummaryNack</td>
    </tr>
  </tbody>
</table>

## Type Aliases

<table class="table table-striped table-hover alias-list">
<caption>List of type aliases contained in this package</caption>
  <thead>
    <tr>
     <th scope="col">Type Alias</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/protocol-base#quorumclientssnapshot-TypeAlias'>QuorumClientsSnapshot</a></td>
      <td>Snapshot format for a QuorumClients</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/protocol-base#quorumproposalssnapshot-TypeAlias'>QuorumProposalsSnapshot</a></td>
      <td>Snapshot format for a QuorumProposals</td>
    </tr>
  </tbody>
</table>

<hr><div id=package-details>

## Function Details {#functions-details}

### addBlobToTree {#addblobtotree-Function}

<b>Signature:</b>

```typescript
export declare function addBlobToTree(tree: ITree, blobName: string, content: object): void;
```

#### Parameters {#addblobtotree-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tree</td>
      <td><a href='/docs/apis/protocol-definitions/itree'>ITree</a></td>
      <td></td>
    </tr>
    <tr>
      <td>blobName</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>content</td>
      <td>object</td>
      <td></td>
    </tr>
  </tbody>
</table>

### buildHierarchy {#buildhierarchy-Function}

Build a tree hierarchy base on a flat tree

<b>Signature:</b>

```typescript
export declare function buildHierarchy(flatTree: git.ITree, blobsShaToPathCache?: Map<string, string>, removeAppTreePrefix?: boolean): ISnapshotTreeEx;
```

#### Parameters {#buildhierarchy-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>flatTree</td>
      <td>git.ITree</td>
      <td>a flat tree</td>
    </tr>
    <tr>
      <td>blobsShaToPathCache</td>
      <td>Map<string, string></td>
      <td>Map with blobs sha as keys and values as path of the blob.</td>
    </tr>
    <tr>
      <td>removeAppTreePrefix</td>
      <td>boolean</td>
      <td>Remove <code>.app/</code> from beginning of paths when present</td>
    </tr>
  </tbody>
</table>

#### Returns {#buildhierarchy-Function-returns}


the hierarchical tree

<b>Return type(s):</b> [ISnapshotTreeEx](/docs/apis/protocol-definitions/isnapshottreeex)

### generateServiceProtocolEntries {#generateserviceprotocolentries-Function}

<b>Signature:</b>

```typescript
export declare function generateServiceProtocolEntries(deli: string, scribe: string): ITreeEntry[];
```

#### Parameters {#generateserviceprotocolentries-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>deli</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>scribe</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### getGitMode {#getgitmode-Function}

Take a summary object and returns its git mode.

<b>Signature:</b>

```typescript
export declare function getGitMode(value: SummaryObject): string;
```

#### Parameters {#getgitmode-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>value</td>
      <td><a href='/docs/apis/protocol-definitions#summaryobject-TypeAlias'>SummaryObject</a></td>
      <td>summary object</td>
    </tr>
  </tbody>
</table>

#### Returns {#getgitmode-Function-returns}


the git mode of summary object

<b>Return type(s):</b> string

### getGitType {#getgittype-Function}

Take a summary object and returns its type.

<b>Signature:</b>

```typescript
export declare function getGitType(value: SummaryObject): "blob" | "tree";
```

#### Parameters {#getgittype-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>value</td>
      <td><a href='/docs/apis/protocol-definitions#summaryobject-TypeAlias'>SummaryObject</a></td>
      <td>summary object</td>
    </tr>
  </tbody>
</table>

#### Returns {#getgittype-Function-returns}


the type of summary object

<b>Return type(s):</b> "blob" \| "tree"

### getQuorumTreeEntries {#getquorumtreeentries-Function}

<b>Signature:</b>

```typescript
export declare function getQuorumTreeEntries(documentId: string, minimumSequenceNumber: number, sequenceNumber: number, term: number, quorumSnapshot: IQuorumSnapshot): ITreeEntry[];
```

#### Parameters {#getquorumtreeentries-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>documentId</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>minimumSequenceNumber</td>
      <td>number</td>
      <td></td>
    </tr>
    <tr>
      <td>sequenceNumber</td>
      <td>number</td>
      <td></td>
    </tr>
    <tr>
      <td>term</td>
      <td>number</td>
      <td></td>
    </tr>
    <tr>
      <td>quorumSnapshot</td>
      <td><a href='/docs/apis/protocol-base/iquorumsnapshot'>IQuorumSnapshot</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### isSystemMessage {#issystemmessage-Function}

<b>Signature:</b>

```typescript
export declare function isSystemMessage(message: ISequencedDocumentMessage): boolean;
```

#### Parameters {#issystemmessage-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td><a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### mergeAppAndProtocolTree {#mergeappandprotocoltree-Function}

<b>Signature:</b>

```typescript
export declare function mergeAppAndProtocolTree(appSummaryTree: ITree, protocolTree: ITree): ICreateTreeEntry[];
```

#### Parameters {#mergeappandprotocoltree-Function-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>appSummaryTree</td>
      <td>ITree</td>
      <td></td>
    </tr>
    <tr>
      <td>protocolTree</td>
      <td>ITree</td>
      <td></td>
    </tr>
  </tbody>
</table>


## Variable Details {#variables-details}

### isServiceMessageType {#isservicemessagetype-Variable}

Check if the string is a service message type, which includes MessageType.ClientJoin, MessageType.ClientLeave, MessageType.Control, MessageType.NoClient, MessageType.SummaryAck, and MessageType.SummaryNack

<b>Signature:</b>

```typescript
isServiceMessageType: (type: string) => boolean
```

## Type Alias Details {#type-aliases-details}

### QuorumClientsSnapshot {#quorumclientssnapshot-TypeAlias}

Snapshot format for a QuorumClients

<b>Signature:</b>

```typescript
export declare type QuorumClientsSnapshot = [string, ISequencedClient][];
```

### QuorumProposalsSnapshot {#quorumproposalssnapshot-TypeAlias}

Snapshot format for a QuorumProposals

<b>Signature:</b>

```typescript
export declare type QuorumProposalsSnapshot = {
    proposals: [number, ISequencedProposal, string[]][];
    values: [string, ICommittedProposal][];
};
```

</div>
