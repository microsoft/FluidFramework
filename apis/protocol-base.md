{
  "title": "@fluidframework/protocol-base Package",
  "kind": "Package",
  "members": {
    "Function": {
      "addBlobToTree": "/docs/apis/protocol-base#addblobtotree-function",
      "buildHierarchy": "/docs/apis/protocol-base#buildhierarchy-function",
      "generateServiceProtocolEntries": "/docs/apis/protocol-base#generateserviceprotocolentries-function",
      "getGitMode": "/docs/apis/protocol-base#getgitmode-function",
      "getGitType": "/docs/apis/protocol-base#getgittype-function",
      "getQuorumTreeEntries": "/docs/apis/protocol-base#getquorumtreeentries-function",
      "isSystemMessage": "/docs/apis/protocol-base#issystemmessage-function",
      "mergeAppAndProtocolTree": "/docs/apis/protocol-base#mergeappandprotocoltree-function"
    },
    "Class": {
      "AttachmentTreeEntry": "/docs/apis/protocol-base\\attachmenttreeentry-class",
      "BlobTreeEntry": "/docs/apis/protocol-base\\blobtreeentry-class",
      "ProtocolOpHandler": "/docs/apis/protocol-base\\protocolophandler-class",
      "Quorum": "/docs/apis/protocol-base\\quorum-class",
      "QuorumClients": "/docs/apis/protocol-base\\quorumclients-class",
      "QuorumProposals": "/docs/apis/protocol-base\\quorumproposals-class",
      "TreeTreeEntry": "/docs/apis/protocol-base\\treetreeentry-class"
    },
    "Interface": {
      "ILocalSequencedClient": "/docs/apis/protocol-base\\ilocalsequencedclient-interface",
      "IProtocolHandler": "/docs/apis/protocol-base\\iprotocolhandler-interface",
      "IQuorumSnapshot": "/docs/apis/protocol-base\\iquorumsnapshot-interface",
      "IScribeProtocolState": "/docs/apis/protocol-base\\iscribeprotocolstate-interface"
    },
    "Variable": {
      "isServiceMessageType": "/docs/apis/protocol-base#isservicemessagetype-variable"
    },
    "TypeAlias": {
      "QuorumClientsSnapshot": "/docs/apis/protocol-base#quorumclientssnapshot-typealias",
      "QuorumProposalsSnapshot": "/docs/apis/protocol-base#quorumproposalssnapshot-typealias"
    }
  },
  "package": "@fluidframework/protocol-base",
  "unscopedPackageName": "protocol-base"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/protocol-base](/docs/apis/protocol-base)

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Interface
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\ilocalsequencedclient-interface'>ILocalSequencedClient</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\iprotocolhandler-interface'>IProtocolHandler</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\iquorumsnapshot-interface'>IQuorumSnapshot</a>
      </td>
      <td>
        Snapshot format for a Quorum
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\iscribeprotocolstate-interface'>IScribeProtocolState</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Class
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\attachmenttreeentry-class'>AttachmentTreeEntry</a>
      </td>
      <td>
        Basic implementation of an attachment ITreeEntry
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\blobtreeentry-class'>BlobTreeEntry</a>
      </td>
      <td>
        Basic implementation of a blob ITreeEntry
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\protocolophandler-class'>ProtocolOpHandler</a>
      </td>
      <td>
        Handles protocol specific ops.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\quorum-class'>Quorum</a>
      </td>
      <td>
        A quorum represents all clients currently within the collaboration window. As well as the values they have agreed upon and any pending proposals.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\quorumclients-class'>QuorumClients</a>
      </td>
      <td>
        The QuorumClients is used to track members joining and leaving the collaboration session.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\quorumproposals-class'>QuorumProposals</a>
      </td>
      <td>
        The QuorumProposals holds a key/value store. Proposed values become finalized in the store once all connected clients have seen the proposal.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base\treetreeentry-class'>TreeTreeEntry</a>
      </td>
      <td>
        Basic implementation of a tree ITreeEntry
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        TypeAlias
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#quorumclientssnapshot-typealias'>QuorumClientsSnapshot</a>
      </td>
      <td>
        Snapshot format for a QuorumClients
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#quorumproposalssnapshot-typealias'>QuorumProposalsSnapshot</a>
      </td>
      <td>
        Snapshot format for a QuorumProposals
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Function
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#addblobtotree-function'>addBlobToTree</a>
      </td>
      <td>
        void
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#buildhierarchy-function'>buildHierarchy</a>
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\isnapshottreeex-interface'>ISnapshotTreeEx</a>
      </td>
      <td>
        Build a tree hierarchy base on a flat tree
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#generateserviceprotocolentries-function'>generateServiceProtocolEntries</a>
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions#itreeentry-typealias'>ITreeEntry</a>[]
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#getgitmode-function'>getGitMode</a>
      </td>
      <td>
        string
      </td>
      <td>
        Take a summary object and returns its git mode.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#getgittype-function'>getGitType</a>
      </td>
      <td>
        "blob" | "tree"
      </td>
      <td>
        Take a summary object and returns its type.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#getquorumtreeentries-function'>getQuorumTreeEntries</a>
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions#itreeentry-typealias'>ITreeEntry</a>[]
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#issystemmessage-function'>isSystemMessage</a>
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#mergeappandprotocoltree-function'>mergeAppAndProtocolTree</a>
      </td>
      <td>
        ICreateTreeEntry[]
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Variables

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Variable
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#isservicemessagetype-variable'>isServiceMessageType</a>
      </td>
      <td>
        Check if the string is a service message type, which includes MessageType.ClientJoin, MessageType.ClientLeave, MessageType.Control, MessageType.NoClient, MessageType.SummaryAck, and MessageType.SummaryNack
      </td>
    </tr>
  </tbody>
</table>

## Type Details

### QuorumClientsSnapshot {#quorumclientssnapshot-typealias}

Snapshot format for a QuorumClients

#### Signature {#quorumclientssnapshot-signature}

```typescript
export declare type QuorumClientsSnapshot = [string, ISequencedClient][];
```

### QuorumProposalsSnapshot {#quorumproposalssnapshot-typealias}

Snapshot format for a QuorumProposals

#### Signature {#quorumproposalssnapshot-signature}

```typescript
export declare type QuorumProposalsSnapshot = {
    proposals: [number, ISequencedProposal, string[]][];
    values: [string, ICommittedProposal][];
};
```

## Function Details

### addBlobToTree {#addblobtotree-function}

#### Signature {#addblobtotree-signature}

```typescript
export declare function addBlobToTree(tree: ITree, blobName: string, content: object): void;
```

#### Parameters {#addblobtotree-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        tree
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\itree-interface'>ITree</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        blobName
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        content
      </td>
      <td>
        object
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### buildHierarchy {#buildhierarchy-function}

Build a tree hierarchy base on a flat tree

#### Signature {#buildhierarchy-signature}

```typescript
export declare function buildHierarchy(flatTree: git.ITree, blobsShaToPathCache?: Map<string, string>, removeAppTreePrefix?: boolean): ISnapshotTreeEx;
```

#### Parameters {#buildhierarchy-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        flatTree
      </td>
      <td>
      </td>
      <td>
        git.ITree
      </td>
      <td>
        a flat tree
      </td>
    </tr>
    <tr>
      <td>
        blobsShaToPathCache
      </td>
      <td>
        optional
      </td>
      <td>
        Map<string, string>
      </td>
      <td>
        Map with blobs sha as keys and values as path of the blob.
      </td>
    </tr>
    <tr>
      <td>
        removeAppTreePrefix
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
        Remove <code>.app/</code> from beginning of paths when present
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#buildhierarchy-returns}

the hierarchical tree

<b>Return type:</b> [ISnapshotTreeEx](/docs/apis/protocol-definitions\isnapshottreeex-interface)

### generateServiceProtocolEntries {#generateserviceprotocolentries-function}

#### Signature {#generateserviceprotocolentries-signature}

```typescript
export declare function generateServiceProtocolEntries(deli: string, scribe: string): ITreeEntry[];
```

#### Parameters {#generateserviceprotocolentries-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        deli
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        scribe
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#generateserviceprotocolentries-returns}

<b>Return type:</b> [ITreeEntry](/docs/apis/protocol-definitions#itreeentry-typealias)<!-- -->\[\]

### getGitMode {#getgitmode-function}

Take a summary object and returns its git mode.

#### Signature {#getgitmode-signature}

```typescript
export declare function getGitMode(value: SummaryObject): string;
```

#### Parameters {#getgitmode-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        value
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions#summaryobject-typealias'>SummaryObject</a>
      </td>
      <td>
        summary object
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getgitmode-returns}

the git mode of summary object

<b>Return type:</b> string

### getGitType {#getgittype-function}

Take a summary object and returns its type.

#### Signature {#getgittype-signature}

```typescript
export declare function getGitType(value: SummaryObject): "blob" | "tree";
```

#### Parameters {#getgittype-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        value
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions#summaryobject-typealias'>SummaryObject</a>
      </td>
      <td>
        summary object
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getgittype-returns}

the type of summary object

<b>Return type:</b> "blob" \| "tree"

### getQuorumTreeEntries {#getquorumtreeentries-function}

#### Signature {#getquorumtreeentries-signature}

```typescript
export declare function getQuorumTreeEntries(documentId: string, minimumSequenceNumber: number, sequenceNumber: number, term: number, quorumSnapshot: IQuorumSnapshot): ITreeEntry[];
```

#### Parameters {#getquorumtreeentries-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        documentId
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        minimumSequenceNumber
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        sequenceNumber
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        term
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        quorumSnapshot
      </td>
      <td>
        <a href='/docs/apis/protocol-base\iquorumsnapshot-interface'>IQuorumSnapshot</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getquorumtreeentries-returns}

<b>Return type:</b> [ITreeEntry](/docs/apis/protocol-definitions#itreeentry-typealias)<!-- -->\[\]

### isSystemMessage {#issystemmessage-function}

#### Signature {#issystemmessage-signature}

```typescript
export declare function isSystemMessage(message: ISequencedDocumentMessage): boolean;
```

#### Parameters {#issystemmessage-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        message
      </td>
      <td>
        <a href='/docs/apis/protocol-definitions\isequenceddocumentmessage-interface'>ISequencedDocumentMessage</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#issystemmessage-returns}

<b>Return type:</b> boolean

### mergeAppAndProtocolTree {#mergeappandprotocoltree-function}

#### Signature {#mergeappandprotocoltree-signature}

```typescript
export declare function mergeAppAndProtocolTree(appSummaryTree: ITree, protocolTree: ITree): ICreateTreeEntry[];
```

#### Parameters {#mergeappandprotocoltree-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        appSummaryTree
      </td>
      <td>
        ITree
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        protocolTree
      </td>
      <td>
        ITree
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#mergeappandprotocoltree-returns}

<b>Return type:</b> ICreateTreeEntry\[\]

## Variable Details

### isServiceMessageType {#isservicemessagetype-variable}

Check if the string is a service message type, which includes MessageType.ClientJoin, MessageType.ClientLeave, MessageType.Control, MessageType.NoClient, MessageType.SummaryAck, and MessageType.SummaryNack

#### Signature {#isservicemessagetype-signature}

```typescript
isServiceMessageType: (type: string) => boolean
```