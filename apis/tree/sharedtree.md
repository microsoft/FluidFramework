{"kind":"Class","title":"SharedTree Class","summary":"A \\[distributed tree\\](../Readme.md).","members":{"Constructor":{"(constructor)":"/docs/apis/tree/sharedtree#_constructor__1-Constructor"},"Method":{"applyEdit":"/docs/apis/tree/sharedtree#applyedit_1-Method","applyStashedOp":"/docs/apis/tree/sharedtree#applystashedop-Method","attributeNodeId":"/docs/apis/tree/sharedtree#attributenodeid-Method","convertToNodeId":"/docs/apis/tree/sharedtree#converttonodeid-Method","convertToStableNodeId":"/docs/apis/tree/sharedtree#converttostablenodeid-Method","create":"/docs/apis/tree/sharedtree#create-Method","generateNodeId":"/docs/apis/tree/sharedtree#generatenodeid-Method","getFactory":"/docs/apis/tree/sharedtree#getfactory_1-Method","getRuntime":"/docs/apis/tree/sharedtree#getruntime-Method","getWriteFormat":"/docs/apis/tree/sharedtree#getwriteformat-Method","loadCore":"/docs/apis/tree/sharedtree#loadcore-Method","mergeEditsFrom":"/docs/apis/tree/sharedtree#mergeeditsfrom-Method","onDisconnect":"/docs/apis/tree/sharedtree#ondisconnect-Method","processCore":"/docs/apis/tree/sharedtree#processcore-Method","registerCore":"/docs/apis/tree/sharedtree#registercore-Method","reSubmitCore":"/docs/apis/tree/sharedtree#resubmitcore-Method","revert":"/docs/apis/tree/sharedtree#revert-Method","summarizeCore":"/docs/apis/tree/sharedtree#summarizecore-Method","tryConvertToNodeId":"/docs/apis/tree/sharedtree#tryconverttonodeid-Method","tryConvertToStableNodeId":"/docs/apis/tree/sharedtree#tryconverttostablenodeid-Method"},"Property":{"attributionId":"/docs/apis/tree/sharedtree#attributionid-Property","currentView":"/docs/apis/tree/sharedtree#currentview-Property","edits":"/docs/apis/tree/sharedtree#edits-Property","logger":"/docs/apis/tree/sharedtree#logger-Property","logViewer":"/docs/apis/tree/sharedtree#logviewer-Property"}},"package":"@fluid-experimental/tree","unscopedPackageName":"tree"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluid-experimental/tree](/docs/apis/tree) &gt; [SharedTree](/docs/apis/tree/sharedtree)

A \[distributed tree\](../Readme.md).

<b>Signature:</b>

```typescript
export declare class SharedTree extends SharedObject<ISharedTreeEvents> implements NodeIdContext 
```
<b>Extends:</b> [SharedObject](/docs/apis/shared-object-base/sharedobject)<!-- -->&lt;[ISharedTreeEvents](/docs/apis/tree/isharedtreeevents)

<b>Implements:</b> [NodeIdContext](/docs/apis/tree/nodeidcontext)

## Constructors

<table class="table table-striped table-hover constructor-list">
<caption>List of constructors for this class</caption>
  <thead>
    <tr>
     <th scope="col">Constructor</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#_constructor_-Constructor'>(constructor)(runtime, id, args)</a></td>
      <td></td>
      <td>Create a new SharedTree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#_constructor__1-Constructor'>(constructor)(runtime, id, args)</a></td>
      <td></td>
      <td>Constructs a new instance of the <code>SharedTree</code> class</td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this class</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#attributionid-Property'>attributionId</a></td>
      <td></td>
      <td><a href='/docs/apis/tree#attributionid-TypeAlias'>AttributionId</a></td>
      <td>The UUID used for attribution of nodes created by this SharedTree. All shared trees with a write format of 0.1.1 or greater have a unique attribution ID which may be configured in the constructor. All other shared trees (i.e. those with a write format of 0.0.2) use the nil UUID as their attribution ID.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#currentview-Property'>currentView</a></td>
      <td></td>
      <td><a href='/docs/apis/tree/revisionview'>RevisionView</a></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#edits-Property'>edits</a></td>
      <td></td>
      <td><a href='/docs/apis/tree/orderededitset'>OrderedEditSet</a><<a href='/docs/apis/tree/internalizedchange'>InternalizedChange</a>></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#logger-Property'>logger</a></td>
      <td></td>
      <td><a href='/docs/apis/common-definitions/itelemetrylogger'>ITelemetryLogger</a></td>
      <td>logger for SharedTree events.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#logviewer-Property'>logViewer</a></td>
      <td></td>
      <td><a href='/docs/apis/tree/logviewer'>LogViewer</a></td>
      <td>Viewer for trees defined by editLog. This allows access to views of the tree at different revisions (various points in time).</td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this class</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Modifiers</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#applyedit-Method'>applyEdit(changes)</a></td>
      <td></td>
      <td>Applies a set of changes to this tree. The result will be reflected in <code>SharedTree.currentView</code>. This method does not allow for snapshot isolation, as the changes are always applied to the most recent revision. If it is desireable to read from and apply changes to a fixed view that does not change when remote changes arrive, <code>Checkout</code> should be used instead.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#applyedit_1-Method'>applyEdit(changes)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#applystashedop-Method'>applyStashedOp(op)</a></td>
      <td></td>
      <td>"Pending local state" refers to ops submitted to the runtime that have not yet been acked. When closing a container, hosts have the option to stash this pending local state somewhere to be reapplied later (to avoid data loss). If a host then loads a container using that stashed state, this function is called for each stashed op, and is expected to: 1. Update this DDS to reflect that state locally. 2. Return any <code>localOpMetadata</code> that would have been associated with this op.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#attributenodeid-Method'>attributeNodeId(id)</a></td>
      <td></td>
      <td>Returns the attribution ID associated with the SharedTree that generated the given node ID. This is generally only useful for clients with a write format of 0.1.1 or greater since older clients cannot be given an attribution ID and will always use the default <code>attributionId</code> of the tree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#converttonodeid-Method'>convertToNodeId(id)</a></td>
      <td></td>
      <td>Given a stable ID, return the corresponding NodeId or throws if the supplied stable ID was never generated with this tree, either as a UUID corresponding to a <code>NodeId</code> or as an override passed to <code>generateNodeId</code>. If a stable ID is returned, this does not imply that there is a node with <code>id</code> in the current revision of the tree, only that <code>id</code> was at some point generated by an instance of this SharedTree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#converttostablenodeid-Method'>convertToStableNodeId(id)</a></td>
      <td></td>
      <td>Given a NodeId, returns the corresponding stable ID or throws if the supplied node ID was not generated with this tree (<code>NodeId</code>s may not be used across SharedTree instances, see <code>generateNodeId</code> for more). The returned value will be a UUID, unless the creation of <code>id</code> used an override string (see <code>generateNodeId</code> for more). The result is safe to persist and re-use across <code>SharedTree</code> instances, unlike <code>NodeId</code>.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#create-Method'>create(runtime, id)</a></td>
      <td><code>static</code></td>
      <td>Create a new SharedTree. It will contain the default value (see initialTree).</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#generatenodeid-Method'>generateNodeId(override)</a></td>
      <td></td>
      <td>Generates a node identifier. The returned IDs may be used as the identifier of a node in the SharedTree. <code>NodeId</code>s are *always* unique and stable within the scope of the tree and session that generated them. They are *not* unique within a Fluid container, and *cannot* be compared across instances of a SharedTree. They are *not* stable across sessions/lifetimes of a SharedTree, and *cannot* be persisted (e.g. stored in payloads, uploaded in blobs, etc.). If stable persistence is needed, NodeIdConverter.convertToStableNodeId may be used to return a corresponding UUID that is globally unique and stable.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#getfactory-Method'>getFactory(args)</a></td>
      <td><code>static</code></td>
      <td>Get a factory for SharedTree to register with the data store.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#getfactory_1-Method'>getFactory(args)</a></td>
      <td><code>static</code></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#getruntime-Method'>getRuntime()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#getwriteformat-Method'>getWriteFormat()</a></td>
      <td></td>
      <td>The write format version currently used by this <code>SharedTree</code>. This is always initialized to the write format passed to the tree's constructor, but it may automatically upgrade over time (e.g. when connected to another SharedTree with a higher write format, or when loading a summary with a higher write format).</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#loadcore-Method'>loadCore(storage)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#mergeeditsfrom-Method'>mergeEditsFrom(other, edits, stableIdRemapper)</a></td>
      <td></td>
      <td>Merges <code>edits</code> from <code>other</code> into this SharedTree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#ondisconnect-Method'>onDisconnect()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#processcore-Method'>processCore(message, local)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#registercore-Method'>registerCore()</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#resubmitcore-Method'>reSubmitCore(op, localOpMetadata)</a></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#revert-Method'>revert(editId)</a></td>
      <td></td>
      <td>Reverts a previous edit by applying a new edit containing the inverse of the original edit's changes.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#summarizecore-Method'>summarizeCore(serializer)</a></td>
      <td></td>
      <td>Gets a form of the object that can be serialized.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#tryconverttonodeid-Method'>tryConvertToNodeId(id)</a></td>
      <td></td>
      <td>Given a stable ID, return the corresponding NodeId or return undefined if the supplied stable ID was never generated with this tree, either as a UUID corresponding to a <code>NodeId</code> or as an override passed to <code>generateNodeId</code>. If a stable ID is returned, this does not imply that there is a node with <code>id</code> in the current revision of the tree, only that <code>id</code> was at some point generated by an instance of this SharedTree.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/tree/sharedtree#tryconverttostablenodeid-Method'>tryConvertToStableNodeId(id)</a></td>
      <td></td>
      <td>Given a NodeId, attempt to return the corresponding stable ID. The returned value will be a UUID, unless the creation of <code>id</code> used an override string (see <code>generateNodeId</code> for more). The returned stable ID is undefined if <code>id</code> was never created with this SharedTree. If a stable ID is returned, this does not imply that there is a node with <code>id</code> in the current revision of the tree, only that <code>id</code> was at some point generated by some instance of this tree.</td>
    </tr>
  </tbody>
</table>

<hr><div id=class-details>

## Constructor Details {#constructors-details}

### SharedTree.(constructor) {#_constructor_-Constructor}

Create a new SharedTree.

<b>Signature:</b>

```typescript
constructor(runtime: IFluidDataStoreRuntime, id: string, ...args: SharedTreeArgs<WriteFormat.v0_0_2>);
```

#### Parameters {#_constructor_-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>runtime</td>
      <td><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime'>IFluidDataStoreRuntime</a></td>
      <td>The runtime the SharedTree will be associated with</td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td>Unique ID for the SharedTree</td>
    </tr>
    <tr>
      <td>args</td>
      <td><a href='/docs/apis/tree#sharedtreeargs-TypeAlias'>SharedTreeArgs</a><<a href='/docs/apis/tree#writeformat-Enum'>WriteFormat.v0_0_2</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>

### SharedTree.(constructor) {#_constructor__1-Constructor}

Constructs a new instance of the `SharedTree` class

<b>Signature:</b>

```typescript
constructor(runtime: IFluidDataStoreRuntime, id: string, ...args: SharedTreeArgs<WriteFormat.v0_1_1>);
```

#### Parameters {#_constructor__1-Constructor-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>runtime</td>
      <td><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime'>IFluidDataStoreRuntime</a></td>
      <td></td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
    <tr>
      <td>args</td>
      <td><a href='/docs/apis/tree#sharedtreeargs-TypeAlias'>SharedTreeArgs</a><<a href='/docs/apis/tree#writeformat-Enum'>WriteFormat.v0_1_1</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>


## Property Details {#properties-details}

### attributionId {#attributionid-Property}

The UUID used for attribution of nodes created by this SharedTree. All shared trees with a write format of 0.1.1 or greater have a unique attribution ID which may be configured in the constructor. All other shared trees (i.e. those with a write format of 0.0.2) use the nil UUID as their attribution ID.

<b>Signature:</b>

```typescript
get attributionId(): AttributionId;
```

### currentView {#currentview-Property}

<b>Signature:</b>

```typescript
get currentView(): RevisionView;
```

### edits {#edits-Property}

<b>Signature:</b>

```typescript
get edits(): OrderedEditSet<InternalizedChange>;
```

### logger {#logger-Property}

logger for SharedTree events.

<b>Signature:</b>

```typescript
readonly logger: ITelemetryLogger;
```

### logViewer {#logviewer-Property}

Viewer for trees defined by editLog. This allows access to views of the tree at different revisions (various points in time).

<b>Signature:</b>

```typescript
get logViewer(): LogViewer;
```

## Method Details {#methods-details}

### applyEdit {#applyedit-Method}

Applies a set of changes to this tree. The result will be reflected in `SharedTree.currentView`<!-- -->. This method does not allow for snapshot isolation, as the changes are always applied to the most recent revision. If it is desireable to read from and apply changes to a fixed view that does not change when remote changes arrive, `Checkout` should be used instead.

<b>Signature:</b>

```typescript
applyEdit(...changes: readonly Change[]): Edit<InternalizedChange>;
```

#### Parameters {#applyedit-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>changes</td>
      <td>readonly <a href='/docs/apis/tree#change-TypeAlias'>Change</a>[]</td>
      <td></td>
    </tr>
  </tbody>
</table>

### applyEdit {#applyedit_1-Method}

<b>Signature:</b>

```typescript
applyEdit(changes: readonly Change[]): Edit<InternalizedChange>;
```

#### Parameters {#applyedit_1-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>changes</td>
      <td>readonly <a href='/docs/apis/tree#change-TypeAlias'>Change</a>[]</td>
      <td></td>
    </tr>
  </tbody>
</table>

### applyStashedOp {#applystashedop-Method}

"Pending local state" refers to ops submitted to the runtime that have not yet been acked. When closing a container, hosts have the option to stash this pending local state somewhere to be reapplied later (to avoid data loss). If a host then loads a container using that stashed state, this function is called for each stashed op, and is expected to: 1. Update this DDS to reflect that state locally. 2. Return any `localOpMetadata` that would have been associated with this op.

<b>Signature:</b>

```typescript
protected applyStashedOp(op: unknown): StashedLocalOpMetadata;
```

#### Parameters {#applystashedop-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>op</td>
      <td>unknown</td>
      <td></td>
    </tr>
  </tbody>
</table>

### attributeNodeId {#attributenodeid-Method}

Returns the attribution ID associated with the SharedTree that generated the given node ID. This is generally only useful for clients with a write format of 0.1.1 or greater since older clients cannot be given an attribution ID and will always use the default `attributionId` of the tree.

<b>Signature:</b>

```typescript
attributeNodeId(id: NodeId): AttributionId;
```

#### Parameters {#attributenodeid-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td><a href='/docs/apis/tree#nodeid-TypeAlias'>NodeId</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### convertToNodeId {#converttonodeid-Method}

Given a stable ID, return the corresponding NodeId or throws if the supplied stable ID was never generated with this tree, either as a UUID corresponding to a `NodeId` or as an override passed to `generateNodeId`<!-- -->. If a stable ID is returned, this does not imply that there is a node with `id` in the current revision of the tree, only that `id` was at some point generated by an instance of this SharedTree.

<b>Signature:</b>

```typescript
convertToNodeId(id: StableNodeId): NodeId;
```

#### Parameters {#converttonodeid-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td><a href='/docs/apis/tree#stablenodeid-TypeAlias'>StableNodeId</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### convertToStableNodeId {#converttostablenodeid-Method}

Given a NodeId, returns the corresponding stable ID or throws if the supplied node ID was not generated with this tree (`NodeId`<!-- -->s may not be used across SharedTree instances, see `generateNodeId` for more). The returned value will be a UUID, unless the creation of `id` used an override string (see `generateNodeId` for more). The result is safe to persist and re-use across `SharedTree` instances, unlike `NodeId`<!-- -->.

<b>Signature:</b>

```typescript
convertToStableNodeId(id: NodeId): StableNodeId;
```

#### Parameters {#converttostablenodeid-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td><a href='/docs/apis/tree#nodeid-TypeAlias'>NodeId</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### create {#create-Method}

Create a new SharedTree. It will contain the default value (see initialTree).

<b>Signature:</b>

```typescript
static create(runtime: IFluidDataStoreRuntime, id?: string): SharedTree;
```

#### Parameters {#create-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>runtime</td>
      <td><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime'>IFluidDataStoreRuntime</a></td>
      <td></td>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td></td>
    </tr>
  </tbody>
</table>

### generateNodeId {#generatenodeid-Method}

Generates a node identifier. The returned IDs may be used as the identifier of a node in the SharedTree. `NodeId`<!-- -->s are \*always\* unique and stable within the scope of the tree and session that generated them. They are \*not\* unique within a Fluid container, and \*cannot\* be compared across instances of a SharedTree. They are \*not\* stable across sessions/lifetimes of a SharedTree, and \*cannot\* be persisted (e.g. stored in payloads, uploaded in blobs, etc.). If stable persistence is needed, NodeIdConverter.convertToStableNodeId may be used to return a corresponding UUID that is globally unique and stable.

<b>Signature:</b>

```typescript
generateNodeId(override?: string): NodeId;
```

#### Parameters {#generatenodeid-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>override</td>
      <td>string</td>
      <td>if supplied, calls to <code>convertToStableNodeId</code> using the returned node ID will return the override instead of the UUID. Calls to <code>generateNodeId</code> with the same override always return the same ID. Performance note: passing an override string incurs a storage cost that is significantly higher that a node ID without one, and should be avoided if possible.</td>
    </tr>
  </tbody>
</table>

### getFactory {#getfactory-Method}

Get a factory for SharedTree to register with the data store.

<b>Signature:</b>

```typescript
static getFactory(...args: SharedTreeArgs<WriteFormat.v0_0_2>): SharedTreeFactory;
```

#### Parameters {#getfactory-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>args</td>
      <td><a href='/docs/apis/tree#sharedtreeargs-TypeAlias'>SharedTreeArgs</a><<a href='/docs/apis/tree#writeformat-Enum'>WriteFormat.v0_0_2</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>

#### Returns {#getfactory-Method-returns}


A factory that creates `SharedTree`<!-- -->s and loads them from storage.

<b>Return type(s):</b> [SharedTreeFactory](/docs/apis/tree/sharedtreefactory)

### getFactory {#getfactory_1-Method}

<b>Signature:</b>

```typescript
static getFactory(...args: SharedTreeArgs<WriteFormat.v0_1_1>): SharedTreeFactory;
```

#### Parameters {#getfactory_1-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>args</td>
      <td><a href='/docs/apis/tree#sharedtreeargs-TypeAlias'>SharedTreeArgs</a><<a href='/docs/apis/tree#writeformat-Enum'>WriteFormat.v0_1_1</a>></td>
      <td></td>
    </tr>
  </tbody>
</table>

### getRuntime {#getruntime-Method}

<b>Signature:</b>

```typescript
getRuntime(): IFluidDataStoreRuntime;
```

### getWriteFormat {#getwriteformat-Method}

The write format version currently used by this `SharedTree`<!-- -->. This is always initialized to the write format passed to the tree's constructor, but it may automatically upgrade over time (e.g. when connected to another SharedTree with a higher write format, or when loading a summary with a higher write format).

<b>Signature:</b>

```typescript
getWriteFormat(): WriteFormat;
```

### loadCore {#loadcore-Method}


<b>Signature:</b>

```typescript
protected loadCore(storage: IChannelStorageService): Promise<void>;
```

#### Parameters {#loadcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>storage</td>
      <td><a href='/docs/apis/datastore-definitions/ichannelstorageservice'>IChannelStorageService</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### mergeEditsFrom {#mergeeditsfrom-Method}

Merges `edits` from `other` into this SharedTree.

<b>Signature:</b>

```typescript
mergeEditsFrom(other: SharedTree, edits: Iterable<Edit<InternalizedChange>>, stableIdRemapper?: (id: StableNodeId) => StableNodeId): EditId[];
```

#### Parameters {#mergeeditsfrom-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>other</td>
      <td><a href='/docs/apis/tree/sharedtree'>SharedTree</a></td>
      <td>Tree containing the edits that should be applied to this one.</td>
    </tr>
    <tr>
      <td>edits</td>
      <td>Iterable<<a href='/docs/apis/tree/edit'>Edit</a><<a href='/docs/apis/tree/internalizedchange'>InternalizedChange</a>>></td>
      <td>Iterable of edits from <code>other</code> to apply.</td>
    </tr>
    <tr>
      <td>stableIdRemapper</td>
      <td>(id: <a href='/docs/apis/tree#stablenodeid-TypeAlias'>StableNodeId</a>) => <a href='/docs/apis/tree#stablenodeid-TypeAlias'>StableNodeId</a></td>
      <td>Optional remapper to translate stable identities from <code>other</code> into stable identities on this tree. Any references that <code>other</code> contains to a stable id <code>foo</code> will be replaced with references to the id <code>stableIdRemapper(foo)</code>.<!-- -->Payloads on the edits are left intact.</td>
    </tr>
  </tbody>
</table>

#### Returns {#mergeeditsfrom-Method-returns}


a list containing `EditId`<!-- -->s for all applied edits.

<b>Return type(s):</b> [EditId](/docs/apis/tree#editid-TypeAlias)<!-- -->\[\]

### onDisconnect {#ondisconnect-Method}


<b>Signature:</b>

```typescript
protected onDisconnect(): void;
```

### processCore {#processcore-Method}


<b>Signature:</b>

```typescript
protected processCore(message: unknown, local: boolean): void;
```

#### Parameters {#processcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>unknown</td>
      <td></td>
    </tr>
    <tr>
      <td>local</td>
      <td>boolean</td>
      <td></td>
    </tr>
  </tbody>
</table>

### registerCore {#registercore-Method}


<b>Signature:</b>

```typescript
protected registerCore(): void;
```

### reSubmitCore {#resubmitcore-Method}

<b>Signature:</b>

```typescript
protected reSubmitCore(op: unknown, localOpMetadata?: StashedLocalOpMetadata): void;
```

#### Parameters {#resubmitcore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>op</td>
      <td>unknown</td>
      <td></td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td><a href='/docs/apis/tree/stashedlocalopmetadata'>StashedLocalOpMetadata</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### revert {#revert-Method}

Reverts a previous edit by applying a new edit containing the inverse of the original edit's changes.

<b>Signature:</b>

```typescript
revert(editId: EditId): EditId | undefined;
```

#### Parameters {#revert-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>editId</td>
      <td><a href='/docs/apis/tree#editid-TypeAlias'>EditId</a></td>
      <td>the edit to revert</td>
    </tr>
  </tbody>
</table>

#### Returns {#revert-Method-returns}


the id of the new edit, or undefined if the original edit could not be inverted given the current tree state.

<b>Return type(s):</b> [EditId](/docs/apis/tree#editid-TypeAlias) \| undefined

### summarizeCore {#summarizecore-Method}

Gets a form of the object that can be serialized.

<b>Signature:</b>

```typescript
summarizeCore(serializer: IFluidSerializer): ISummaryTreeWithStats;
```

#### Parameters {#summarizecore-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>serializer</td>
      <td><a href='/docs/apis/shared-object-base/ifluidserializer'>IFluidSerializer</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

#### Returns {#summarizecore-Method-returns}


A tree representing the snapshot of the shared object.

<b>Return type(s):</b> [ISummaryTreeWithStats](/docs/apis/runtime-definitions/isummarytreewithstats)

### tryConvertToNodeId {#tryconverttonodeid-Method}

Given a stable ID, return the corresponding NodeId or return undefined if the supplied stable ID was never generated with this tree, either as a UUID corresponding to a `NodeId` or as an override passed to `generateNodeId`<!-- -->. If a stable ID is returned, this does not imply that there is a node with `id` in the current revision of the tree, only that `id` was at some point generated by an instance of this SharedTree.

<b>Signature:</b>

```typescript
tryConvertToNodeId(id: StableNodeId): NodeId | undefined;
```

#### Parameters {#tryconverttonodeid-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td><a href='/docs/apis/tree#stablenodeid-TypeAlias'>StableNodeId</a></td>
      <td></td>
    </tr>
  </tbody>
</table>

### tryConvertToStableNodeId {#tryconverttostablenodeid-Method}

Given a NodeId, attempt to return the corresponding stable ID. The returned value will be a UUID, unless the creation of `id` used an override string (see `generateNodeId` for more). The returned stable ID is undefined if `id` was never created with this SharedTree. If a stable ID is returned, this does not imply that there is a node with `id` in the current revision of the tree, only that `id` was at some point generated by some instance of this tree.

<b>Signature:</b>

```typescript
tryConvertToStableNodeId(id: NodeId): StableNodeId | undefined;
```

#### Parameters {#tryconverttostablenodeid-Method-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td><a href='/docs/apis/tree#nodeid-TypeAlias'>NodeId</a></td>
      <td></td>
    </tr>
  </tbody>
</table>


</div>
