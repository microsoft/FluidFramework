{"kind":"Interface","title":"IDeltaHandler Interface","summary":"Handler provided by shared data structure to process requests from the runtime.","members":{"MethodSignature":{"applyStashedOp":"/docs/apis/datastore-definitions/ideltahandler#applystashedop-MethodSignature","reSubmit":"/docs/apis/datastore-definitions/ideltahandler#resubmit-MethodSignature","rollback":"/docs/apis/datastore-definitions/ideltahandler#rollback-MethodSignature","setConnectionState":"/docs/apis/datastore-definitions/ideltahandler#setconnectionstate-MethodSignature"},"PropertySignature":{"process":"/docs/apis/datastore-definitions/ideltahandler#process-PropertySignature"}},"package":"@fluidframework/datastore-definitions","unscopedPackageName":"datastore-definitions"}

[//]: # (Do not edit this file. It is automatically generated by API Documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/datastore-definitions](/docs/apis/datastore-definitions) &gt; [IDeltaHandler](/docs/apis/datastore-definitions/ideltahandler)

Handler provided by shared data structure to process requests from the runtime.

<b>Signature:</b>

```typescript
export interface IDeltaHandler 
```

## Properties

<table class="table table-striped table-hover property-list">
<caption>List of properties on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Property</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/datastore-definitions/ideltahandler#process-PropertySignature'>process</a></td>
      <td>(message: <a href='/docs/apis/protocol-definitions/isequenceddocumentmessage'>ISequencedDocumentMessage</a>, local: boolean, localOpMetadata: unknown) => void</td>
      <td>Processes the op.</td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover method-list">
<caption>List of methods on this interface</caption>
  <thead>
    <tr>
     <th scope="col">Method</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href='/docs/apis/datastore-definitions/ideltahandler#applystashedop-MethodSignature'>applyStashedOp(message)</a></td>
      <td>Apply changes from an op. Used when rehydrating an attached container with pending changes. This prepares the SharedObject for seeing an ACK for the op or resubmitting the op upon reconnection.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore-definitions/ideltahandler#resubmit-MethodSignature'>reSubmit(message, localOpMetadata)</a></td>
      <td>Called when the runtime asks the client to resubmit an op. This may be because the Container reconnected and this op was not acked. The client can choose to resubmit the same message, submit different / multiple messages or not submit anything at all.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore-definitions/ideltahandler#rollback-MethodSignature'>rollback(message, localOpMetadata)</a></td>
      <td>Revert a local op.</td>
    </tr>
    <tr>
      <td><a href='/docs/apis/datastore-definitions/ideltahandler#setconnectionstate-MethodSignature'>setConnectionState(connected)</a></td>
      <td>State change events to indicate changes to the delta connection</td>
    </tr>
  </tbody>
</table>

<hr><div id=interface-details>

## Property Details {#properties-details}

### process {#process-PropertySignature}

Processes the op.

<b>Signature:</b>

```typescript
process: (message: ISequencedDocumentMessage, local: boolean, localOpMetadata: unknown) => void;
```

## Method Details {#methods-details}

### applyStashedOp {#applystashedop-MethodSignature}

Apply changes from an op. Used when rehydrating an attached container with pending changes. This prepares the SharedObject for seeing an ACK for the op or resubmitting the op upon reconnection.

<b>Signature:</b>

```typescript
applyStashedOp(message: any): unknown;
```

#### Parameters {#applystashedop-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>any</td>
      <td>Contents of a stashed op.</td>
    </tr>
  </tbody>
</table>

#### Returns {#applystashedop-MethodSignature-returns}


localMetadata of the op, to be passed to process() or resubmit() when the op is ACKed or resubmitted, respectively

<b>Return type(s):</b> unknown

### reSubmit {#resubmit-MethodSignature}

Called when the runtime asks the client to resubmit an op. This may be because the Container reconnected and this op was not acked. The client can choose to resubmit the same message, submit different / multiple messages or not submit anything at all.

<b>Signature:</b>

```typescript
reSubmit(message: any, localOpMetadata: unknown): void;
```

#### Parameters {#resubmit-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>any</td>
      <td>The original message that was submitted.</td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td>The local metadata associated with the original message.</td>
    </tr>
  </tbody>
</table>

### rollback {#rollback-MethodSignature}

Revert a local op.

<b>Signature:</b>

```typescript
rollback?(message: any, localOpMetadata: unknown): void;
```

#### Parameters {#rollback-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>message</td>
      <td>any</td>
      <td>The original message that was submitted.</td>
    </tr>
    <tr>
      <td>localOpMetadata</td>
      <td>unknown</td>
      <td>The local metadata associated with the original message.</td>
    </tr>
  </tbody>
</table>

### setConnectionState {#setconnectionstate-MethodSignature}

State change events to indicate changes to the delta connection

<b>Signature:</b>

```typescript
setConnectionState(connected: boolean): void;
```

#### Parameters {#setconnectionstate-MethodSignature-parameters}


<table class="table table-striped table-hover param-list">
<caption>List of parameters</caption>
  <thead>
    <tr>
     <th scope="col">Parameter</th>
 <th scope="col">Type</th>
 <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>connected</td>
      <td>boolean</td>
      <td>true if connected, false otherwise</td>
    </tr>
  </tbody>
</table>


</div>
