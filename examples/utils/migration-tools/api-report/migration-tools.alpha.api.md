## Alpha API Report File for "@fluid-example/migration-tools"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @alpha (undocumented)
export class CompositeEntryPoint {
    // (undocumented)
    readonly addEntryPointPiece: (entryPointPiece: IEntryPointPiece) => void;
    // (undocumented)
    readonly onCreate: (runtime: IContainerRuntime) => Promise<void>;
    // (undocumented)
    readonly onLoad: (runtime: IContainerRuntime) => Promise<void>;
    // (undocumented)
    readonly provideEntryPoint: (runtime: IContainerRuntime) => Promise<Record<string, FluidObject>>;
    // (undocumented)
    get registryEntries(): NamedFluidDataStoreRegistryEntries;
}

// @alpha
export type CreateDetachedContainerCallback = (version: string) => Promise<{
    container: IContainer;
    attach: () => Promise<string>;
}>;

// @alpha
export type DataTransformationCallback = (exportedData: unknown, targetVersion: string) => Promise<unknown>;

// @alpha
export type ExportDataCallback = (container: IContainer) => Promise<unknown>;

// @alpha
export interface IAcceptedMigrationDetails {
    migrationSequenceNumber: number;
    newVersion: string;
}

// @alpha (undocumented)
export interface IEntryPointPiece {
    // (undocumented)
    readonly createPiece: (runtime: IContainerRuntime) => Promise<FluidObject>;
    // (undocumented)
    readonly name: string;
    // (undocumented)
    readonly onCreate: (runtime: IContainerRuntime) => Promise<void>;
    // (undocumented)
    readonly onLoad: (runtime: IContainerRuntime) => Promise<void>;
    // (undocumented)
    readonly registryEntries: NamedFluidDataStoreRegistryEntries;
}

// @alpha
export interface IImportExportModel<ImportType, ExportType> {
    exportData: () => Promise<ExportType>;
    importData: (initialData: ImportType) => Promise<void>;
    supportsDataFormat: (initialData: unknown) => initialData is ImportType;
}

// @alpha
export interface IMigratableModel extends IVersionedModel, IImportExportModel<unknown, unknown> {
}

// @alpha (undocumented)
export interface IMigrator {
    readonly acceptedMigration: IAcceptedMigrationDetails | undefined;
    // (undocumented)
    readonly events: IEventProvider<IMigratorEvents>;
    readonly migrationResult: unknown | undefined;
    readonly migrationState: MigrationState;
    readonly proposedVersion: string | undefined;
    proposeVersion: (newVersion: string) => void;
}

// @alpha (undocumented)
export interface IMigratorEvents extends IEvent {
    // (undocumented)
    (event: "stopping" | "migrating" | "migrated", listener: () => void): any;
    // (undocumented)
    (event: "migrationNotSupported", listener: (version: string) => void): any;
}

// @alpha
export type ImportDataCallback = (destinationContainer: IContainer, exportedData: unknown) => Promise<void>;

// @alpha (undocumented)
export interface ISimpleLoader {
    createDetached(version: string): Promise<{
        container: IContainer;
        attach: () => Promise<string>;
    }>;
    loadExisting(id: string): Promise<IContainer>;
    supportsVersion(version: string): Promise<boolean>;
}

// @alpha
export interface IVersionedModel {
    readonly version: string;
}

// @alpha
export const loadCompositeRuntime: (context: IContainerContext, existing: boolean, compositeEntryPoint: CompositeEntryPoint, runtimeOptions?: IContainerRuntimeOptions) => Promise<IContainerRuntime & IRuntime>;

// @alpha
export type LoadSourceContainerCallback = () => Promise<IContainer>;

// @alpha
export const makeCreateDetachedCallback: (loader: IHostLoader, generateCreateNewRequest: () => IRequest) => (version: string) => Promise<{
    container: IContainer;
    attach: () => Promise<string>;
}>;

// @alpha
export const makeMigrationCallback: (createDetachedContainerCallback: CreateDetachedContainerCallback, importDataCallback: ImportDataCallback) => MigrationCallback;

// @alpha
export const makeMigratorEntryPointPiece: (exportDataCallback: ExportDataCallback) => IEntryPointPiece;

// @alpha
export type MigrationCallback = (version: string, exportedData: unknown) => Promise<unknown>;

// @alpha
export type MigrationState = "collaborating" | "stopping" | "migrating" | "migrated";

// @alpha (undocumented)
export class SessionStorageSimpleLoader implements ISimpleLoader {
    constructor(codeLoader: ICodeDetailsLoader, logger?: ITelemetryBaseLogger | undefined);
    // (undocumented)
    createDetached(version: string): Promise<{
        container: IContainer;
        attach: () => Promise<string>;
    }>;
    // (undocumented)
    loadExisting(id: string): Promise<IContainer>;
    // (undocumented)
    supportsVersion(version: string): Promise<boolean>;
}

// @alpha (undocumented)
export class SimpleLoader implements ISimpleLoader {
    constructor(props: Pick<ILoaderProps, "urlResolver" | "documentServiceFactory" | "codeLoader" | "logger"> & {
        generateCreateNewRequest: () => IRequest;
    });
    // (undocumented)
    readonly createDetached: (version: string) => Promise<{
        container: IContainer;
        attach: () => Promise<string>;
    }>;
    // (undocumented)
    loadExisting(id: string): Promise<IContainer>;
    // (undocumented)
    supportsVersion(version: string): Promise<boolean>;
}

```
