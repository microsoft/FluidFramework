{
  "title": "Checkout Class",
  "summary": "A mutable Checkout of a SharedTree, allowing viewing and interactive transactional editing. Provides [snapshot-isolation](https://en.wikipedia.org/wiki/Snapshot_isolation) while editing.\n\nA Checkout always shows a consistent sequence of versions of the SharedTree, but it may skip intermediate versions, and may fall behind. In this case consistent means the sequence of versions could occur with fully synchronous shared tree access, though the timing of sequenced edits arriving to the Checkout may be later than they actually arrive in the SharedTree. Specifically no sequenced edits will arrive during an ongoing edit (to implement snapshot isolation): they will be applied asynchronously some time after the ongoing edit is ended.\n\nEvents emitted by `Checkout` are documented in [CheckoutEvent](/docs/apis/tree#checkoutevent-enum). Exceptions thrown during event handling will be emitted as error events, which are automatically surfaced as error events on the `SharedTree` used at construction time.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/tree/checkout-class#_constructor_-constructor"
    },
    "Method": {
      "abortEdit": "/docs/apis/tree/checkout-class#abortedit-method",
      "applyChanges": "/docs/apis/tree/checkout-class#applychanges_1-method",
      "applyEdit": "/docs/apis/tree/checkout-class#applyedit_1-method",
      "closeEdit": "/docs/apis/tree/checkout-class#closeedit-method",
      "dispose": "/docs/apis/tree/checkout-class#dispose-method",
      "emitChange": "/docs/apis/tree/checkout-class#emitchange-method",
      "getEditStatus": "/docs/apis/tree/checkout-class#geteditstatus-method",
      "handleNewEdit": "/docs/apis/tree/checkout-class#handlenewedit-method",
      "hintKnownEditingResult": "/docs/apis/tree/checkout-class#hintknowneditingresult-method",
      "openEdit": "/docs/apis/tree/checkout-class#openedit-method",
      "rebaseCurrentEdit": "/docs/apis/tree/checkout-class#rebasecurrentedit-method",
      "revert": "/docs/apis/tree/checkout-class#revert-method",
      "tryApplyChangesInternal": "/docs/apis/tree/checkout-class#tryapplychangesinternal_1-method",
      "tryApplyEdit": "/docs/apis/tree/checkout-class#tryapplyedit_1-method",
      "waitForEditsToSubmit": "/docs/apis/tree/checkout-class#waitforeditstosubmit-method",
      "waitForPendingUpdates": "/docs/apis/tree/checkout-class#waitforpendingupdates-method"
    },
    "Property": {
      "currentView": "/docs/apis/tree/checkout-class#currentview-property",
      "disposed": "/docs/apis/tree/checkout-class#disposed-property",
      "latestCommittedView": "/docs/apis/tree/checkout-class#latestcommittedview-property",
      "tree": "/docs/apis/tree/checkout-class#tree-property"
    }
  },
  "package": "@fluid-experimental/tree",
  "unscopedPackageName": "tree"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluid-experimental/tree](/docs/apis/tree) &gt; [Checkout](/docs/apis/tree/checkout-class)

A mutable Checkout of a SharedTree, allowing viewing and interactive transactional editing. Provides [snapshot-isolation](https://en.wikipedia.org/wiki/Snapshot_isolation) while editing.

A Checkout always shows a consistent sequence of versions of the SharedTree, but it may skip intermediate versions, and may fall behind. In this case consistent means the sequence of versions could occur with fully synchronous shared tree access, though the timing of sequenced edits arriving to the Checkout may be later than they actually arrive in the SharedTree. Specifically no sequenced edits will arrive during an ongoing edit (to implement snapshot isolation): they will be applied asynchronously some time after the ongoing edit is ended.

Events emitted by `Checkout` are documented in [CheckoutEvent](/docs/apis/tree#checkoutevent-enum). Exceptions thrown during event handling will be emitted as error events, which are automatically surfaced as error events on the `SharedTree` used at construction time.

## Signature {#checkout-signature}

```typescript
export declare abstract class Checkout extends EventEmitterWithErrorHandling<ICheckoutEvents> implements IDisposable
```

**Extends:** [EventEmitterWithErrorHandling](/docs/apis/telemetry-utils/eventemitterwitherrorhandling-class)&lt;[ICheckoutEvents](/docs/apis/tree/icheckoutevents-interface)&gt;

**Implements:** IDisposable

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Constructs a new instance of the <code>Checkout</code> class
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#currentview-property'>currentView</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree/treeview-class'>TreeView</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#disposed-property'>disposed</a>
      </td>
      <td>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#latestcommittedview-property'>latestCommittedView</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree/revisionview-class'>RevisionView</a></span>
      </td>
      <td>
        <p>
          The view of the latest committed revision. Does not include changes from any open edits.
        </p>
        <p>
          When this changes, emitChange must be called.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#tree-property'>tree</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree/sharedtree-class'>SharedTree</a></span>
      </td>
      <td>
        The shared tree this checkout views/edits.
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#abortedit-method'>abortEdit</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Ends the ongoing edit operation without committing it to the history. Can only be called if an edit is open.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#applychanges-method'>applyChanges</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Applies the supplied changes to the tree and emits a change event. Must be called during an ongoing edit (see <code>openEdit()</code>/<code>closeEdit()</code>). <code>changes</code> must be well-formed and valid: it is an error if they do not apply cleanly.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#applychanges_1-method'>applyChanges</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#applyedit-method'>applyEdit</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a></span>
      </td>
      <td>
        Convenience helper for applying an edit containing the given changes. Opens an edit, applies the given changes, and closes the edit. See (<code>openEdit()</code>/<code>applyChanges()</code>/<code>closeEdit()</code>).
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#applyedit_1-method'>applyEdit</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#closeedit-method'>closeEdit</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a></span>
      </td>
      <td>
        <p>
          Ends the ongoing edit operation and commits it to the history.
        </p>
        <p>
          Malformed edits are considered an error, and will assert: All named detached sequences must have been used or the Edit is malformed.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#dispose-method'>dispose</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        release all unmanaged resources e.g. unregister event listeners
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#emitchange-method'>emitChange</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Send invalidation message for all changes since last call to emitChange. This must be called every time <code>currentView</code> could have changed. It is ok to make excessive calls to this: change notifications will be cheaply de-duplicated.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#geteditstatus-method'>getEditStatus</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editstatus-enum'>EditStatus</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#handlenewedit-method'>handleNewEdit</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        <p>
          Take any needed action between when an edit is completed. Usually this will include submitting it to a SharedTree.
        </p>
        <p>
          Override this to customize.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#hintknowneditingresult-method'>hintKnownEditingResult</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Inform the Checkout that a particular edit is know to have a specific result when applied to a particular TreeView. This may be used as a caching hint to avoid recomputation.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#openedit-method'>openEdit</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Opens a new edit operation. Changes accumulate in the edit via calls to <code>applyChanges()</code>.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#rebasecurrentedit-method'>rebaseCurrentEdit</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editvalidationresult-valid-enummember'>EditValidationResult.Valid</a> &#124; <a href='/docs/apis/tree#editvalidationresult-invalid-enummember'>EditValidationResult.Invalid</a></span>
      </td>
      <td>
        <p>
          Rebases the ongoing edit to the latest revision loaded by this 'Checkout'. If the rebase succeeds (none of the changes in the ongoing edit became invalid), the ongoing edit will remain open and the current view will reflect those changes.
        </p>
        <p>
          If the rebase fails (changes become invalid), the ongoing edit will be aborted and currentView will return to showing the newest committed revision as it always does when there is no ongoing edit.
        </p>
        <p>
          Must only be called during an open edit.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#revert-method'>revert</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Reverts a collection of edits.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#tryapplychangesinternal-method'>tryApplyChangesInternal</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editstatus-enum'>EditStatus</a></span>
      </td>
      <td>
        Applies the supplied changes to the tree and emits a change event. Must be called during an ongoing edit (see <code>openEdit()</code>/<code>closeEdit()</code>). <code>changes</code> must be well-formed and valid: it is an error if they do not apply cleanly.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#tryapplychangesinternal_1-method'>tryApplyChangesInternal</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editstatus-enum'>EditStatus</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#tryapplyedit-method'>tryApplyEdit</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a> &#124; undefined</span>
      </td>
      <td>
        Apply an edit, if valid, otherwise does nothing (the edit is not added to the history). If the edit applied, its changes will be immediately visible on this checkout, though it still may end up invalid once sequenced due to concurrent edits.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#tryapplyedit_1-method'>tryApplyEdit</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a> &#124; undefined</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#waitforeditstosubmit-method'>waitForEditsToSubmit</a>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/checkout-class#waitforpendingupdates-method'>waitForPendingUpdates</a>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Constructs a new instance of the `Checkout` class

#### Signature {#_constructor_-signature}

```typescript
protected constructor(tree: SharedTree, currentView: RevisionView, onEditCommitted: EditCommittedHandler);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        tree
      </td>
      <td>
        <span><a href='/docs/apis/tree/sharedtree-class'>SharedTree</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        currentView
      </td>
      <td>
        <span><a href='/docs/apis/tree/revisionview-class'>RevisionView</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        onEditCommitted
      </td>
      <td>
        <span><a href='/docs/apis/tree#editcommittedhandler-typealias'>EditCommittedHandler</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### currentView {#currentview-property}

#### Signature {#currentview-signature}

```typescript
get currentView(): TreeView;
```

### disposed {#disposed-property}

#### Signature {#disposed-signature}

```typescript
disposed: boolean;
```

### latestCommittedView {#latestcommittedview-property}

The view of the latest committed revision. Does not include changes from any open edits.

When this changes, emitChange must be called.

#### Signature {#latestcommittedview-signature}

```typescript
protected abstract get latestCommittedView(): RevisionView;
```

### tree {#tree-property}

The shared tree this checkout views/edits.

#### Signature {#tree-signature}

```typescript
readonly tree: SharedTree;
```

## Method Details

### abortEdit {#abortedit-method}

Ends the ongoing edit operation without committing it to the history. Can only be called if an edit is open.

#### Signature {#abortedit-signature}

```typescript
abortEdit(): void;
```

### applyChanges {#applychanges-method}

Applies the supplied changes to the tree and emits a change event. Must be called during an ongoing edit (see `openEdit()`/`closeEdit()`). `changes` must be well-formed and valid: it is an error if they do not apply cleanly.

#### Signature {#applychanges-signature}

```typescript
applyChanges(changes: readonly Change[]): void;
```

#### Parameters {#applychanges-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#change-typealias'>Change</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### applyChanges {#applychanges_1-method}

#### Signature {#applychanges_1-signature}

```typescript
applyChanges(...changes: readonly Change[]): void;
```

#### Parameters {#applychanges_1-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#change-typealias'>Change</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### applyEdit {#applyedit-method}

Convenience helper for applying an edit containing the given changes. Opens an edit, applies the given changes, and closes the edit. See (`openEdit()`/`applyChanges()`/`closeEdit()`).

#### Signature {#applyedit-signature}

```typescript
applyEdit(changes: readonly Change[]): EditId;
```

#### Parameters {#applyedit-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#change-typealias'>Change</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#applyedit-returns}

**Return type:** [EditId](/docs/apis/tree#editid-typealias)

### applyEdit {#applyedit_1-method}

#### Signature {#applyedit_1-signature}

```typescript
applyEdit(...changes: readonly Change[]): EditId;
```

#### Parameters {#applyedit_1-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#change-typealias'>Change</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#applyedit_1-returns}

**Return type:** [EditId](/docs/apis/tree#editid-typealias)

### closeEdit {#closeedit-method}

Ends the ongoing edit operation and commits it to the history.

Malformed edits are considered an error, and will assert: All named detached sequences must have been used or the Edit is malformed.

#### Signature {#closeedit-signature}

```typescript
closeEdit(): EditId;
```

#### Returns {#closeedit-returns}

the `id` of the committed edit

**Return type:** [EditId](/docs/apis/tree#editid-typealias)

### dispose {#dispose-method}

release all unmanaged resources e.g. unregister event listeners

#### Signature {#dispose-signature}

```typescript
dispose(error?: Error): void;
```

#### Parameters {#dispose-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        error
      </td>
      <td>
        optional
      </td>
      <td>
        <span>Error</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### emitChange {#emitchange-method}

Send invalidation message for all changes since last call to emitChange. This must be called every time `currentView` could have changed. It is ok to make excessive calls to this: change notifications will be cheaply de-duplicated.

#### Signature {#emitchange-signature}

```typescript
protected emitChange(): void;
```

### getEditStatus {#geteditstatus-method}

#### Signature {#geteditstatus-signature}

```typescript
getEditStatus(): EditStatus;
```

#### Returns {#geteditstatus-returns}

the [EditStatus](/docs/apis/tree#editstatus-enum) of the current edit. Has no side effects. Can only be called if an edit is open.

**Return type:** [EditStatus](/docs/apis/tree#editstatus-enum)

### handleNewEdit {#handlenewedit-method}

Take any needed action between when an edit is completed. Usually this will include submitting it to a SharedTree.

Override this to customize.

#### Signature {#handlenewedit-signature}

```typescript
protected handleNewEdit(id: EditId, result: ValidEditingResult): void;
```

#### Parameters {#handlenewedit-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        result
      </td>
      <td>
        <span><a href='/docs/apis/tree/valideditingresult-interface'>ValidEditingResult</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### hintKnownEditingResult {#hintknowneditingresult-method}

Inform the Checkout that a particular edit is know to have a specific result when applied to a particular TreeView. This may be used as a caching hint to avoid recomputation.

#### Signature {#hintknowneditingresult-signature}

```typescript
protected hintKnownEditingResult(edit: Edit<ChangeInternal>, result: ValidEditingResult): void;
```

#### Parameters {#hintknowneditingresult-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        edit
      </td>
      <td>
        <span><a href='/docs/apis/tree/edit-interface'>Edit</a>&lt;<a href='/docs/apis/tree#changeinternal-typealias'>ChangeInternal</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        result
      </td>
      <td>
        <span><a href='/docs/apis/tree/valideditingresult-interface'>ValidEditingResult</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### openEdit {#openedit-method}

Opens a new edit operation. Changes accumulate in the edit via calls to `applyChanges()`.

#### Signature {#openedit-signature}

```typescript
openEdit(): void;
```

### rebaseCurrentEdit {#rebasecurrentedit-method}

Rebases the ongoing edit to the latest revision loaded by this 'Checkout'. If the rebase succeeds (none of the changes in the ongoing edit became invalid), the ongoing edit will remain open and the current view will reflect those changes.

If the rebase fails (changes become invalid), the ongoing edit will be aborted and currentView will return to showing the newest committed revision as it always does when there is no ongoing edit.

Must only be called during an open edit.

#### Signature {#rebasecurrentedit-signature}

```typescript
rebaseCurrentEdit(): EditValidationResult.Valid | EditValidationResult.Invalid;
```

#### Returns {#rebasecurrentedit-returns}

- the result of the rebase.

**Return type:** [EditValidationResult.Valid](/docs/apis/tree#editvalidationresult-valid-enummember) \| [EditValidationResult.Invalid](/docs/apis/tree#editvalidationresult-invalid-enummember)

### revert {#revert-method}

Reverts a collection of edits.

#### Signature {#revert-signature}

```typescript
revert(editId: EditId): void;
```

#### Parameters {#revert-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        editId
      </td>
      <td>
        <span><a href='/docs/apis/tree#editid-typealias'>EditId</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### tryApplyChangesInternal {#tryapplychangesinternal-method}

Applies the supplied changes to the tree and emits a change event. Must be called during an ongoing edit (see `openEdit()`/`closeEdit()`). `changes` must be well-formed and valid: it is an error if they do not apply cleanly.

#### Signature {#tryapplychangesinternal-signature}

```typescript
protected tryApplyChangesInternal(changes: readonly ChangeInternal[]): EditStatus;
```

#### Parameters {#tryapplychangesinternal-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#changeinternal-typealias'>ChangeInternal</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#tryapplychangesinternal-returns}

**Return type:** [EditStatus](/docs/apis/tree#editstatus-enum)

### tryApplyChangesInternal {#tryapplychangesinternal_1-method}

#### Signature {#tryapplychangesinternal_1-signature}

```typescript
protected tryApplyChangesInternal(...changes: readonly ChangeInternal[]): EditStatus;
```

#### Parameters {#tryapplychangesinternal_1-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#changeinternal-typealias'>ChangeInternal</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#tryapplychangesinternal_1-returns}

**Return type:** [EditStatus](/docs/apis/tree#editstatus-enum)

### tryApplyEdit {#tryapplyedit-method}

Apply an edit, if valid, otherwise does nothing (the edit is not added to the history). If the edit applied, its changes will be immediately visible on this checkout, though it still may end up invalid once sequenced due to concurrent edits.

#### Signature {#tryapplyedit-signature}

```typescript
tryApplyEdit(changes: readonly Change[]): EditId | undefined;
```

#### Parameters {#tryapplyedit-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#change-typealias'>Change</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#tryapplyedit-returns}

The EditId if the edit was valid and thus applied, and undefined if it was invalid and thus not applied.

**Return type:** [EditId](/docs/apis/tree#editid-typealias) \| undefined

### tryApplyEdit {#tryapplyedit_1-method}

#### Signature {#tryapplyedit_1-signature}

```typescript
tryApplyEdit(...changes: readonly Change[]): EditId | undefined;
```

#### Parameters {#tryapplyedit_1-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changes
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#change-typealias'>Change</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#tryapplyedit_1-returns}

**Return type:** [EditId](/docs/apis/tree#editid-typealias) \| undefined

### waitForEditsToSubmit {#waitforeditstosubmit-method}

#### Signature {#waitforeditstosubmit-signature}

```typescript
abstract waitForEditsToSubmit(): Promise<void>;
```

#### Returns {#waitforeditstosubmit-returns}

a Promise which completes after edits that were closed on this checkout (before calling this) have been submitted to Fluid. This does NOT wait for the Fluid service to ack them

**Return type:** Promise&lt;void&gt;

### waitForPendingUpdates {#waitforpendingupdates-method}

#### Signature {#waitforpendingupdates-signature}

```typescript
abstract waitForPendingUpdates(): Promise<void>;
```

#### Returns {#waitforpendingupdates-returns}

a Promise which completes after all currently known edits are available in this checkout.

**Return type:** Promise&lt;void&gt;
