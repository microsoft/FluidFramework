{
  "title": "Constraint Interface",
  "summary": "A set of constraints on the validity of an Edit. A Constraint is used to detect when an Edit, due to other concurrent edits, may have unintended effects or merge in non-semantic ways. It is processed in order like any other Change in an Edit. It can cause an edit to fail if the various constraints are not met at the time of evaluation (ex: the parentNode has changed due to concurrent editing). Does not modify the document.",
  "kind": "Interface",
  "members": {
    "PropertySignature": {
      "contentHash": "/docs/apis/tree/constraint-interface#contenthash-propertysignature",
      "effect": "/docs/apis/tree/constraint-interface#effect-propertysignature",
      "identityHash": "/docs/apis/tree/constraint-interface#identityhash-propertysignature",
      "label": "/docs/apis/tree/constraint-interface#label-propertysignature",
      "length": "/docs/apis/tree/constraint-interface#length-propertysignature",
      "parentNode": "/docs/apis/tree/constraint-interface#parentnode-propertysignature",
      "toConstrain": "/docs/apis/tree/constraint-interface#toconstrain-propertysignature",
      "type": "/docs/apis/tree/constraint-interface#type-propertysignature"
    }
  },
  "package": "@fluid-experimental/tree",
  "unscopedPackageName": "tree"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

A set of constraints on the validity of an Edit. A Constraint is used to detect when an Edit, due to other concurrent edits, may have unintended effects or merge in non-semantic ways. It is processed in order like any other Change in an Edit. It can cause an edit to fail if the various constraints are not met at the time of evaluation (ex: the parentNode has changed due to concurrent editing). Does not modify the document.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#constraint-signature}

```typescript
export interface Constraint
```

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#contenthash-propertysignature'>contentHash</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree#uuidstring-typealias'>UuidString</a></span>
      </td>
      <td>
        <p>
          Require that the contents of all of the nodes in toConstrain hash to this value. Hash is an order dependant deep hash, which includes all subtree content recursively. TODO: implement and specify exact hash function.
        </p>
        <p>
          This is an efficient (O(1) space) way to constrain a sequence of nodes have exact values (transitively).
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#effect-propertysignature'>effect</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree/constrainteffect-enum'>ConstraintEffect</a></span>
      </td>
      <td>
        What to do if a constraint is not met.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#identityhash-propertysignature'>identityHash</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree#uuidstring-typealias'>UuidString</a></span>
      </td>
      <td>
        <p>
          Require that the identities of all the nodes in toConstrain hash to this value. Hash is order dependent. TODO: implement and specify exact hash function.
        </p>
        <p>
          This is an efficient (O(1) space) way to constrain a sequence of nodes to have specific identities.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#label-propertysignature'>label</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree#traitlabel-typealias'>TraitLabel</a></span>
      </td>
      <td>
        Require that the trait under which toConstrain is located has this label.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#length-propertysignature'>length</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
        Require that the number of nodes in toConstrain is this value.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#parentnode-propertysignature'>parentNode</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree#nodeid-typealias'>NodeId</a></span>
      </td>
      <td>
        Require that parent under which toConstrain is located has this identifier.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#toconstrain-propertysignature'>toConstrain</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree/stablerange-interface'>StableRange</a></span>
      </td>
      <td>
        <p>
          Selects a sequence of nodes which will be checked against the constraints specified by the optional fields. If <code>toConstrain</code> is invalid, it will be treated like a constraint being unmet. Depending on <code>effect</code> this may or may not make the Edit invalid.
        </p>
        <p>
          When a constraint is not met, the effects is specified by <code>effect</code>.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/constraint-interface#type-propertysignature'>type</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>typeof <a href='/docs/apis/tree/changetype-enum#constraint-enummember'>ChangeType.Constraint</a></span>
      </td>
      <td>
        Marker for which kind of Change this is.
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### contentHash (ALPHA) {#contenthash-propertysignature}

Require that the contents of all of the nodes in toConstrain hash to this value. Hash is an order dependant deep hash, which includes all subtree content recursively. TODO: implement and specify exact hash function.

This is an efficient (O(1) space) way to constrain a sequence of nodes have exact values (transitively).

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#contenthash-signature}

```typescript
readonly contentHash?: UuidString;
```

### effect (ALPHA) {#effect-propertysignature}

What to do if a constraint is not met.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#effect-signature}

```typescript
readonly effect: ConstraintEffect;
```

### identityHash (ALPHA) {#identityhash-propertysignature}

Require that the identities of all the nodes in toConstrain hash to this value. Hash is order dependent. TODO: implement and specify exact hash function.

This is an efficient (O(1) space) way to constrain a sequence of nodes to have specific identities.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#identityhash-signature}

```typescript
readonly identityHash?: UuidString;
```

### label (ALPHA) {#label-propertysignature}

Require that the trait under which toConstrain is located has this label.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#label-signature}

```typescript
readonly label?: TraitLabel;
```

### length (ALPHA) {#length-propertysignature}

Require that the number of nodes in toConstrain is this value.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#length-signature}

```typescript
readonly length?: number;
```

### parentNode (ALPHA) {#parentnode-propertysignature}

Require that parent under which toConstrain is located has this identifier.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#parentnode-signature}

```typescript
readonly parentNode?: NodeId;
```

### toConstrain (ALPHA) {#toconstrain-propertysignature}

Selects a sequence of nodes which will be checked against the constraints specified by the optional fields. If `toConstrain` is invalid, it will be treated like a constraint being unmet. Depending on `effect` this may or may not make the Edit invalid.

When a constraint is not met, the effects is specified by `effect`.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#toconstrain-signature}

```typescript
readonly toConstrain: StableRange;
```

### type (ALPHA) {#type-propertysignature}

Marker for which kind of Change this is.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#type-signature}

```typescript
readonly type: typeof ChangeType.Constraint;
```
