{
  "title": "TransactionInternal Namespace",
  "summary": "A mutable transaction for applying sequences of changes to a TreeView. Allows viewing the intermediate states.\n\nContains necessary state to apply changes within an edit to a TreeView.\n\nMay have any number of changes applied to make up the edit. Use `close` to complete the transaction, returning the array of changes and an EditingResult showing the results of applying the changes as an Edit to the initial TreeView (passed to the constructor).\n\nNo data outside the Transaction is modified by Transaction: the results from `close` must be used to actually submit an `Edit`.",
  "kind": "Namespace",
  "members": {
    "Interface": {
      "BadPlaceFailure": "/docs/apis/tree/transactioninternal/badplacefailure-interface",
      "BadRangeFailure": "/docs/apis/tree/transactioninternal/badrangefailure-interface",
      "ConstraintViolationFailure": "/docs/apis/tree/transactioninternal/constraintviolationfailure-interface",
      "DetachedSequenceIdAlreadyInUseFailure": "/docs/apis/tree/transactioninternal/detachedsequenceidalreadyinusefailure-interface",
      "DetachedSequenceNotFoundFailure": "/docs/apis/tree/transactioninternal/detachedsequencenotfoundfailure-interface",
      "DuplicateIdInBuildFailure": "/docs/apis/tree/transactioninternal/duplicateidinbuildfailure-interface",
      "IdAlreadyInUseFailure": "/docs/apis/tree/transactioninternal/idalreadyinusefailure-interface",
      "UnknownIdFailure": "/docs/apis/tree/transactioninternal/unknownidfailure-interface",
      "UnusedDetachedSequenceFailure": "/docs/apis/tree/transactioninternal/unuseddetachedsequencefailure-interface"
    },
    "Enum": {
      "ConstraintViolationKind": "/docs/apis/tree/transactioninternal/constraintviolationkind-enum",
      "FailureKind": "/docs/apis/tree/transactioninternal/failurekind-enum"
    },
    "TypeAlias": {
      "ConstraintViolationResult": "/docs/apis/tree/transactioninternal-namespace#constraintviolationresult-typealias",
      "Failure": "/docs/apis/tree/transactioninternal-namespace#failure-typealias",
      "ValidState": "/docs/apis/tree/transactioninternal-namespace#validstate-typealias"
    }
  },
  "package": "@fluid-experimental/tree",
  "unscopedPackageName": "tree"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

A mutable transaction for applying sequences of changes to a TreeView. Allows viewing the intermediate states.

Contains necessary state to apply changes within an edit to a TreeView.

May have any number of changes applied to make up the edit. Use `close` to complete the transaction, returning the array of changes and an EditingResult showing the results of applying the changes as an Edit to the initial TreeView (passed to the constructor).

No data outside the Transaction is modified by Transaction: the results from `close` must be used to actually submit an `Edit`.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#transactioninternal-signature}

```typescript
export declare namespace TransactionInternal
```

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/badplacefailure-interface'>BadPlaceFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when an insert change uses an invalid Place
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/badrangefailure-interface'>BadRangeFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a detach operation is given an invalid or malformed Range
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/constraintviolationfailure-interface'>ConstraintViolationFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a constraint fails to apply
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/detachedsequenceidalreadyinusefailure-interface'>DetachedSequenceIdAlreadyInUseFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a transaction encounters a build operation using an already in use DetachedSequenceID.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/detachedsequencenotfoundfailure-interface'>DetachedSequenceNotFoundFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a transaction tries to operate on an unknown DetachedSequenceID
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/duplicateidinbuildfailure-interface'>DuplicateIdInBuildFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a build uses a duplicated NodeId
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/idalreadyinusefailure-interface'>IdAlreadyInUseFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a build node ID is already used in the current state
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/unknownidfailure-interface'>UnknownIdFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error thrown when a change is attempted on an unknown NodeId
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/unuseddetachedsequencefailure-interface'>UnusedDetachedSequenceFailure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Error returned when a transaction is closed while there is an unused detached sequence.
      </td>
    </tr>
  </tbody>
</table>

## Enumerations

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Enum
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/constraintviolationkind-enum'>ConstraintViolationKind</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Enum of possible kinds of constraint violations that can be encountered
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal/failurekind-enum'>FailureKind</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        The kinds of failures that a transaction might encounter.
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        TypeAlias
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal-namespace#constraintviolationresult-typealias'>ConstraintViolationResult</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        The details of what kind of constraint was violated and caused a ConstraintViolationFailure error to occur
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal-namespace#failure-typealias'>Failure</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        A failure encountered by a transaction.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactioninternal-namespace#validstate-typealias'>ValidState</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Type Details

### ConstraintViolationResult (ALPHA) {#constraintviolationresult-typealias}

The details of what kind of constraint was violated and caused a ConstraintViolationFailure error to occur

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#constraintviolationresult-signature}

```typescript
export type ConstraintViolationResult = {
        readonly kind: ConstraintViolationKind.BadRange;
        readonly rangeFailure: BadRangeValidationResult;
    } | {
        readonly kind: ConstraintViolationKind.BadLength;
        readonly actual: number;
    } | {
        readonly kind: ConstraintViolationKind.BadParent;
        readonly actual: NodeId;
    } | {
        readonly kind: ConstraintViolationKind.BadLabel;
        readonly actual: TraitLabel;
    };
```

### Failure (ALPHA) {#failure-typealias}

A failure encountered by a transaction.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#failure-signature}

```typescript
export type Failure = UnusedDetachedSequenceFailure | DetachedSequenceIdAlreadyInUseFailure | DetachedSequenceNotFoundFailure | DuplicateIdInBuildFailure | IdAlreadyInUseFailure | UnknownIdFailure | BadPlaceFailure | BadRangeFailure | ConstraintViolationFailure;
```

### ValidState (ALPHA) {#validstate-typealias}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#validstate-signature}

```typescript
type ValidState = SucceedingTransactionState;
```
