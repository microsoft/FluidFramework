{
  "title": "TransactionView Class",
  "summary": "An view of a distributed tree that is part of an ongoing transaction between `RevisionView`s.",
  "kind": "Class",
  "members": {
    "Method": {
      "addNodes": "/docs/apis/tree/transactionview-class#addnodes-method",
      "attachRange": "/docs/apis/tree/transactionview-class#attachrange-method",
      "close": "/docs/apis/tree/transactionview-class#close-method",
      "deleteNodes": "/docs/apis/tree/transactionview-class#deletenodes-method",
      "detachRange": "/docs/apis/tree/transactionview-class#detachrange-method",
      "equals": "/docs/apis/tree/transactionview-class#equals-method",
      "setNodeValue": "/docs/apis/tree/transactionview-class#setnodevalue-method"
    }
  },
  "package": "@fluid-experimental/tree",
  "unscopedPackageName": "tree"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluid-experimental/tree](/docs/apis/tree) &gt; [TransactionView](/docs/apis/tree/transactionview-class)

An view of a distributed tree that is part of an ongoing transaction between `RevisionView`s.

## Signature {#transactionview-signature}

```typescript
export declare class TransactionView extends TreeView
```

**Extends:** [TreeView](/docs/apis/tree/treeview-class)

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#addnodes-method'>addNodes</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree/transactionview-class'>TransactionView</a></span>
      </td>
      <td>
        Inserts all nodes in a NodeSequence into the view
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#attachrange-method'>attachRange</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree/transactionview-class'>TransactionView</a></span>
      </td>
      <td>
        Parents a set of detached nodes at a specified place.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#close-method'>close</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree/revisionview-class'>RevisionView</a></span>
      </td>
      <td>
        Conclude a transaction by generating an immutable <code>RevisionView</code> from this view
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#deletenodes-method'>deleteNodes</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree/transactionview-class'>TransactionView</a></span>
      </td>
      <td>
        Remove all nodes with the given ids from the view
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#detachrange-method'>detachRange</a>
      </td>
      <td>
        <span>{         view: <a href='/docs/apis/tree/transactionview-class'>TransactionView</a>;         detached: readonly <a href='/docs/apis/tree#nodeid-typealias'>NodeId</a>[];     }</span>
      </td>
      <td>
        Detaches a range of nodes from their parent. The detached nodes remain in the view.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#equals-method'>equals</a>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/transactionview-class#setnodevalue-method'>setNodeValue</a>
      </td>
      <td>
        <span><a href='/docs/apis/tree/transactionview-class'>TransactionView</a></span>
      </td>
      <td>
        Sets or overwrites a node's value. The node must exist in this view.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### addNodes {#addnodes-method}

Inserts all nodes in a NodeSequence into the view

#### Signature {#addnodes-signature}

```typescript
addNodes(sequence: Iterable<TreeViewNode>): TransactionView;
```

#### Parameters {#addnodes-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        sequence
      </td>
      <td>
        <span>Iterable&lt;<a href='/docs/apis/tree/treeviewnode-interface'>TreeViewNode</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#addnodes-returns}

**Return type:** [TransactionView](/docs/apis/tree/transactionview-class)

### attachRange {#attachrange-method}

Parents a set of detached nodes at a specified place.

#### Signature {#attachrange-signature}

```typescript
attachRange(nodesToAttach: readonly NodeId[], place: TreeViewPlace): TransactionView;
```

#### Parameters {#attachrange-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        nodesToAttach
      </td>
      <td>
        <span>readonly <a href='/docs/apis/tree#nodeid-typealias'>NodeId</a>[]</span>
      </td>
      <td>
        the nodes to parent in the specified place. The nodes must already be present in the view.
      </td>
    </tr>
    <tr>
      <td>
        place
      </td>
      <td>
        <span><a href='/docs/apis/tree/treeviewplace-interface'>TreeViewPlace</a></span>
      </td>
      <td>
        the location to insert the nodes.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#attachrange-returns}

**Return type:** [TransactionView](/docs/apis/tree/transactionview-class)

### close {#close-method}

Conclude a transaction by generating an immutable `RevisionView` from this view

#### Signature {#close-signature}

```typescript
close(): RevisionView;
```

#### Returns {#close-returns}

**Return type:** [RevisionView](/docs/apis/tree/revisionview-class)

### deleteNodes {#deletenodes-method}

Remove all nodes with the given ids from the view

#### Signature {#deletenodes-signature}

```typescript
deleteNodes(nodes: Iterable<NodeId>): TransactionView;
```

#### Parameters {#deletenodes-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        nodes
      </td>
      <td>
        <span>Iterable&lt;<a href='/docs/apis/tree#nodeid-typealias'>NodeId</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#deletenodes-returns}

**Return type:** [TransactionView](/docs/apis/tree/transactionview-class)

### detachRange {#detachrange-method}

Detaches a range of nodes from their parent. The detached nodes remain in the view.

#### Signature {#detachrange-signature}

```typescript
detachRange(rangeToDetach: TreeViewRange): {
        view: TransactionView;
        detached: readonly NodeId[];
    };
```

#### Parameters {#detachrange-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        rangeToDetach
      </td>
      <td>
        <span><a href='/docs/apis/tree/treeviewrange-interface'>TreeViewRange</a></span>
      </td>
      <td>
        the range of nodes to detach
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#detachrange-returns}

**Return type:** {         view: [TransactionView](/docs/apis/tree/transactionview-class);         detached: readonly [NodeId](/docs/apis/tree#nodeid-typealias)\[\];     }

### equals {#equals-method}

#### Signature {#equals-signature}

```typescript
equals(view: TreeView): boolean;
```

#### Parameters {#equals-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        view
      </td>
      <td>
        <span><a href='/docs/apis/tree/treeview-class'>TreeView</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#equals-returns}

**Return type:** boolean

### setNodeValue {#setnodevalue-method}

Sets or overwrites a node's value. The node must exist in this view.

#### Signature {#setnodevalue-signature}

```typescript
setNodeValue(nodeId: NodeId, value: Payload): TransactionView;
```

#### Parameters {#setnodevalue-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        nodeId
      </td>
      <td>
        <span><a href='/docs/apis/tree#nodeid-typealias'>NodeId</a></span>
      </td>
      <td>
        the id of the node
      </td>
    </tr>
    <tr>
      <td>
        value
      </td>
      <td>
        <span><a href='/docs/apis/tree#payload-typealias'>Payload</a></span>
      </td>
      <td>
        the new value
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#setnodevalue-returns}

**Return type:** [TransactionView](/docs/apis/tree/transactionview-class)
