{
  "title": "@fluidframework/dds-interceptions Package",
  "kind": "Package",
  "members": {
    "Function": {
      "createDirectoryWithInterception": "/docs/apis/dds-interceptions#createdirectorywithinterception-function",
      "createSharedMapWithInterception": "/docs/apis/dds-interceptions#createsharedmapwithinterception-function",
      "createSharedStringWithInterception": "/docs/apis/dds-interceptions#createsharedstringwithinterception-function"
    }
  },
  "package": "@fluidframework/dds-interceptions",
  "unscopedPackageName": "dds-interceptions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/dds-interceptions](/docs/apis/dds-interceptions)

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Function
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/dds-interceptions#createdirectorywithinterception-function'>createDirectoryWithInterception</a>
      </td>
      <td>
        <span>T</span>
      </td>
      <td>
        <p>
          - Create a new object from the passed IDirectory object.
        </p>
        <p>
          - Modify the set method to call the setInterceptionCallback before calling set on the underlying object.
        </p>
        <p>
          - The setInterceptionCallback and the call to the underlying object are wrapped around an orderSequentially call to batch any operations that might happen in the callback.
        </p>
        <p>
          - Modify the sub directory methods to create / return a wrapper object that in turn intercepts the set method and calls the setInterceptionCallback.
        </p>
        <p>
          - When a sub directory is created from this directory, this directory object is passed to it which is passed into the interception callback.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/dds-interceptions#createsharedmapwithinterception-function'>createSharedMapWithInterception</a>
      </td>
      <td>
        <span><a href='/docs/apis/map/sharedmap-class'>SharedMap</a></span>
      </td>
      <td>
        <p>
          - Create a new object from the passed SharedMap.
        </p>
        <p>
          - Modify the set method to call the setInterceptionCallback before calling set on the underlying SharedMap.
        </p>
        <p>
          - The setInterceptionCallback and the call to the underlying SharedMap are wrapped around an orderSequentially call to batch any operations that might happen in the callback.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/dds-interceptions#createsharedstringwithinterception-function'>createSharedStringWithInterception</a>
      </td>
      <td>
        <span><a href='/docs/apis/sequence/sharedstring-class'>SharedString</a></span>
      </td>
      <td>
        <p>
          - Create a new object from the passed SharedString.
        </p>
        <p>
          - Modify the methods that insert / remove / annotate the properties of the SharedString to call the propertyInterceptionCallback to get new properties.
        </p>
        <p>
          - Use these new properties to call the underlying SharedString.
        </p>
        <p>
          - The propertyInterceptionCallback and the call to the underlying SharedString are wrapped around an orderSequentially call to batch any operations that might happen in the callback.
        </p>
      </td>
    </tr>
  </tbody>
</table>

## Function Details

### createDirectoryWithInterception {#createdirectorywithinterception-function}

- Create a new object from the passed IDirectory object.

- Modify the set method to call the setInterceptionCallback before calling set on the underlying object.

- The setInterceptionCallback and the call to the underlying object are wrapped around an orderSequentially call to batch any operations that might happen in the callback.

- Modify the sub directory methods to create / return a wrapper object that in turn intercepts the set method and calls the setInterceptionCallback.

- When a sub directory is created from this directory, this directory object is passed to it which is passed into the interception callback.

#### Signature {#createdirectorywithinterception-signature}

```typescript
export declare function createDirectoryWithInterception<T extends IDirectory>(baseDirectory: T, context: IFluidDataStoreContext, setInterceptionCallback: (baseDirectory: IDirectory, subDirectory: IDirectory, key: string, value: any) => void): T;
```

#### Parameters {#createdirectorywithinterception-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        baseDirectory
      </td>
      <td>
        <span>T</span>
      </td>
      <td>
        The underlying object that is to be intercepted
      </td>
    </tr>
    <tr>
      <td>
        context
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
        The IFluidDataStoreContext that will be used to call orderSequentially
      </td>
    </tr>
    <tr>
      <td>
        setInterceptionCallback
      </td>
      <td>
        <span>(baseDirectory: <a href='/docs/apis/map/idirectory-interface'>IDirectory</a>, subDirectory: <a href='/docs/apis/map/idirectory-interface'>IDirectory</a>, key: string, value: any) =&gt; void</span>
      </td>
      <td>
        The interception callback to be called
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createdirectorywithinterception-returns}

A new IDirectory object that intercepts the set method and calls the setInterceptionCallback.

**Return type:** T

### createSharedMapWithInterception {#createsharedmapwithinterception-function}

- Create a new object from the passed SharedMap.

- Modify the set method to call the setInterceptionCallback before calling set on the underlying SharedMap.

- The setInterceptionCallback and the call to the underlying SharedMap are wrapped around an orderSequentially call to batch any operations that might happen in the callback.

#### Signature {#createsharedmapwithinterception-signature}

```typescript
export declare function createSharedMapWithInterception(sharedMap: SharedMap, context: IFluidDataStoreContext, setInterceptionCallback: (sharedMap: ISharedMap, key: string, value: any) => void): SharedMap;
```

#### Parameters {#createsharedmapwithinterception-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        sharedMap
      </td>
      <td>
        <span><a href='/docs/apis/map/sharedmap-class'>SharedMap</a></span>
      </td>
      <td>
        The underlying SharedMap
      </td>
    </tr>
    <tr>
      <td>
        context
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
        The IFluidDataStoreContext that will be used to call orderSequentially
      </td>
    </tr>
    <tr>
      <td>
        setInterceptionCallback
      </td>
      <td>
        <span>(sharedMap: <a href='/docs/apis/map/isharedmap-interface'>ISharedMap</a>, key: string, value: any) =&gt; void</span>
      </td>
      <td>
        The interception callback to be called
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createsharedmapwithinterception-returns}

A new SharedMap that intercepts the set method and calls the setInterceptionCallback.

**Return type:** [SharedMap](/docs/apis/map/sharedmap-class)

### createSharedStringWithInterception {#createsharedstringwithinterception-function}

- Create a new object from the passed SharedString.

- Modify the methods that insert / remove / annotate the properties of the SharedString to call the propertyInterceptionCallback to get new properties.

- Use these new properties to call the underlying SharedString.

- The propertyInterceptionCallback and the call to the underlying SharedString are wrapped around an orderSequentially call to batch any operations that might happen in the callback.

#### Signature {#createsharedstringwithinterception-signature}

```typescript
export declare function createSharedStringWithInterception(sharedString: SharedString, context: IFluidDataStoreContext, propertyInterceptionCallback: (props?: MergeTree.PropertySet) => MergeTree.PropertySet): SharedString;
```

#### Parameters {#createsharedstringwithinterception-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        sharedString
      </td>
      <td>
        <span><a href='/docs/apis/sequence/sharedstring-class'>SharedString</a></span>
      </td>
      <td>
        The underlying SharedString
      </td>
    </tr>
    <tr>
      <td>
        context
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
        The IFluidDataStoreContext that will be used to call orderSequentially
      </td>
    </tr>
    <tr>
      <td>
        propertyInterceptionCallback
      </td>
      <td>
        <span>(props?: <a href='/docs/apis/merge-tree#propertyset-typealias'>MergeTree.PropertySet</a>) =&gt; <a href='/docs/apis/merge-tree#propertyset-typealias'>MergeTree.PropertySet</a></span>
      </td>
      <td>
        The interception callback to be called
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createsharedstringwithinterception-returns}

A new SharedString that intercepts the methods modifying the SharedString properties.

**Return type:** [SharedString](/docs/apis/sequence/sharedstring-class)
