{
  "title": "IDeltaConnection Interface",
  "summary": "Interface to represent a connection to a delta notification stream.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "addedGCOutboundReference": "/docs/apis/datastore-definitions/ideltaconnection-interface#addedgcoutboundreference-methodsignature",
      "attach": "/docs/apis/datastore-definitions/ideltaconnection-interface#attach-methodsignature",
      "dirty": "/docs/apis/datastore-definitions/ideltaconnection-interface#dirty-methodsignature",
      "submit": "/docs/apis/datastore-definitions/ideltaconnection-interface#submit-methodsignature"
    },
    "PropertySignature": {
      "connected": "/docs/apis/datastore-definitions/ideltaconnection-interface#connected-propertysignature"
    }
  },
  "package": "@fluidframework/datastore-definitions",
  "unscopedPackageName": "datastore-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Interface to represent a connection to a delta notification stream.

## Signature {#ideltaconnection-signature}

```typescript
export interface IDeltaConnection
```

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltaconnection-interface#connected-propertysignature'>connected</a>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltaconnection-interface#addedgcoutboundreference-methodsignature'>addedGCOutboundReference(srcHandle, outboundHandle)</a>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Called when a new outbound reference is added to another node. This is used by garbage collection to identify all references added in the system.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltaconnection-interface#attach-methodsignature'>attach(handler)</a>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Attaches a message handler to the delta connection
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltaconnection-interface#dirty-methodsignature'>dirty()</a>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Indicates that the channel is dirty and needs to be part of the summary. It is called by a SharedSummaryBlock that needs to be part of the summary but does not generate ops.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltaconnection-interface#submit-methodsignature'>submit(messageContent, localOpMetadata)</a>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Send new messages to the server.
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### connected {#connected-propertysignature}

#### Signature {#connected-signature}

```typescript
connected: boolean;
```

## Method Details

### addedGCOutboundReference {#addedgcoutboundreference-methodsignature}

Called when a new outbound reference is added to another node. This is used by garbage collection to identify all references added in the system.

#### Signature {#addedgcoutboundreference-signature}

```typescript
addedGCOutboundReference?(srcHandle: IFluidHandle, outboundHandle: IFluidHandle): void;
```

#### Parameters {#addedgcoutboundreference-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        srcHandle
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a></span>
      </td>
      <td>
        The handle of the node that added the reference.
      </td>
    </tr>
    <tr>
      <td>
        outboundHandle
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a></span>
      </td>
      <td>
        The handle of the outbound node that is referenced.
      </td>
    </tr>
  </tbody>
</table>

### attach {#attach-methodsignature}

Attaches a message handler to the delta connection

#### Signature {#attach-signature}

```typescript
attach(handler: IDeltaHandler): void;
```

#### Parameters {#attach-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        handler
      </td>
      <td>
        <span><a href='/docs/apis/datastore-definitions/ideltahandler-interface'>IDeltaHandler</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### dirty {#dirty-methodsignature}

Indicates that the channel is dirty and needs to be part of the summary. It is called by a SharedSummaryBlock that needs to be part of the summary but does not generate ops.

#### Signature {#dirty-signature}

```typescript
dirty(): void;
```

### submit {#submit-methodsignature}

Send new messages to the server.

#### Signature {#submit-signature}

```typescript
submit(messageContent: any, localOpMetadata: unknown): void;
```

#### Parameters {#submit-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        messageContent
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
        The content of the message to be sent.
      </td>
    </tr>
    <tr>
      <td>
        localOpMetadata
      </td>
      <td>
        <span>unknown</span>
      </td>
      <td>
        The local metadata associated with the message. This is kept locally by the runtime and not sent to the server. It will be provided back when this message is acknowledged by the server. It will also be provided back when asked to resubmit the message.
      </td>
    </tr>
  </tbody>
</table>
