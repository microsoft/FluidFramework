{
  "title": "SharedSegmentSequence Class",
  "summary": "",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/sequence/sharedsegmentsequence-class#_constructor_-constructor"
    },
    "Property": {
      "client": "/docs/apis/sequence/sharedsegmentsequence-class#client-property",
      "guardReentrancy": "/docs/apis/sequence/sharedsegmentsequence-class#guardreentrancy-property",
      "id": "/docs/apis/sequence/sharedsegmentsequence-class#id-property",
      "loaded": "/docs/apis/sequence/sharedsegmentsequence-class#loaded-property",
      "loadedDeferred": "/docs/apis/sequence/sharedsegmentsequence-class#loadeddeferred-property",
      "segmentFromSpec": "/docs/apis/sequence/sharedsegmentsequence-class#segmentfromspec-property"
    }
  },
  "package": "@fluidframework/sequence",
  "unscopedPackageName": "sequence"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#sharedsegmentsequence-signature}

```typescript
export declare abstract class SharedSegmentSequence<T extends ISegment> extends SharedObject<ISharedSegmentSequenceEvents> implements ISharedIntervalCollection<SequenceInterval>, MergeTreeRevertibleDriver
```

**Extends:** [SharedObject](/docs/apis/shared-object-base/sharedobject-class)&lt;[ISharedSegmentSequenceEvents](/docs/apis/sequence/isharedsegmentsequenceevents-interface)&gt;

**Implements:** [ISharedIntervalCollection](/docs/apis/sequence/isharedintervalcollection-interface)&lt;[SequenceInterval](/docs/apis/sequence/sequenceinterval-class)&gt;, [MergeTreeRevertibleDriver](/docs/apis/merge-tree/mergetreerevertibledriver-interface)

### Type Parameters

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        T
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#_constructor_-constructor'>(constructor)(dataStoreRuntime, id, attributes, segmentFromSpec)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Constructs a new instance of the <code>SharedSegmentSequence</code> class
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#client-property'>client</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/merge-tree/client-class'>Client</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#guardreentrancy-property'>guardReentrancy</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>&lt;TRet&gt;(callback: () =&gt; TRet) =&gt; TRet</span>
      </td>
      <td>
        <p>
          This is a safeguard to avoid problematic reentrancy of local ops. This type of scenario occurs if the user of SharedString subscribes to the <code>sequenceDelta</code> event and uses the callback for a local op to submit further local ops. Historically (before 2.0.0-internal.6.1.0), doing so would result in eventual consistency issues or a corrupted document. These issues were fixed in #16815 which makes such reentrancy no different from applying the ops in order but not from within the change events, but there is still little test coverage for reentrant scenarios. Additionally, applications submitting ops from inside change events need to take extreme care that their data models also support reentrancy. Since this is likely not the case, by default SharedString throws when encountering reentrant ops.
        </p>
        <p>
          An application using SharedString which explicitly wants to opt in to allowing reentrancy anyway can set <code>sharedStringPreventReentrancy</code> on the data store options to <code>false</code>.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#id-property'>id</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#loaded-property'>loaded</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#loadeddeferred-property'>loadedDeferred</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/core-utils/deferred-class'>Deferred</a>&lt;void&gt;</span>
      </td>
      <td>
        <code>Deferred</code> that triggers once the object is loaded
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/sequence/sharedsegmentsequence-class#segmentfromspec-property'>segmentFromSpec</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>(spec: <a href='/docs/apis/merge-tree/ijsonsegment-interface'>IJSONSegment</a>) =&gt; <a href='/docs/apis/merge-tree/isegment-interface'>ISegment</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) (ALPHA) {#_constructor_-constructor}

Constructs a new instance of the `SharedSegmentSequence` class

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#_constructor_-signature}

```typescript
constructor(dataStoreRuntime: IFluidDataStoreRuntime, id: string, attributes: IChannelAttributes, segmentFromSpec: (spec: IJSONSegment) => ISegment);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        dataStoreRuntime
      </td>
      <td>
        <span><a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime-interface'>IFluidDataStoreRuntime</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        id
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        attributes
      </td>
      <td>
        <span><a href='/docs/apis/datastore-definitions/ichannelattributes-interface'>IChannelAttributes</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        segmentFromSpec
      </td>
      <td>
        <span>(spec: <a href='/docs/apis/merge-tree/ijsonsegment-interface'>IJSONSegment</a>) =&gt; <a href='/docs/apis/merge-tree/isegment-interface'>ISegment</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### client (ALPHA) {#client-property}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#client-signature}

```typescript
protected client: Client;
```

### guardReentrancy (ALPHA) {#guardreentrancy-property}

This is a safeguard to avoid problematic reentrancy of local ops. This type of scenario occurs if the user of SharedString subscribes to the `sequenceDelta` event and uses the callback for a local op to submit further local ops. Historically (before 2.0.0-internal.6.1.0), doing so would result in eventual consistency issues or a corrupted document. These issues were fixed in \#16815 which makes such reentrancy no different from applying the ops in order but not from within the change events, but there is still little test coverage for reentrant scenarios. Additionally, applications submitting ops from inside change events need to take extreme care that their data models also support reentrancy. Since this is likely not the case, by default SharedString throws when encountering reentrant ops.

An application using SharedString which explicitly wants to opt in to allowing reentrancy anyway can set `sharedStringPreventReentrancy` on the data store options to `false`.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#guardreentrancy-signature}

```typescript
protected guardReentrancy: <TRet>(callback: () => TRet) => TRet;
```

### id (ALPHA) {#id-property}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#id-signature}

```typescript
id: string;
```

### loaded (ALPHA) {#loaded-property}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#loaded-signature}

```typescript
get loaded(): Promise<void>;
```

### loadedDeferred (ALPHA) {#loadeddeferred-property}

`Deferred` that triggers once the object is loaded

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#loadeddeferred-signature}

```typescript
protected loadedDeferred: Deferred<void>;
```

### segmentFromSpec (ALPHA) {#segmentfromspec-property}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#segmentfromspec-signature}

```typescript
readonly segmentFromSpec: (spec: IJSONSegment) => ISegment;
```
