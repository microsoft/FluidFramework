{
  "title": "@fluidframework/protocol-base Package",
  "kind": "Package",
  "members": {
    "Function": {
      "buildGitTreeHierarchy": "/docs/apis/protocol-base#buildgittreehierarchy-function",
      "getGitMode": "/docs/apis/protocol-base#getgitmode-function",
      "getGitType": "/docs/apis/protocol-base#getgittype-function"
    },
    "Interface": {
      "IProtocolHandler": "/docs/apis/protocol-base/iprotocolhandler-interface",
      "IQuorumSnapshot": "/docs/apis/protocol-base/iquorumsnapshot-interface",
      "IScribeProtocolState": "/docs/apis/protocol-base/iscribeprotocolstate-interface"
    },
    "Class": {
      "ProtocolOpHandler": "/docs/apis/protocol-base/protocolophandler-class",
      "Quorum": "/docs/apis/protocol-base/quorum-class",
      "QuorumClients": "/docs/apis/protocol-base/quorumclients-class",
      "QuorumProposals": "/docs/apis/protocol-base/quorumproposals-class"
    },
    "TypeAlias": {
      "QuorumClientsSnapshot": "/docs/apis/protocol-base#quorumclientssnapshot-typealias",
      "QuorumProposalsSnapshot": "/docs/apis/protocol-base#quorumproposalssnapshot-typealias"
    }
  },
  "package": "@fluidframework/protocol-base",
  "unscopedPackageName": "protocol-base"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/protocol-base](/docs/apis/protocol-base)

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/iprotocolhandler-interface'>IProtocolHandler</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/iquorumsnapshot-interface'>IQuorumSnapshot</a>
      </td>
      <td>
        Snapshot format for a Quorum
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/iscribeprotocolstate-interface'>IScribeProtocolState</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Class
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/protocolophandler-class'>ProtocolOpHandler</a>
      </td>
      <td>
        Handles protocol specific ops.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/quorum-class'>Quorum</a>
      </td>
      <td>
        A quorum represents all clients currently within the collaboration window. As well as the values they have agreed upon and any pending proposals.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/quorumclients-class'>QuorumClients</a>
      </td>
      <td>
        The QuorumClients is used to track members joining and leaving the collaboration session.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base/quorumproposals-class'>QuorumProposals</a>
      </td>
      <td>
        The QuorumProposals holds a key/value store. Proposed values become finalized in the store once all connected clients have seen the proposal.
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        TypeAlias
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#quorumclientssnapshot-typealias'>QuorumClientsSnapshot</a>
      </td>
      <td>
        Snapshot format for a QuorumClients
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#quorumproposalssnapshot-typealias'>QuorumProposalsSnapshot</a>
      </td>
      <td>
        Snapshot format for a QuorumProposals
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Function
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#buildgittreehierarchy-function'>buildGitTreeHierarchy</a>
      </td>
      <td>
        <span><a href='/docs/apis/protocol-definitions/isnapshottreeex-interface'>ISnapshotTreeEx</a></span>
      </td>
      <td>
        NOTE: Renamed from <code>buildHierarchy</code> to <code>buildGitTreeHierarchy</code>. There is usage of this function in loader and driver layer. Build a tree hierarchy base on a flat tree
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#getgitmode-function'>getGitMode</a>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Take a summary object and returns its git mode.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/protocol-base#getgittype-function'>getGitType</a>
      </td>
      <td>
        <span>&quot;blob&quot; &#124; &quot;tree&quot;</span>
      </td>
      <td>
        Take a summary object and returns its type.
      </td>
    </tr>
  </tbody>
</table>

## Type Details

### QuorumClientsSnapshot {#quorumclientssnapshot-typealias}

Snapshot format for a QuorumClients

#### Signature {#quorumclientssnapshot-signature}

```typescript
export declare type QuorumClientsSnapshot = [string, ISequencedClient][];
```

### QuorumProposalsSnapshot {#quorumproposalssnapshot-typealias}

Snapshot format for a QuorumProposals

#### Signature {#quorumproposalssnapshot-signature}

```typescript
export declare type QuorumProposalsSnapshot = {
    proposals: [number, ISequencedProposal, string[]][];
    values: [string, ICommittedProposal][];
};
```

## Function Details

### buildGitTreeHierarchy {#buildgittreehierarchy-function}

NOTE: Renamed from `buildHierarchy` to `buildGitTreeHierarchy`. There is usage of this function in loader and driver layer. Build a tree hierarchy base on a flat tree

#### Signature {#buildgittreehierarchy-signature}

```typescript
export declare function buildGitTreeHierarchy(flatTree: git.ITree, blobsShaToPathCache?: Map<string, string>, removeAppTreePrefix?: boolean): ISnapshotTreeEx;
```

#### Parameters {#buildgittreehierarchy-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        flatTree
      </td>
      <td>
      </td>
      <td>
        <span>git.ITree</span>
      </td>
      <td>
        a flat tree
      </td>
    </tr>
    <tr>
      <td>
        blobsShaToPathCache
      </td>
      <td>
        optional
      </td>
      <td>
        <span>Map&lt;string, string&gt;</span>
      </td>
      <td>
        Map with blobs sha as keys and values as path of the blob.
      </td>
    </tr>
    <tr>
      <td>
        removeAppTreePrefix
      </td>
      <td>
        optional
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        Remove <code>.app/</code> from beginning of paths when present
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#buildgittreehierarchy-returns}

the hierarchical tree

**Return type:** [ISnapshotTreeEx](/docs/apis/protocol-definitions/isnapshottreeex-interface)

### getGitMode {#getgitmode-function}

Take a summary object and returns its git mode.

#### Signature {#getgitmode-signature}

```typescript
export declare function getGitMode(value: SummaryObject): string;
```

#### Parameters {#getgitmode-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        value
      </td>
      <td>
        <span><a href='/docs/apis/protocol-definitions#summaryobject-typealias'>SummaryObject</a></span>
      </td>
      <td>
        summary object
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getgitmode-returns}

the git mode of summary object

**Return type:** string

### getGitType {#getgittype-function}

Take a summary object and returns its type.

#### Signature {#getgittype-signature}

```typescript
export declare function getGitType(value: SummaryObject): "blob" | "tree";
```

#### Parameters {#getgittype-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        value
      </td>
      <td>
        <span><a href='/docs/apis/protocol-definitions#summaryobject-typealias'>SummaryObject</a></span>
      </td>
      <td>
        summary object
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getgittype-returns}

the type of summary object

**Return type:** "blob" \| "tree"
