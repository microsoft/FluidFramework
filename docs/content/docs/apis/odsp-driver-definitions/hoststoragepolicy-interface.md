{
  "title": "HostStoragePolicy Interface",
  "kind": "Interface",
  "members": {
    "PropertySignature": {
      "avoidPrefetchSnapshotCache": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#avoidprefetchsnapshotcache-propertysignature",
      "cacheCreateNewSummary": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#cachecreatenewsummary-propertysignature",
      "concurrentOpsBatches": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#concurrentopsbatches-propertysignature",
      "concurrentSnapshotFetch": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#concurrentsnapshotfetch-propertysignature",
      "enableRedeemFallback": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#enableredeemfallback-propertysignature",
      "enableShareLinkWithCreate": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#enablesharelinkwithcreate-propertysignature",
      "enableSingleRequestForShareLinkWithCreate": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#enablesinglerequestforsharelinkwithcreate-propertysignature",
      "fetchBinarySnapshotFormat": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#fetchbinarysnapshotformat-propertysignature",
      "isolateSocketCache": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#isolatesocketcache-propertysignature",
      "opsBatchSize": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#opsbatchsize-propertysignature",
      "opsCaching": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#opscaching-propertysignature",
      "sessionOptions": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#sessionoptions-propertysignature",
      "snapshotOptions": "/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#snapshotoptions-propertysignature"
    }
  },
  "package": "@fluidframework/odsp-driver-definitions",
  "unscopedPackageName": "odsp-driver-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/odsp-driver-definitions](/docs/apis/odsp-driver-definitions) &gt; [HostStoragePolicy](/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface)

## Signature {#hoststoragepolicy-signature}

```typescript
export interface HostStoragePolicy
```

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#avoidprefetchsnapshotcache-propertysignature'>avoidPrefetchSnapshotCache</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        True if host does not want the storage service to use the prefetch cache to get the snapshot. Undefined will be treated as false. This is if the host wants to do some A/B testing.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#cachecreatenewsummary-propertysignature'>cacheCreateNewSummary</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        Policy controlling if we will cache initial summary when we create a document
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#concurrentopsbatches-propertysignature'>concurrentOpsBatches</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#concurrentsnapshotfetch-propertysignature'>concurrentSnapshotFetch</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        If set to true, tells driver to concurrently fetch snapshot from storage (SPO) and cache Container loads from whatever comes first in such case. Snapshot fetched from storage is pushed to cache in either case. If set to false, driver will first consult with cache. Only on cache miss (cache does not return snapshot), driver will fetch snapshot from storage (and push it to cache), otherwise it will load from cache and not reach out to storage. Passing true results in faster loads and keeping cache more current, but it increases bandwidth consumption.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#enableredeemfallback-propertysignature'>enableRedeemFallback</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#enablesharelinkwithcreate-propertysignature'>enableShareLinkWithCreate</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#enablesinglerequestforsharelinkwithcreate-propertysignature'>enableSingleRequestForShareLinkWithCreate</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        Enable creation of sharing link along with the creation of file by setting this value to true. If the host provides a 'createLinkScope' parameter in the request URL to the container.attach() method, we will send the request to ODSP with the same (if the flag is enabled) so that a share link can be created with the creation of file to save number for round trips made to ODSP. (This flag works independently of enableShareLinkWithCreate which was used for old sharing link requests where 'createLinkType' was requested.)
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#fetchbinarysnapshotformat-propertysignature'>fetchBinarySnapshotFormat</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#isolatesocketcache-propertysignature'>isolateSocketCache</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        If set to true, socket cache are per OdspDocumentService instead of shared across all instances
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#opsbatchsize-propertysignature'>opsBatchSize</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#opscaching-propertysignature'>opsCaching</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span><a href='/docs/apis/odsp-driver-definitions/iopscachingpolicy-interface'>IOpsCachingPolicy</a></span>
      </td>
      <td>
        Policy controlling ops caching (leveraging IPersistedCache passed to driver factory)
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#sessionoptions-propertysignature'>sessionOptions</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span><a href='/docs/apis/odsp-driver-definitions/icollabsessionoptions-interface'>ICollabSessionOptions</a></span>
      </td>
      <td>
        Policy controlling how collaboration session is established
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver-definitions/hoststoragepolicy-interface#snapshotoptions-propertysignature'>snapshotOptions</a>
      </td>
      <td>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span><a href='/docs/apis/odsp-driver-definitions/isnapshotoptions-interface'>ISnapshotOptions</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### avoidPrefetchSnapshotCache {#avoidprefetchsnapshotcache-propertysignature}

True if host does not want the storage service to use the prefetch cache to get the snapshot. Undefined will be treated as false. This is if the host wants to do some A/B testing.

#### Signature {#avoidprefetchsnapshotcache-signature}

```typescript
avoidPrefetchSnapshotCache?: boolean;
```

### cacheCreateNewSummary {#cachecreatenewsummary-propertysignature}

Policy controlling if we will cache initial summary when we create a document

#### Signature {#cachecreatenewsummary-signature}

```typescript
cacheCreateNewSummary?: boolean;
```

### concurrentOpsBatches {#concurrentopsbatches-propertysignature}

#### Signature {#concurrentopsbatches-signature}

```typescript
concurrentOpsBatches?: number;
```

### concurrentSnapshotFetch {#concurrentsnapshotfetch-propertysignature}

If set to true, tells driver to concurrently fetch snapshot from storage (SPO) and cache Container loads from whatever comes first in such case. Snapshot fetched from storage is pushed to cache in either case. If set to false, driver will first consult with cache. Only on cache miss (cache does not return snapshot), driver will fetch snapshot from storage (and push it to cache), otherwise it will load from cache and not reach out to storage. Passing true results in faster loads and keeping cache more current, but it increases bandwidth consumption.

#### Signature {#concurrentsnapshotfetch-signature}

```typescript
concurrentSnapshotFetch?: boolean;
```

### enableRedeemFallback {#enableredeemfallback-propertysignature}

{{% callout warning Deprecated %}}
This field will be always set to true after removal. True to have the sharing link redeem fallback in case the Trees Latest/Redeem 1RT call fails with redeem error. During fallback it will first redeem the sharing link and then make the Trees latest call.

{{% /callout %}}

#### Signature {#enableredeemfallback-signature}

```typescript
enableRedeemFallback?: boolean;
```

### enableShareLinkWithCreate {#enablesharelinkwithcreate-propertysignature}

{{% callout warning Deprecated %}}
Switch to using the new feature gated by enableSingleRequestForShareLinkWithCreate with 'createLinkScope' and 'createLinkRole' is requested to the odsp apis instead of 'createLinkType'. It enables the creation of sharing link along with the creation of file by setting this value to true. If the host provides a 'createLinkType' parameter in the request URL to the container.attach() method, we will send the request to ODSP with the same (if the flag is enabled) so that a share link can be created with the creation of file to save number for round trips made to ODSP. (This flag works independently of enableSingleRequestForShareLinkWithCreate which is used for sharing link requests where 'createLinkScope' is requested.)

{{% /callout %}}

#### Signature {#enablesharelinkwithcreate-signature}

```typescript
enableShareLinkWithCreate?: boolean;
```

### enableSingleRequestForShareLinkWithCreate {#enablesinglerequestforsharelinkwithcreate-propertysignature}

Enable creation of sharing link along with the creation of file by setting this value to true. If the host provides a 'createLinkScope' parameter in the request URL to the container.attach() method, we will send the request to ODSP with the same (if the flag is enabled) so that a share link can be created with the creation of file to save number for round trips made to ODSP. (This flag works independently of enableShareLinkWithCreate which was used for old sharing link requests where 'createLinkType' was requested.)

#### Signature {#enablesinglerequestforsharelinkwithcreate-signature}

```typescript
enableSingleRequestForShareLinkWithCreate?: boolean;
```

### fetchBinarySnapshotFormat {#fetchbinarysnapshotformat-propertysignature}

{{% callout warning Deprecated %}}
This will be replaced with feature gate snapshotFormatFetchType. Policy controlling if we want to fetch binary format snapshot.

{{% /callout %}}

#### Signature {#fetchbinarysnapshotformat-signature}

```typescript
fetchBinarySnapshotFormat?: boolean;
```

### isolateSocketCache {#isolatesocketcache-propertysignature}

If set to true, socket cache are per OdspDocumentService instead of shared across all instances

#### Signature {#isolatesocketcache-signature}

```typescript
isolateSocketCache?: boolean;
```

### opsBatchSize {#opsbatchsize-propertysignature}

#### Signature {#opsbatchsize-signature}

```typescript
opsBatchSize?: number;
```

### opsCaching {#opscaching-propertysignature}

Policy controlling ops caching (leveraging IPersistedCache passed to driver factory)

#### Signature {#opscaching-signature}

```typescript
opsCaching?: IOpsCachingPolicy;
```

### sessionOptions {#sessionoptions-propertysignature}

Policy controlling how collaboration session is established

#### Signature {#sessionoptions-signature}

```typescript
sessionOptions?: ICollabSessionOptions;
```

### snapshotOptions {#snapshotoptions-propertysignature}

#### Signature {#snapshotoptions-signature}

```typescript
snapshotOptions?: ISnapshotOptions;
```
