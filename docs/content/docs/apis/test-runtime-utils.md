{
  "title": "@fluidframework/test-runtime-utils Package",
  "kind": "Package",
  "members": {
    "Interface": {
      "IInsecureUser": "/docs/apis/test-runtime-utils/iinsecureuser-interface",
      "IMockContainerRuntimeOptions": "/docs/apis/test-runtime-utils/imockcontainerruntimeoptions-interface",
      "IMockContainerRuntimePendingMessage": "/docs/apis/test-runtime-utils/imockcontainerruntimependingmessage-interface"
    },
    "Class": {
      "InsecureTokenProvider": "/docs/apis/test-runtime-utils/insecuretokenprovider-class",
      "MockContainerRuntime": "/docs/apis/test-runtime-utils/mockcontainerruntime-class",
      "MockContainerRuntimeFactory": "/docs/apis/test-runtime-utils/mockcontainerruntimefactory-class",
      "MockContainerRuntimeFactoryForReconnection": "/docs/apis/test-runtime-utils/mockcontainerruntimefactoryforreconnection-class",
      "MockContainerRuntimeForReconnection": "/docs/apis/test-runtime-utils/mockcontainerruntimeforreconnection-class",
      "MockDeltaConnection": "/docs/apis/test-runtime-utils/mockdeltaconnection-class",
      "MockDeltaManager": "/docs/apis/test-runtime-utils/mockdeltamanager-class",
      "MockDeltaQueue": "/docs/apis/test-runtime-utils/mockdeltaqueue-class",
      "MockEmptyDeltaConnection": "/docs/apis/test-runtime-utils/mockemptydeltaconnection-class",
      "MockFluidDataStoreContext": "/docs/apis/test-runtime-utils/mockfluiddatastorecontext-class",
      "MockFluidDataStoreRuntime": "/docs/apis/test-runtime-utils/mockfluiddatastoreruntime-class",
      "MockHandle": "/docs/apis/test-runtime-utils/mockhandle-class",
      "MockObjectStorageService": "/docs/apis/test-runtime-utils/mockobjectstorageservice-class",
      "MockQuorumClients": "/docs/apis/test-runtime-utils/mockquorumclients-class",
      "MockSharedObjectServices": "/docs/apis/test-runtime-utils/mocksharedobjectservices-class",
      "MockStorage": "/docs/apis/test-runtime-utils/mockstorage-class"
    },
    "Function": {
      "validateAssertionError": "/docs/apis/test-runtime-utils#validateassertionerror-function"
    }
  },
  "package": "@fluidframework/test-runtime-utils",
  "unscopedPackageName": "test-runtime-utils"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/test-runtime-utils](/docs/apis/test-runtime-utils)

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/iinsecureuser-interface'>IInsecureUser</a>
      </td>
      <td>
        Insecure user definition.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/imockcontainerruntimeoptions-interface'>IMockContainerRuntimeOptions</a>
      </td>
      <td>
        Options for the container runtime mock.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/imockcontainerruntimependingmessage-interface'>IMockContainerRuntimePendingMessage</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Class
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/insecuretokenprovider-class'>InsecureTokenProvider</a>
      </td>
      <td>
        <p>
          Provides an in memory implementation of <a href='/docs/apis/routerlicious-driver/itokenprovider-interface'>ITokenProvider</a> that can be used to insecurely connect to the Fluid Relay.
        </p>
        <p>
          As the name implies, this is not secure and should not be used in production. It simply makes examples where authentication is not relevant easier to bootstrap.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockcontainerruntime-class'>MockContainerRuntime</a>
      </td>
      <td>
        Mock implementation of ContainerRuntime for testing basic submitting and processing of messages. If test specific logic is required, extend this class and add the logic there. For an example, take a look at MockContainerRuntimeForReconnection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockcontainerruntimefactory-class'>MockContainerRuntimeFactory</a>
      </td>
      <td>
        Factory to create MockContainerRuntime for testing basic submitting and processing of messages. This also acts as a very basic server that stores the messages from all the MockContainerRuntimes and processes them when asked. If test specific logic is required, extend this class and add the logic there. For an example, take a look at MockContainerRuntimeFactoryForReconnection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockcontainerruntimefactoryforreconnection-class'>MockContainerRuntimeFactoryForReconnection</a>
      </td>
      <td>
        Specialized implementation of MockContainerRuntimeFactory for testing ops during reconnection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockcontainerruntimeforreconnection-class'>MockContainerRuntimeForReconnection</a>
      </td>
      <td>
        Specialized implementation of MockContainerRuntime for testing ops during reconnection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockdeltaconnection-class'>MockDeltaConnection</a>
      </td>
      <td>
        Mock implementation of IDeltaConnection for testing
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockdeltamanager-class'>MockDeltaManager</a>
      </td>
      <td>
        Mock implementation of IDeltaManager for testing that creates mock DeltaQueues for testing
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockdeltaqueue-class'>MockDeltaQueue</a>
      </td>
      <td>
        Mock implementation of IDeltaQueue for testing that does nothing
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockemptydeltaconnection-class'>MockEmptyDeltaConnection</a>
      </td>
      <td>
        Mock implementation of IDeltaConnection
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockfluiddatastorecontext-class'>MockFluidDataStoreContext</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockfluiddatastoreruntime-class'>MockFluidDataStoreRuntime</a>
      </td>
      <td>
        Mock implementation of IRuntime for testing that does nothing
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockhandle-class'>MockHandle</a>
      </td>
      <td>
        Mock implementation of IFluidHandle.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockobjectstorageservice-class'>MockObjectStorageService</a>
      </td>
      <td>
        Mock implementation of IChannelStorageService
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockquorumclients-class'>MockQuorumClients</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mocksharedobjectservices-class'>MockSharedObjectServices</a>
      </td>
      <td>
        Mock implementation of IChannelServices
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils/mockstorage-class'>MockStorage</a>
      </td>
      <td>
        Mock implementation of IChannelStorageService based on ITree input.
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Function
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/test-runtime-utils#validateassertionerror-function'>validateAssertionError</a>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        Validates that an error thrown by our assert() function has the expected message, or a short code that corresponds to that message.
      </td>
    </tr>
  </tbody>
</table>

## Function Details

### validateAssertionError {#validateassertionerror-function}

Validates that an error thrown by our assert() function has the expected message, or a short code that corresponds to that message.

#### Signature {#validateassertionerror-signature}

```typescript
export declare function validateAssertionError(error: Error, expectedErrorMsg: string | RegExp): boolean;
```

#### Remarks {#validateassertionerror-remarks}

The main use case for this is so tests that expect specific assert() calls to fail can always do comparisons based on the original string message, and work whether they run before the policy-check tool replaces those strings with short codes, or after. Note that it either returns true or throws an error (the behavior expected by NodeJS' `assert.throws()`).

#### Parameters {#validateassertionerror-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        error
      </td>
      <td>
        <span>Error</span>
      </td>
      <td>
        The error object thrown by our <code>assert()</code> function. Its <code>message</code> property could be a short code, or the original string message coded into the <code>asert()</code>.
      </td>
    </tr>
    <tr>
      <td>
        expectedErrorMsg
      </td>
      <td>
        <span>string &#124; RegExp</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#validateassertionerror-returns}

`true` if the message in the error object that was passed in matches the expected message. Otherwise it throws an error.

**Return type:** boolean
