{
  "title": "@fluidframework/container-runtime Package",
  "kind": "Package",
  "members": {
    "Variable": {
      "agentSchedulerId": "/docs/apis/container-runtime#agentschedulerid-variable",
      "AllowTombstoneRequestHeaderKey": "/docs/apis/container-runtime#allowtombstonerequestheaderkey-variable",
      "DefaultSummaryConfiguration": "/docs/apis/container-runtime#defaultsummaryconfiguration-variable",
      "neverCancelledSummaryToken": "/docs/apis/container-runtime#nevercancelledsummarytoken-variable",
      "TombstoneResponseHeaderKey": "/docs/apis/container-runtime#tombstoneresponseheaderkey-variable"
    },
    "Function": {
      "assertIsStableId": "/docs/apis/container-runtime#assertisstableid-function",
      "generateStableId": "/docs/apis/container-runtime#generatestableid-function",
      "isRuntimeMessage": "/docs/apis/container-runtime#isruntimemessage-function",
      "isStableId": "/docs/apis/container-runtime#isstableid-function"
    },
    "Enum": {
      "CompressionAlgorithms": "/docs/apis/container-runtime#compressionalgorithms-enum",
      "ContainerMessageType": "/docs/apis/container-runtime#containermessagetype-enum",
      "RuntimeHeaders": "/docs/apis/container-runtime#runtimeheaders-enum",
      "RuntimeMessage": "/docs/apis/container-runtime#runtimemessage-enum"
    },
    "Class": {
      "ContainerRuntime": "/docs/apis/container-runtime/containerruntime-class",
      "FluidDataStoreRegistry": "/docs/apis/container-runtime/fluiddatastoreregistry-class",
      "Summarizer": "/docs/apis/container-runtime/summarizer-class",
      "SummaryCollection": "/docs/apis/container-runtime/summarycollection-class"
    },
    "Interface": {
      "ContainerRuntimeMessage": "/docs/apis/container-runtime/containerruntimemessage-interface",
      "IAckedSummary": "/docs/apis/container-runtime/iackedsummary-interface",
      "IAckSummaryResult": "/docs/apis/container-runtime/iacksummaryresult-interface",
      "IBaseSummarizeResult": "/docs/apis/container-runtime/ibasesummarizeresult-interface",
      "IBroadcastSummaryResult": "/docs/apis/container-runtime/ibroadcastsummaryresult-interface",
      "ICancellableSummarizerController": "/docs/apis/container-runtime/icancellablesummarizercontroller-interface",
      "ICancellationToken": "/docs/apis/container-runtime/icancellationtoken-interface",
      "IChunkedOp": "/docs/apis/container-runtime/ichunkedop-interface",
      "IClientSummaryWatcher": "/docs/apis/container-runtime/iclientsummarywatcher-interface",
      "ICompressionRuntimeOptions": "/docs/apis/container-runtime/icompressionruntimeoptions-interface",
      "IConnectableRuntime": "/docs/apis/container-runtime/iconnectableruntime-interface",
      "IContainerRuntimeOptions": "/docs/apis/container-runtime/icontainerruntimeoptions-interface",
      "IEnqueueSummarizeOptions": "/docs/apis/container-runtime/ienqueuesummarizeoptions-interface",
      "IGCRuntimeOptions": "/docs/apis/container-runtime/igcruntimeoptions-interface",
      "IGCStats": "/docs/apis/container-runtime/igcstats-interface",
      "IGeneratedSummaryStats": "/docs/apis/container-runtime/igeneratedsummarystats-interface",
      "IGenerateSummaryTreeResult": "/docs/apis/container-runtime/igeneratesummarytreeresult-interface",
      "INackSummaryResult": "/docs/apis/container-runtime/inacksummaryresult-interface",
      "IOnDemandSummarizeOptions": "/docs/apis/container-runtime/iondemandsummarizeoptions-interface",
      "IRefreshSummaryAckOptions": "/docs/apis/container-runtime/irefreshsummaryackoptions-interface",
      "IRetriableFailureResult": "/docs/apis/container-runtime/iretriablefailureresult-interface",
      "ISubmitSummaryOpResult": "/docs/apis/container-runtime/isubmitsummaryopresult-interface",
      "ISubmitSummaryOptions": "/docs/apis/container-runtime/isubmitsummaryoptions-interface",
      "ISummarizeOptions": "/docs/apis/container-runtime/isummarizeoptions-interface",
      "ISummarizer": "/docs/apis/container-runtime/isummarizer-interface",
      "ISummarizeResults": "/docs/apis/container-runtime/isummarizeresults-interface",
      "ISummarizerEvents": "/docs/apis/container-runtime/isummarizerevents-interface",
      "ISummarizerInternalsProvider": "/docs/apis/container-runtime/isummarizerinternalsprovider-interface",
      "ISummarizerRuntime": "/docs/apis/container-runtime/isummarizerruntime-interface",
      "ISummarizingWarning": "/docs/apis/container-runtime/isummarizingwarning-interface",
      "ISummary": "/docs/apis/container-runtime/isummary-interface",
      "ISummaryAckMessage": "/docs/apis/container-runtime/isummaryackmessage-interface",
      "ISummaryBaseConfiguration": "/docs/apis/container-runtime/isummarybaseconfiguration-interface",
      "ISummaryCollectionOpEvents": "/docs/apis/container-runtime/isummarycollectionopevents-interface",
      "ISummaryConfigurationDisableHeuristics": "/docs/apis/container-runtime/isummaryconfigurationdisableheuristics-interface",
      "ISummaryConfigurationDisableSummarizer": "/docs/apis/container-runtime/isummaryconfigurationdisablesummarizer-interface",
      "ISummaryConfigurationHeuristics": "/docs/apis/container-runtime/isummaryconfigurationheuristics-interface",
      "ISummaryNackMessage": "/docs/apis/container-runtime/isummarynackmessage-interface",
      "ISummaryOpMessage": "/docs/apis/container-runtime/isummaryopmessage-interface",
      "ISummaryRuntimeOptions": "/docs/apis/container-runtime/isummaryruntimeoptions-interface",
      "IUploadSummaryResult": "/docs/apis/container-runtime/iuploadsummaryresult-interface",
      "SubmitSummaryFailureData": "/docs/apis/container-runtime/submitsummaryfailuredata-interface"
    },
    "TypeAlias": {
      "EnqueueSummarizeResult": "/docs/apis/container-runtime#enqueuesummarizeresult-typealias",
      "ISummaryCancellationToken": "/docs/apis/container-runtime#isummarycancellationtoken-typealias",
      "ISummaryConfiguration": "/docs/apis/container-runtime#isummaryconfiguration-typealias",
      "OpActionEventListener": "/docs/apis/container-runtime#opactioneventlistener-typealias",
      "OpActionEventName": "/docs/apis/container-runtime#opactioneventname-typealias",
      "SubmitSummaryResult": "/docs/apis/container-runtime#submitsummaryresult-typealias",
      "SummarizeResultPart": "/docs/apis/container-runtime#summarizeresultpart-typealias",
      "SummarizerStopReason": "/docs/apis/container-runtime#summarizerstopreason-typealias",
      "SummaryStage": "/docs/apis/container-runtime#summarystage-typealias"
    }
  },
  "package": "@fluidframework/container-runtime",
  "unscopedPackageName": "container-runtime"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/container-runtime](/docs/apis/container-runtime)

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/containerruntimemessage-interface'>ContainerRuntimeMessage</a>
      </td>
      <td>
        <p>
          The unpacked runtime message / details to be handled or dispatched by the ContainerRuntime
        </p>
        <p>
          IMPORTANT: when creating one to be serialized, set the properties in the order they appear here. This way stringified values can be compared.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iackedsummary-interface'>IAckedSummary</a>
      </td>
      <td>
        A single summary which has already been acked by the server.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iacksummaryresult-interface'>IAckSummaryResult</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/ibasesummarizeresult-interface'>IBaseSummarizeResult</a>
      </td>
      <td>
        Base results for all submitSummary attempts.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/ibroadcastsummaryresult-interface'>IBroadcastSummaryResult</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/icancellablesummarizercontroller-interface'>ICancellableSummarizerController</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/icancellationtoken-interface'>ICancellationToken</a>
      </td>
      <td>
        Similar to AbortSignal, but using promise instead of events
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/ichunkedop-interface'>IChunkedOp</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iclientsummarywatcher-interface'>IClientSummaryWatcher</a>
      </td>
      <td>
        Watches summaries created by a specific client.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/icompressionruntimeoptions-interface'>ICompressionRuntimeOptions</a>
      </td>
      <td>
        Options for op compression. - Not ready for use
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iconnectableruntime-interface'>IConnectableRuntime</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/icontainerruntimeoptions-interface'>IContainerRuntimeOptions</a>
      </td>
      <td>
        Options for container runtime.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/ienqueuesummarizeoptions-interface'>IEnqueueSummarizeOptions</a>
      </td>
      <td>
        Options to use when enqueueing a summarize attempt.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/igcruntimeoptions-interface'>IGCRuntimeOptions</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/igcstats-interface'>IGCStats</a>
      </td>
      <td>
        The statistics of the system state after a garbage collection run.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/igeneratedsummarystats-interface'>IGeneratedSummaryStats</a>
      </td>
      <td>
        In addition to the normal summary tree + stats, this contains additional stats only relevant at the root of the tree.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/igeneratesummarytreeresult-interface'>IGenerateSummaryTreeResult</a>
      </td>
      <td>
        Results of submitSummary after generating the summary tree.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/inacksummaryresult-interface'>INackSummaryResult</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iondemandsummarizeoptions-interface'>IOnDemandSummarizeOptions</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/irefreshsummaryackoptions-interface'>IRefreshSummaryAckOptions</a>
      </td>
      <td>
        Data required to update internal tracking state after receiving a Summary Ack.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iretriablefailureresult-interface'>IRetriableFailureResult</a>
      </td>
      <td>
        Type for summarization failures that are retriable.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isubmitsummaryopresult-interface'>ISubmitSummaryOpResult</a>
      </td>
      <td>
        Results of submitSummary after submitting the summarize op.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isubmitsummaryoptions-interface'>ISubmitSummaryOptions</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizeoptions-interface'>ISummarizeOptions</a>
      </td>
      <td>
        Options affecting summarize behavior.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizer-interface'>ISummarizer</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizeresults-interface'>ISummarizeResults</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizerevents-interface'>ISummarizerEvents</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizerinternalsprovider-interface'>ISummarizerInternalsProvider</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizerruntime-interface'>ISummarizerRuntime</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarizingwarning-interface'>ISummarizingWarning</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummary-interface'>ISummary</a>
      </td>
      <td>
        A single summary which can be tracked as it goes through its life cycle. The life cycle is: Local to Broadcast to Acked/Nacked.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummaryackmessage-interface'>ISummaryAckMessage</a>
      </td>
      <td>
        Interface for summary ack messages with typed contents.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarybaseconfiguration-interface'>ISummaryBaseConfiguration</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarycollectionopevents-interface'>ISummaryCollectionOpEvents</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummaryconfigurationdisableheuristics-interface'>ISummaryConfigurationDisableHeuristics</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummaryconfigurationdisablesummarizer-interface'>ISummaryConfigurationDisableSummarizer</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummaryconfigurationheuristics-interface'>ISummaryConfigurationHeuristics</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummarynackmessage-interface'>ISummaryNackMessage</a>
      </td>
      <td>
        Interface for summary nack messages with typed contents.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummaryopmessage-interface'>ISummaryOpMessage</a>
      </td>
      <td>
        Interface for summary op messages with typed contents.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/isummaryruntimeoptions-interface'>ISummaryRuntimeOptions</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/iuploadsummaryresult-interface'>IUploadSummaryResult</a>
      </td>
      <td>
        Results of submitSummary after uploading the tree to storage.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/submitsummaryfailuredata-interface'>SubmitSummaryFailureData</a>
      </td>
      <td>
        The data in summarizer result when submit summary stage fails.
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Class
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/containerruntime-class'>ContainerRuntime</a>
      </td>
      <td>
        Represents the runtime of the container. Contains helper functions/state of the container. It will define the store level mappings.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/fluiddatastoreregistry-class'>FluidDataStoreRegistry</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/summarizer-class'>Summarizer</a>
      </td>
      <td>
        Summarizer is responsible for coordinating when to generate and send summaries. It is the main entry point for summary work. It is created only by summarizing container (i.e. one with clientType === &quot;summarizer&quot;)
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime/summarycollection-class'>SummaryCollection</a>
      </td>
      <td>
        Data structure that looks at the op stream to track summaries as they are broadcast, acked and nacked. It provides functionality for watching specific summaries.
      </td>
    </tr>
  </tbody>
</table>

## Enumerations

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Enum
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#compressionalgorithms-enum'>CompressionAlgorithms</a>
      </td>
      <td>
      </td>
      <td>
        Available compression algorithms for op compression.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-enum'>ContainerMessageType</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimeheaders-enum'>RuntimeHeaders</a>
      </td>
      <td>
      </td>
      <td>
        Accepted header keys for requests coming to the runtime.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-enum'>RuntimeMessage</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        TypeAlias
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#enqueuesummarizeresult-typealias'>EnqueueSummarizeResult</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#isummarycancellationtoken-typealias'>ISummaryCancellationToken</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#isummaryconfiguration-typealias'>ISummaryConfiguration</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#opactioneventlistener-typealias'>OpActionEventListener</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#opactioneventname-typealias'>OpActionEventName</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#submitsummaryresult-typealias'>SubmitSummaryResult</a>
      </td>
      <td>
        <p>
          Strict type representing result of a submitSummary attempt. The result consists of 4 possible stages, each with its own data. The data is cumulative, so each stage will contain the data from the previous stages. If the final &quot;submitted&quot; stage is not reached, the result may contain the error object.
        </p>
        <p>
          Stages:
        </p>
        <p>
          1. &quot;base&quot; - stopped before the summary tree was even generated, and the result only contains the base data
        </p>
        <p>
          2. &quot;generate&quot; - the summary tree was generated, and the result will contain that tree + stats
        </p>
        <p>
          3. &quot;upload&quot; - the summary was uploaded to storage, and the result contains the server-provided handle
        </p>
        <p>
          4. &quot;submit&quot; - the summarize op was submitted, and the result contains the op client sequence number.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#summarizeresultpart-typealias'>SummarizeResultPart</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#summarizerstopreason-typealias'>SummarizerStopReason</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#summarystage-typealias'>SummaryStage</a>
      </td>
      <td>
        The stages of Summarize, used to describe how far progress succeeded in case of a failure at a later stage.
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Function
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#assertisstableid-function'>assertIsStableId</a>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#stableid-typealias'>StableId</a></span>
      </td>
      <td>
        Asserts that the given string is a stable ID.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#generatestableid-function'>generateStableId</a>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#stableid-typealias'>StableId</a></span>
      </td>
      <td>
        Generate a random stable ID
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#isruntimemessage-function'>isRuntimeMessage</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#isstableid-function'>isStableId</a>
      </td>
      <td>
      </td>
      <td>
        <span>str is <a href='/docs/apis/runtime-definitions#stableid-typealias'>StableId</a></span>
      </td>
      <td>
        Returns true iff the given string is a valid Version 4, variant 2 UUID 'xxxxxxxx-xxxx-4xxx-vxxx-xxxxxxxxxxxx'
      </td>
    </tr>
  </tbody>
</table>

## Variables

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Variable
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#agentschedulerid-variable'>agentSchedulerId</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        Legacy ID for the built-in AgentScheduler. To minimize disruption while removing it, retaining this as a special-case for document dirty state. Ultimately we should have no special-cases from the ContainerRuntime's perspective.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#allowtombstonerequestheaderkey-variable'>AllowTombstoneRequestHeaderKey</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        True if a tombstoned object should be returned without erroring
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#defaultsummaryconfiguration-variable'>DefaultSummaryConfiguration</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#nevercancelledsummarytoken-variable'>neverCancelledSummaryToken</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        Can be useful in testing as well as in places where caller does not use cancellation. This object implements ISummaryCancellationToken interface but cancellation is never leveraged.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#tombstoneresponseheaderkey-variable'>TombstoneResponseHeaderKey</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        Tombstone error responses will have this header set to true
      </td>
    </tr>
  </tbody>
</table>

## Enumeration Details

### CompressionAlgorithms {#compressionalgorithms-enum}

Available compression algorithms for op compression.

#### Signature {#compressionalgorithms-signature}

```typescript
export declare enum CompressionAlgorithms
```

#### Flags

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Flag
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#compressionalgorithms-lz4-enummember'>lz4</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

##### lz4 {#compressionalgorithms-lz4-enummember}

###### Signature {#lz4-signature}

```typescript
lz4 = "lz4"
```

### ContainerMessageType {#containermessagetype-enum}

#### Signature {#containermessagetype-signature}

```typescript
export declare enum ContainerMessageType
```

#### Flags

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Flag
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-alias-enummember'>Alias</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-attach-enummember'>Attach</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-blobattach-enummember'>BlobAttach</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-chunkedop-enummember'>ChunkedOp</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-fluiddatastoreop-enummember'>FluidDataStoreOp</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-idallocation-enummember'>IdAllocation</a>
      </td>
      <td>
        An op containing an IdRange of Ids allocated using the runtime's IdCompressor since the last allocation op was sent. See the [IdCompressor README](./id-compressor/README.md) for more details.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#containermessagetype-rejoin-enummember'>Rejoin</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

##### Alias {#containermessagetype-alias-enummember}

###### Signature {#alias-signature}

```typescript
Alias = "alias"
```

##### Attach {#containermessagetype-attach-enummember}

###### Signature {#attach-signature}

```typescript
Attach = "attach"
```

##### BlobAttach {#containermessagetype-blobattach-enummember}

###### Signature {#blobattach-signature}

```typescript
BlobAttach = "blobAttach"
```

##### ChunkedOp {#containermessagetype-chunkedop-enummember}

###### Signature {#chunkedop-signature}

```typescript
ChunkedOp = "chunkedOp"
```

##### FluidDataStoreOp {#containermessagetype-fluiddatastoreop-enummember}

###### Signature {#fluiddatastoreop-signature}

```typescript
FluidDataStoreOp = "component"
```

##### IdAllocation {#containermessagetype-idallocation-enummember}

An op containing an IdRange of Ids allocated using the runtime's IdCompressor since the last allocation op was sent. See the \[IdCompressor README\](./id-compressor/README.md) for more details.

###### Signature {#idallocation-signature}

```typescript
IdAllocation = "idAllocation"
```

##### Rejoin {#containermessagetype-rejoin-enummember}

###### Signature {#rejoin-signature}

```typescript
Rejoin = "rejoin"
```

### RuntimeHeaders {#runtimeheaders-enum}

Accepted header keys for requests coming to the runtime.

#### Signature {#runtimeheaders-signature}

```typescript
export declare enum RuntimeHeaders
```

#### Flags

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Flag
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimeheaders-viahandle-enummember'>viaHandle</a>
      </td>
      <td>
        True if the request is coming from an IFluidHandle.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimeheaders-wait-enummember'>wait</a>
      </td>
      <td>
        True to wait for a data store to be created and loaded before returning it.
      </td>
    </tr>
  </tbody>
</table>

##### viaHandle {#runtimeheaders-viahandle-enummember}

True if the request is coming from an IFluidHandle.

###### Signature {#viahandle-signature}

```typescript
viaHandle = "viaHandle"
```

##### wait {#runtimeheaders-wait-enummember}

True to wait for a data store to be created and loaded before returning it.

###### Signature {#wait-signature}

```typescript
wait = "wait"
```

### RuntimeMessage {#runtimemessage-enum}

{{% callout warning Deprecated %}}
- use ContainerRuntimeMessage instead

{{% /callout %}}

#### Signature {#runtimemessage-signature}

```typescript
export declare enum RuntimeMessage
```

#### Flags

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Flag
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-alias-enummember'>Alias</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-attach-enummember'>Attach</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-blobattach-enummember'>BlobAttach</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-chunkedop-enummember'>ChunkedOp</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-fluiddatastoreop-enummember'>FluidDataStoreOp</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-operation-enummember'>Operation</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-runtime#runtimemessage-rejoin-enummember'>Rejoin</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

##### Alias {#runtimemessage-alias-enummember}

###### Signature {#alias-signature}

```typescript
Alias = "alias"
```

##### Attach {#runtimemessage-attach-enummember}

###### Signature {#attach-signature}

```typescript
Attach = "attach"
```

##### BlobAttach {#runtimemessage-blobattach-enummember}

###### Signature {#blobattach-signature}

```typescript
BlobAttach = "blobAttach"
```

##### ChunkedOp {#runtimemessage-chunkedop-enummember}

###### Signature {#chunkedop-signature}

```typescript
ChunkedOp = "chunkedOp"
```

##### FluidDataStoreOp {#runtimemessage-fluiddatastoreop-enummember}

###### Signature {#fluiddatastoreop-signature}

```typescript
FluidDataStoreOp = "component"
```

##### Operation {#runtimemessage-operation-enummember}

###### Signature {#operation-signature}

```typescript
Operation = "op"
```

##### Rejoin {#runtimemessage-rejoin-enummember}

###### Signature {#rejoin-signature}

```typescript
Rejoin = "rejoin"
```

## Type Details

### EnqueueSummarizeResult {#enqueuesummarizeresult-typealias}

#### Signature {#enqueuesummarizeresult-signature}

```typescript
export declare type EnqueueSummarizeResult = (ISummarizeResults & {
    readonly alreadyEnqueued?: undefined;
}) | (ISummarizeResults & {
    readonly alreadyEnqueued: true;
    readonly overridden: true;
}) | {
    readonly alreadyEnqueued: true;
    readonly overridden?: undefined;
};
```

### ISummaryCancellationToken {#isummarycancellationtoken-typealias}

#### Signature {#isummarycancellationtoken-signature}

```typescript
export declare type ISummaryCancellationToken = ICancellationToken<SummarizerStopReason>;
```

### ISummaryConfiguration {#isummaryconfiguration-typealias}

#### Signature {#isummaryconfiguration-signature}

```typescript
export declare type ISummaryConfiguration = ISummaryConfigurationDisableSummarizer | ISummaryConfigurationDisableHeuristics | ISummaryConfigurationHeuristics;
```

### OpActionEventListener {#opactioneventlistener-typealias}

#### Signature {#opactioneventlistener-signature}

```typescript
export declare type OpActionEventListener = (op: ISequencedDocumentMessage) => void;
```

### OpActionEventName {#opactioneventname-typealias}

#### Signature {#opactioneventname-signature}

```typescript
export declare type OpActionEventName = MessageType.Summarize | MessageType.SummaryAck | MessageType.SummaryNack | "default";
```

### SubmitSummaryResult {#submitsummaryresult-typealias}

Strict type representing result of a submitSummary attempt. The result consists of 4 possible stages, each with its own data. The data is cumulative, so each stage will contain the data from the previous stages. If the final "submitted" stage is not reached, the result may contain the error object.

Stages:

1. "base" - stopped before the summary tree was even generated, and the result only contains the base data

2. "generate" - the summary tree was generated, and the result will contain that tree + stats

3. "upload" - the summary was uploaded to storage, and the result contains the server-provided handle

4. "submit" - the summarize op was submitted, and the result contains the op client sequence number.

#### Signature {#submitsummaryresult-signature}

```typescript
export declare type SubmitSummaryResult = IBaseSummarizeResult | IGenerateSummaryTreeResult | IUploadSummaryResult | ISubmitSummaryOpResult;
```

### SummarizeResultPart {#summarizeresultpart-typealias}

#### Signature {#summarizeresultpart-signature}

```typescript
export declare type SummarizeResultPart<TSuccess, TFailure = undefined> = {
    success: true;
    data: TSuccess;
} | {
    success: false;
    data: TFailure | undefined;
    message: string;
    error: any;
};
```

### SummarizerStopReason {#summarizerstopreason-typealias}

#### Signature {#summarizerstopreason-signature}

```typescript
export declare type SummarizerStopReason = 
/** Summarizer client failed to summarize in all 3 consecutive attempts. */
"failToSummarize"
/** Parent client reported that it is no longer connected. */
 | "parentNotConnected"
/**
 * Parent client reported that it is no longer elected the summarizer.
 * This is the normal flow; a disconnect will always trigger the parent
 * client to no longer be elected as responsible for summaries. Then it
 * tries to stop its spawned summarizer client.
 */
 | "notElectedParent"
/**
 * We are not already running the summarizer and we are not the current elected client id.
 */
 | "notElectedClient"
/** Summarizer client was disconnected */
 | "summarizerClientDisconnected"
/** running summarizer threw an exception */
 | "summarizerException"
/**
 * The previous summary state on the summarizer is not the most recently acked summary. this also happens when the
 * first submitSummary attempt fails for any reason and there's a 2nd summary attempt without an ack
 */
 | "latestSummaryStateStale";
```

### SummaryStage {#summarystage-typealias}

The stages of Summarize, used to describe how far progress succeeded in case of a failure at a later stage.

#### Signature {#summarystage-signature}

```typescript
export declare type SummaryStage = SubmitSummaryResult["stage"] | "unknown";
```

## Function Details

### assertIsStableId {#assertisstableid-function}

Asserts that the given string is a stable ID.

#### Signature {#assertisstableid-signature}

```typescript
export declare function assertIsStableId(stableId: string): StableId;
```

#### Parameters {#assertisstableid-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        stableId
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#assertisstableid-returns}

**Return type:** [StableId](/docs/apis/runtime-definitions#stableid-typealias)

### generateStableId {#generatestableid-function}

Generate a random stable ID

#### Signature {#generatestableid-signature}

```typescript
export declare function generateStableId(): StableId;
```

#### Returns {#generatestableid-returns}

**Return type:** [StableId](/docs/apis/runtime-definitions#stableid-typealias)

### isRuntimeMessage {#isruntimemessage-function}

{{% callout warning Deprecated %}}
- please use version in driver-utils

{{% /callout %}}

#### Signature {#isruntimemessage-signature}

```typescript
export declare function isRuntimeMessage(message: ISequencedDocumentMessage): boolean;
```

#### Parameters {#isruntimemessage-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        message
      </td>
      <td>
        <span><a href='/docs/apis/protocol-definitions/isequenceddocumentmessage-interface'>ISequencedDocumentMessage</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#isruntimemessage-returns}

**Return type:** boolean

### isStableId {#isstableid-function}

Returns true iff the given string is a valid Version 4, variant 2 UUID 'xxxxxxxx-xxxx-4xxx-vxxx-xxxxxxxxxxxx'

#### Signature {#isstableid-signature}

```typescript
export declare function isStableId(str: string): str is StableId;
```

#### Parameters {#isstableid-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        str
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#isstableid-returns}

**Return type:** str is [StableId](/docs/apis/runtime-definitions#stableid-typealias)

## Variable Details

### agentSchedulerId {#agentschedulerid-variable}

Legacy ID for the built-in AgentScheduler. To minimize disruption while removing it, retaining this as a special-case for document dirty state. Ultimately we should have no special-cases from the ContainerRuntime's perspective.

#### Signature {#agentschedulerid-signature}

```typescript
agentSchedulerId = "_scheduler"
```

### AllowTombstoneRequestHeaderKey {#allowtombstonerequestheaderkey-variable}

True if a tombstoned object should be returned without erroring

#### Signature {#allowtombstonerequestheaderkey-signature}

```typescript
AllowTombstoneRequestHeaderKey = "allowTombstone"
```

### DefaultSummaryConfiguration {#defaultsummaryconfiguration-variable}

#### Signature {#defaultsummaryconfiguration-signature}

```typescript
DefaultSummaryConfiguration: ISummaryConfiguration
```

### neverCancelledSummaryToken {#nevercancelledsummarytoken-variable}

Can be useful in testing as well as in places where caller does not use cancellation. This object implements ISummaryCancellationToken interface but cancellation is never leveraged.

#### Signature {#nevercancelledsummarytoken-signature}

```typescript
neverCancelledSummaryToken: ISummaryCancellationToken
```

### TombstoneResponseHeaderKey {#tombstoneresponseheaderkey-variable}

Tombstone error responses will have this header set to true

#### Signature {#tombstoneresponseheaderkey-signature}

```typescript
TombstoneResponseHeaderKey = "isTombstoned"
```
