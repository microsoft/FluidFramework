{
  "title": "DeltaVisitor Interface",
  "summary": "Visitor for changes in a delta. Must be freed after use.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "attach": "/docs/apis/tree2/deltavisitor-interface#attach-methodsignature",
      "create": "/docs/apis/tree2/deltavisitor-interface#create-methodsignature",
      "destroy": "/docs/apis/tree2/deltavisitor-interface#destroy-methodsignature",
      "detach": "/docs/apis/tree2/deltavisitor-interface#detach-methodsignature",
      "enterField": "/docs/apis/tree2/deltavisitor-interface#enterfield-methodsignature",
      "enterNode": "/docs/apis/tree2/deltavisitor-interface#enternode-methodsignature",
      "exitField": "/docs/apis/tree2/deltavisitor-interface#exitfield-methodsignature",
      "exitNode": "/docs/apis/tree2/deltavisitor-interface#exitnode-methodsignature",
      "free": "/docs/apis/tree2/deltavisitor-interface#free-methodsignature",
      "replace": "/docs/apis/tree2/deltavisitor-interface#replace-methodsignature"
    }
  },
  "package": "@fluid-experimental/tree2",
  "unscopedPackageName": "tree2"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Visitor for changes in a delta. Must be freed after use.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#deltavisitor-signature}

```typescript
export interface DeltaVisitor
```

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#attach-methodsignature'>attach(source, count, destination)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Transfers all the nodes from a detached field to the current field.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#create-methodsignature'>create(content, destination)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Creates nodes for the given content in a new detached field.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#destroy-methodsignature'>destroy(detachedField, count)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Recursively destroys the given detached field and all of the nodes within it.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#detach-methodsignature'>detach(source, destination)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Transfers a range of nodes from the current field to a new detached field.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#enterfield-methodsignature'>enterField(key)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Tells the visitor that it should update its &quot;current location&quot; to be the Field with the specified key, within the Node that is the current &quot;current location&quot;. Future calls to methods of <a href='/docs/apis/tree2/deltavisitor-interface'>DeltaVisitor</a> will assume that's the location where their effects are happening.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#enternode-methodsignature'>enterNode(index)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Tells the visitor that it should update its &quot;current location&quot; to be the Node at the specified index within the Field that is the current &quot;current location&quot;. Future calls to methods of <a href='/docs/apis/tree2/deltavisitor-interface'>DeltaVisitor</a> will assume that's the location where their effects are happening.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#exitfield-methodsignature'>exitField(key)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Tells the visitor that it should update its &quot;current location&quot; to be the Node which contains the Field that is the current &quot;current location&quot;. Future calls to methods of <a href='/docs/apis/tree2/deltavisitor-interface'>DeltaVisitor</a> will assume that's the location where their effects are happening.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#exitnode-methodsignature'>exitNode(index)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Tells the visitor that it should update its &quot;current location&quot; to be the Field which contains the Node that is the current &quot;current location&quot;. Future calls to methods of <a href='/docs/apis/tree2/deltavisitor-interface'>DeltaVisitor</a> will assume that's the location where their effects are happening.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#free-methodsignature'>free()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Frees/releases the visitor. Must be called once the visitor is no longer needed, since trying to acquire a new one before freeing an existing one is invalid.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/deltavisitor-interface#replace-methodsignature'>replace(newContentSource, range, oldContentDestination)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Replaces a range of nodes in the current field by transferring them out to a new detached field and transferring in all the nodes from an existing detached field in their place. The number of nodes being detached must match the number of nodes being attached.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### attach (ALPHA) {#attach-methodsignature}

Transfers all the nodes from a detached field to the current field.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#attach-signature}

```typescript
attach(source: FieldKey, count: number, destination: PlaceIndex): void;
```

#### Parameters {#attach-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        source
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The detached field to transfer the nodes from.
      </td>
    </tr>
    <tr>
      <td>
        count
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
        The number of nodes being attached. Expected to match the number of nodes in the source detached field.
      </td>
    </tr>
    <tr>
      <td>
        destination
      </td>
      <td>
        <span><a href='/docs/apis/tree2#placeindex-typealias'>PlaceIndex</a></span>
      </td>
      <td>
        The index at which to attach the nodes.
      </td>
    </tr>
  </tbody>
</table>

### create (ALPHA) {#create-methodsignature}

Creates nodes for the given content in a new detached field.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#create-signature}

```typescript
create(content: ProtoNodes, destination: FieldKey): void;
```

#### Parameters {#create-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        content
      </td>
      <td>
        <span><a href='/docs/apis/tree2#protonodes-typealias'>ProtoNodes</a></span>
      </td>
      <td>
        The content to create.
      </td>
    </tr>
    <tr>
      <td>
        destination
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The key for a new detached field. A field with this key must not already exist.
      </td>
    </tr>
  </tbody>
</table>

### destroy (ALPHA) {#destroy-methodsignature}

Recursively destroys the given detached field and all of the nodes within it.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#destroy-signature}

```typescript
destroy(detachedField: FieldKey, count: number): void;
```

#### Parameters {#destroy-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        detachedField
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The key for the detached field to destroy.
      </td>
    </tr>
    <tr>
      <td>
        count
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
        The number of nodes being destroyed. Expected to match the number of nodes in the detached field being destroyed.
      </td>
    </tr>
  </tbody>
</table>

### detach (ALPHA) {#detach-methodsignature}

Transfers a range of nodes from the current field to a new detached field.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#detach-signature}

```typescript
detach(source: Range, destination: FieldKey): void;
```

#### Parameters {#detach-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        source
      </td>
      <td>
        <span><a href='/docs/apis/tree2/range_2-interface'>Range</a></span>
      </td>
      <td>
        The bounds of the range of nodes to detach.
      </td>
    </tr>
    <tr>
      <td>
        destination
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The key for a new detached field. A field with this key must not already exist.
      </td>
    </tr>
  </tbody>
</table>

### enterField (ALPHA) {#enterfield-methodsignature}

Tells the visitor that it should update its "current location" to be the Field with the specified key, within the Node that is the current "current location". Future calls to methods of [DeltaVisitor](/docs/apis/tree2/deltavisitor-interface) will assume that's the location where their effects are happening.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#enterfield-signature}

```typescript
enterField(key: FieldKey): void;
```

#### Remarks {#enterfield-remarks}

This should only be called when the "current location" is a Node.

#### Parameters {#enterfield-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The key of the field that should become the new &quot;current location&quot;.
      </td>
    </tr>
  </tbody>
</table>

### enterNode (ALPHA) {#enternode-methodsignature}

Tells the visitor that it should update its "current location" to be the Node at the specified index within the Field that is the current "current location". Future calls to methods of [DeltaVisitor](/docs/apis/tree2/deltavisitor-interface) will assume that's the location where their effects are happening.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#enternode-signature}

```typescript
enterNode(index: NodeIndex): void;
```

#### Remarks {#enternode-remarks}

This should only be called when the "current location" is a Field.

#### Parameters {#enternode-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        index
      </td>
      <td>
        <span><a href='/docs/apis/tree2#nodeindex-typealias'>NodeIndex</a></span>
      </td>
      <td>
        The index (within the Field) of the node that should become the new &quot;current location&quot;.
      </td>
    </tr>
  </tbody>
</table>

### exitField (ALPHA) {#exitfield-methodsignature}

Tells the visitor that it should update its "current location" to be the Node which contains the Field that is the current "current location". Future calls to methods of [DeltaVisitor](/docs/apis/tree2/deltavisitor-interface) will assume that's the location where their effects are happening.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#exitfield-signature}

```typescript
exitField(key: FieldKey): void;
```

#### Remarks {#exitfield-remarks}

This should only be called when the "current location" is a Field.

#### Parameters {#exitfield-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The key of the field that is being exited.
      </td>
    </tr>
  </tbody>
</table>

### exitNode (ALPHA) {#exitnode-methodsignature}

Tells the visitor that it should update its "current location" to be the Field which contains the Node that is the current "current location". Future calls to methods of [DeltaVisitor](/docs/apis/tree2/deltavisitor-interface) will assume that's the location where their effects are happening.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#exitnode-signature}

```typescript
exitNode(index: NodeIndex): void;
```

#### Remarks {#exitnode-remarks}

This should only be called when the "current location" is a Node.

#### Parameters {#exitnode-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        index
      </td>
      <td>
        <span><a href='/docs/apis/tree2#nodeindex-typealias'>NodeIndex</a></span>
      </td>
      <td>
        The index (within its Field) of the node that is being exited.
      </td>
    </tr>
  </tbody>
</table>

### free (ALPHA) {#free-methodsignature}

Frees/releases the visitor. Must be called once the visitor is no longer needed, since trying to acquire a new one before freeing an existing one is invalid.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#free-signature}

```typescript
free(): void;
```

### replace (ALPHA) {#replace-methodsignature}

Replaces a range of nodes in the current field by transferring them out to a new detached field and transferring in all the nodes from an existing detached field in their place. The number of nodes being detached must match the number of nodes being attached.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#replace-signature}

```typescript
replace(newContentSource: FieldKey, range: Range, oldContentDestination: FieldKey): void;
```

#### Parameters {#replace-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        newContentSource
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The detached field to transfer the new nodes from.
      </td>
    </tr>
    <tr>
      <td>
        range
      </td>
      <td>
        <span><a href='/docs/apis/tree2/range_2-interface'>Range</a></span>
      </td>
      <td>
        The bounds of the range of nodes to replace.
      </td>
    </tr>
    <tr>
      <td>
        oldContentDestination
      </td>
      <td>
        <span><a href='/docs/apis/tree2#fieldkey-typealias'>FieldKey</a></span>
      </td>
      <td>
        The key for a new detached field to transfer the old nodes to.
      </td>
    </tr>
  </tbody>
</table>
