{
  "title": "AnchorEvents Interface",
  "summary": "Events for [AnchorNode](/docs/apis/tree2/anchornode-interface). These events are triggered while the internal data structures are being updated. Thus these events must not trigger reading of the anchorSet or forest.\n\nTODO: - Include sub-deltas in events. - Add more events.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "afterChange": "/docs/apis/tree2/anchorevents-interface#afterchange-methodsignature",
      "afterDestroy": "/docs/apis/tree2/anchorevents-interface#afterdestroy-methodsignature",
      "beforeChange": "/docs/apis/tree2/anchorevents-interface#beforechange-methodsignature",
      "childrenChanged": "/docs/apis/tree2/anchorevents-interface#childrenchanged-methodsignature",
      "childrenChanging": "/docs/apis/tree2/anchorevents-interface#childrenchanging-methodsignature",
      "subtreeChanging": "/docs/apis/tree2/anchorevents-interface#subtreechanging-methodsignature",
      "valueChanging": "/docs/apis/tree2/anchorevents-interface#valuechanging-methodsignature"
    }
  },
  "package": "@fluid-experimental/tree2",
  "unscopedPackageName": "tree2"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Events for [AnchorNode](/docs/apis/tree2/anchornode-interface). These events are triggered while the internal data structures are being updated. Thus these events must not trigger reading of the anchorSet or forest.

TODO: - Include sub-deltas in events. - Add more events.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#anchorevents-signature}

```typescript
export interface AnchorEvents
```

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#afterchange-methodsignature'>afterChange(anchor)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        After a change in this subtree happened.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#afterdestroy-methodsignature'>afterDestroy(anchor)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        When the anchor node will never get reused by its AnchorSet. This means that the content it corresponds to has been permanently destroyed.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#beforechange-methodsignature'>beforeChange(anchor)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Before a change in this subtree happens.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#childrenchanged-methodsignature'>childrenChanged(anchor)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        One or more of the children of this node has just changed.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#childrenchanging-methodsignature'>childrenChanging(anchor)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        One or more of the children of this node is just about to change.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#subtreechanging-methodsignature'>subtreeChanging(anchor)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span><a href='/docs/apis/tree2/pathvisitor-interface'>PathVisitor</a> &#124; void</span>
      </td>
      <td>
        Something in this tree is changing. The event can optionally return a <a href='/docs/apis/tree2/pathvisitor-interface'>PathVisitor</a> to traverse the subtree. Called on every parent (transitively) when a change is occurring. Includes changes to this node itself.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree2/anchorevents-interface#valuechanging-methodsignature'>valueChanging(anchor, value)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Value on this node is changing.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### afterChange (ALPHA) {#afterchange-methodsignature}

After a change in this subtree happened.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#afterchange-signature}

```typescript
afterChange(anchor: AnchorNode): void;
```

#### Remarks {#afterchange-remarks}

Includes edits of child subtrees.

#### Parameters {#afterchange-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### afterDestroy (ALPHA) {#afterdestroy-methodsignature}

When the anchor node will never get reused by its AnchorSet. This means that the content it corresponds to has been permanently destroyed.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#afterdestroy-signature}

```typescript
afterDestroy(anchor: AnchorNode): void;
```

#### Remarks {#afterdestroy-remarks}

When this happens depends entirely on how the anchorSet is used. It's possible nodes removed from the tree will be kept indefinitely, and thus never trigger this event, or they may be discarded immediately.

#### Parameters {#afterdestroy-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### beforeChange (ALPHA) {#beforechange-methodsignature}

Before a change in this subtree happens.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#beforechange-signature}

```typescript
beforeChange(anchor: AnchorNode): void;
```

#### Remarks {#beforechange-remarks}

Includes edits of child subtrees.

#### Parameters {#beforechange-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### childrenChanged (ALPHA) {#childrenchanged-methodsignature}

One or more of the children of this node has just changed.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#childrenchanged-signature}

```typescript
childrenChanged(anchor: AnchorNode): void;
```

#### Remarks {#childrenchanged-remarks}

Does not include edits of child subtrees: instead only includes changes to nodes which are direct children in this node's fields.

#### Parameters {#childrenchanged-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### childrenChanging (ALPHA) {#childrenchanging-methodsignature}

One or more of the children of this node is just about to change.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#childrenchanging-signature}

```typescript
childrenChanging(anchor: AnchorNode): void;
```

#### Remarks {#childrenchanging-remarks}

Does not include edits of child subtrees: instead only includes changes to nodes which are direct children in this node's fields.

#### Parameters {#childrenchanging-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### subtreeChanging (ALPHA) {#subtreechanging-methodsignature}

Something in this tree is changing. The event can optionally return a [PathVisitor](/docs/apis/tree2/pathvisitor-interface) to traverse the subtree. Called on every parent (transitively) when a change is occurring. Includes changes to this node itself.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#subtreechanging-signature}

```typescript
subtreeChanging(anchor: AnchorNode): PathVisitor | void;
```

#### Parameters {#subtreechanging-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#subtreechanging-returns}

**Return type:** [PathVisitor](/docs/apis/tree2/pathvisitor-interface) \| void

### valueChanging (ALPHA) {#valuechanging-methodsignature}

Value on this node is changing.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#valuechanging-signature}

```typescript
valueChanging(anchor: AnchorNode, value: Value): void;
```

#### Parameters {#valuechanging-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        anchor
      </td>
      <td>
        <span><a href='/docs/apis/tree2/anchornode-interface'>AnchorNode</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        value
      </td>
      <td>
        <span><a href='/docs/apis/tree2#value-typealias'>Value</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>
