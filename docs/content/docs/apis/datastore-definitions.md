{
  "title": "@fluidframework/datastore-definitions Package",
  "summary": "This library defines the interfaces required to implement and/or communicate with a data store.",
  "kind": "Package",
  "members": {
    "Interface": {
      "IChannel": "/docs/apis/datastore-definitions/ichannel-interface",
      "IChannelAttributes": "/docs/apis/datastore-definitions/ichannelattributes-interface",
      "IChannelFactory": "/docs/apis/datastore-definitions/ichannelfactory-interface",
      "IChannelServices": "/docs/apis/datastore-definitions/ichannelservices-interface",
      "IChannelStorageService": "/docs/apis/datastore-definitions/ichannelstorageservice-interface",
      "IDeltaConnection": "/docs/apis/datastore-definitions/ideltaconnection-interface",
      "IDeltaHandler": "/docs/apis/datastore-definitions/ideltahandler-interface",
      "IFluidDataStoreRuntime": "/docs/apis/datastore-definitions/ifluiddatastoreruntime-interface",
      "IFluidDataStoreRuntimeEvents": "/docs/apis/datastore-definitions/ifluiddatastoreruntimeevents-interface",
      "Internal_InterfaceOfJsonableTypesWith": "/docs/apis/datastore-definitions/internal_interfaceofjsonabletypeswith-interface"
    },
    "TypeAlias": {
      "Jsonable": "/docs/apis/datastore-definitions#jsonable-typealias",
      "JsonableTypeWith": "/docs/apis/datastore-definitions#jsonabletypewith-typealias",
      "Serializable": "/docs/apis/datastore-definitions#serializable-typealias"
    }
  },
  "package": "@fluidframework/datastore-definitions",
  "unscopedPackageName": "datastore-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

This library defines the interfaces required to implement and/or communicate with a data store.

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ichannel-interface'>IChannel</a>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ichannelattributes-interface'>IChannelAttributes</a>
      </td>
      <td>
      </td>
      <td>
        Represents the attributes of a channel/DDS.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ichannelfactory-interface'>IChannelFactory</a>
      </td>
      <td>
      </td>
      <td>
        Definitions of a channel factory.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ichannelservices-interface'>IChannelServices</a>
      </td>
      <td>
      </td>
      <td>
        Storage services to read the objects at a given path using the given delta connection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ichannelstorageservice-interface'>IChannelStorageService</a>
      </td>
      <td>
      </td>
      <td>
        Storage services to read the objects at a given path.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltaconnection-interface'>IDeltaConnection</a>
      </td>
      <td>
      </td>
      <td>
        Interface to represent a connection to a delta notification stream.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ideltahandler-interface'>IDeltaHandler</a>
      </td>
      <td>
      </td>
      <td>
        Handler provided by shared data structure to process requests from the runtime.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime-interface'>IFluidDataStoreRuntime</a>
      </td>
      <td>
      </td>
      <td>
        Represents the runtime for the data store. Contains helper functions/state of the data store.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/ifluiddatastoreruntimeevents-interface'>IFluidDataStoreRuntimeEvents</a>
      </td>
      <td>
      </td>
      <td>
        Events emitted by <a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime-interface'>IFluidDataStoreRuntime</a>.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions/internal_interfaceofjsonabletypeswith-interface'>Internal_InterfaceOfJsonableTypesWith</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        TypeAlias
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions#jsonable-typealias'>Jsonable</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Used to constrain a type <code>T</code> to types that are serializable as JSON. Produces a compile-time error if <code>T</code> contains non-Jsonable members.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions#jsonabletypewith-typealias'>JsonableTypeWith</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Type constraint for types that are likely serializable as JSON or have a custom alternate type.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/datastore-definitions#serializable-typealias'>Serializable</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Used to constrain a type 'T' to types that Fluid can intrinsically serialize. Produces a compile-time error if <code>T</code> contains non-serializable members.
      </td>
    </tr>
  </tbody>
</table>

## Type Details

### Jsonable (ALPHA) {#jsonable-typealias}

Used to constrain a type `T` to types that are serializable as JSON. Produces a compile-time error if `T` contains non-Jsonable members.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#jsonable-signature}

```typescript
export type Jsonable<T, TReplaced = never> = boolean extends (T extends never ? true : false) ? JsonableTypeWith<TReplaced> : unknown extends T ? JsonableTypeWith<TReplaced> : T extends undefined | null | boolean | number | string | TReplaced ? T : Extract<T, Function> extends never ? T extends object ? T extends (infer U)[] ? Jsonable<U, TReplaced>[] : {
    [K in keyof T]: Extract<K, symbol> extends never ? Jsonable<T[K], TReplaced> : never;
} : never : never;
```

#### Remarks {#jsonable-remarks}

Note that this does NOT prevent using of values with non-json compatible data, it only prevents using values with types that include non-json compatible data. This means that one can, for example, pass in a value typed with json compatible interface into this function, that could actually be a class with lots on non-json compatible fields and methods.

Important: `T extends Jsonable<T>` is incorrect (does not even compile).

The optional 'TReplaced' parameter may be used to permit additional leaf types to support situations where a `replacer` is used to handle special values (e.g., `Jsonable<{ x: IFluidHandle }, IFluidHandle>`).

Note that `Jsonable<T>` does not protect against the following pitfalls when serializing with JSON.stringify():

- `undefined` properties on objects are omitted (i.e., properties become undefined instead of equal to undefined).

- When `undefined` appears as the root object or as an array element it is coerced to `null`.

- Non-finite numbers (`NaN`, `+/-Infinity`) are also coerced to `null`.

- prototypes and non-enumerable properties are lost.

- `ArrayLike` types that are not arrays and are serialized as `{ length: number }`.

Also, `Jsonable<T>` does not prevent the construction of circular references.

Using `Jsonable<unknown>` or `Jsonable<any>` is a type alias for [JsonableTypeWith](/docs/apis/datastore-definitions#jsonabletypewith-typealias)`<never>` and should not be used if precise type safety is desired.

#### Example {#jsonable-example}

Typical usage

```typescript
function foo<T>(value: Jsonable<T>) { ... }
```

### JsonableTypeWith (ALPHA) {#jsonabletypewith-typealias}

Type constraint for types that are likely serializable as JSON or have a custom alternate type.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#jsonabletypewith-signature}

```typescript
export type JsonableTypeWith<T> = undefined | null | boolean | number | string | T | Internal_InterfaceOfJsonableTypesWith<T> | ArrayLike<JsonableTypeWith<T>>;
```

#### Remarks {#jsonabletypewith-remarks}

Use `JsonableTypeWith<never>` for just JSON serializable types. See [Jsonable](/docs/apis/datastore-definitions#jsonable-typealias) for serialization pitfalls.

### Serializable (ALPHA) {#serializable-typealias}

Used to constrain a type 'T' to types that Fluid can intrinsically serialize. Produces a compile-time error if `T` contains non-serializable members.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#serializable-signature}

```typescript
export type Serializable<T> = Jsonable<T, IFluidHandle>;
```

#### Remarks {#serializable-remarks}

See Jsonable for caveats regarding serialization of `undefined`, non-finite numbers, and circular references.

Important: `T extends Serializable<T>` is generally incorrect. (Any value of `T` extends the serializable subset of itself.)

#### Example {#serializable-example}

Typical usage

```typescript
function serialize<T>(value: Serializable<T>) { ... }
```
