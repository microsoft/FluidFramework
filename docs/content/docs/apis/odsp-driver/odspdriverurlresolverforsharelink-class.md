{
  "title": "OdspDriverUrlResolverForShareLink Class",
  "summary": "Resolver to resolve urls like the ones created by createOdspUrl which is driver inner url format and the ones which have things like driveId, siteId, itemId etc encoded in nav param. This resolver also handles share links and try to generate one for the use by the app.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#_constructor_-constructor"
    },
    "Method": {
      "appendDataStorePath": "/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#appenddatastorepath-method",
      "createDocumentUrl": "/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#createdocumenturl-method",
      "createNavParam": "/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#createnavparam-method",
      "getAbsoluteUrl": "/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#getabsoluteurl-method",
      "resolve": "/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#resolve-method"
    }
  },
  "package": "@fluidframework/odsp-driver",
  "unscopedPackageName": "odsp-driver"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/odsp-driver](/docs/apis/odsp-driver) &gt; [OdspDriverUrlResolverForShareLink](/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class)

Resolver to resolve urls like the ones created by createOdspUrl which is driver inner url format and the ones which have things like driveId, siteId, itemId etc encoded in nav param. This resolver also handles share links and try to generate one for the use by the app.

## Signature {#odspdriverurlresolverforsharelink-signature}

```typescript
export declare class OdspDriverUrlResolverForShareLink implements IUrlResolver
```

**Implements:** [IUrlResolver](/docs/apis/driver-definitions/iurlresolver-interface)

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Creates url resolver instance
      </td>
    </tr>
  </tbody>
</table>

## Static Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#createdocumenturl-method'>createDocumentUrl</a>
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Crafts a supported document/driver URL
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#createnavparam-method'>createNavParam</a>
      </td>
      <td>
        <code>DEPRECATED</code>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Crafts a supported data store nav param
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#appenddatastorepath-method'>appendDataStorePath</a>
      </td>
      <td>
        <span>string &#124; undefined</span>
      </td>
      <td>
        Takes an already generated data store url (from requestUrl) and appends a path to the existing data store information.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#getabsoluteurl-method'>getAbsoluteUrl</a>
      </td>
      <td>
        <span>Promise&lt;string&gt;</span>
      </td>
      <td>
        Requests a driver + data store storage URL. Note that this method requires share link to be fetched and it will throw in case share link fetcher props were not specified when instance was created.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/odsp-driver/odspdriverurlresolverforsharelink-class#resolve-method'>resolve</a>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/odsp-driver-definitions/iodspresolvedurl-interface'>IOdspResolvedUrl</a>&gt;</span>
      </td>
      <td>
        Resolves request URL into driver details
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Creates url resolver instance

#### Signature {#_constructor_-signature}

```typescript
constructor(shareLinkFetcherProps?: ShareLinkFetcherProps | undefined, logger?: ITelemetryBaseLogger, appName?: string | undefined, getContext?: ((resolvedUrl: IOdspResolvedUrl, dataStorePath: string) => Promise<string | undefined>) | undefined);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        shareLinkFetcherProps
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/odsp-driver/sharelinkfetcherprops-interface'>ShareLinkFetcherProps</a> &#124; undefined</span>
      </td>
      <td>
        properties used when fetching share link. Can be set as 'undefined' for cases where share link is not needed. Currently, only getAbsoluteUrl() method requires share link.
      </td>
    </tr>
    <tr>
      <td>
        logger
      </td>
      <td>
        optional
      </td>
      <td>
        <span>ITelemetryBaseLogger</span>
      </td>
      <td>
        logger object that is used as telemetry sink
      </td>
    </tr>
    <tr>
      <td>
        appName
      </td>
      <td>
        optional
      </td>
      <td>
        <span>string &#124; undefined</span>
      </td>
      <td>
        application name hint that is encoded with url produced by getAbsoluteUrl() method. This hint is used by link handling logic which determines which app to redirect to when user navigates directly to the link.
      </td>
    </tr>
    <tr>
      <td>
        getContext
      </td>
      <td>
        optional
      </td>
      <td>
        <span>((resolvedUrl: <a href='/docs/apis/odsp-driver-definitions/iodspresolvedurl-interface'>IOdspResolvedUrl</a>, dataStorePath: string) =&gt; Promise&lt;string &#124; undefined&gt;) &#124; undefined</span>
      </td>
      <td>
        callback function which is used to get context for given resolved url. If context is returned then it will be embedded into url returned by getAbsoluteUrl() method.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### appendDataStorePath {#appenddatastorepath-method}

Takes an already generated data store url (from requestUrl) and appends a path to the existing data store information.

#### Signature {#appenddatastorepath-signature}

```typescript
appendDataStorePath(requestUrl: URL, pathToAppend: string): string | undefined;
```

#### Parameters {#appenddatastorepath-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        requestUrl
      </td>
      <td>
        <span>URL</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        pathToAppend
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#appenddatastorepath-returns}

**Return type:** string \| undefined

### createDocumentUrl {#createdocumenturl-method}

Crafts a supported document/driver URL

#### Signature {#createdocumenturl-signature}

```typescript
static createDocumentUrl(baseUrl: string, driverInfo: OdspFluidDataStoreLocator): string;
```

#### Parameters {#createdocumenturl-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        baseUrl
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        driverInfo
      </td>
      <td>
        <span><a href='/docs/apis/odsp-driver/odspfluiddatastorelocator-interface'>OdspFluidDataStoreLocator</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createdocumenturl-returns}

**Return type:** string

### createNavParam {#createnavparam-method}

{{% callout warning Deprecated %}}
encodeOdspFluidDataStoreLocator should be used instead

{{% /callout %}}

Crafts a supported data store nav param

#### Signature {#createnavparam-signature}

```typescript
static createNavParam(locator: OdspFluidDataStoreLocator): string;
```

#### Parameters {#createnavparam-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        locator
      </td>
      <td>
        <span><a href='/docs/apis/odsp-driver/odspfluiddatastorelocator-interface'>OdspFluidDataStoreLocator</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createnavparam-returns}

**Return type:** string

### getAbsoluteUrl {#getabsoluteurl-method}

Requests a driver + data store storage URL. Note that this method requires share link to be fetched and it will throw in case share link fetcher props were not specified when instance was created.

#### Signature {#getabsoluteurl-signature}

```typescript
getAbsoluteUrl(resolvedUrl: IResolvedUrl, dataStorePath: string, packageInfoSource?: IContainerPackageInfo): Promise<string>;
```

#### Parameters {#getabsoluteurl-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        resolvedUrl
      </td>
      <td>
      </td>
      <td>
        <span>IResolvedUrl</span>
      </td>
      <td>
        The driver resolved URL
      </td>
    </tr>
    <tr>
      <td>
        dataStorePath
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The relative data store path URL. For requesting a driver URL, this value should always be '/'. If an empty string is passed, then dataStorePath will be extracted from the resolved url if present.
      </td>
    </tr>
    <tr>
      <td>
        packageInfoSource
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/driver-definitions/icontainerpackageinfo-interface'>IContainerPackageInfo</a></span>
      </td>
      <td>
        optional, represents container package information to be included in url.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getabsoluteurl-returns}

**Return type:** Promise&lt;string&gt;

### resolve {#resolve-method}

Resolves request URL into driver details

#### Signature {#resolve-signature}

```typescript
resolve(request: IRequest): Promise<IOdspResolvedUrl>;
```

#### Parameters {#resolve-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        request
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/irequest-interface'>IRequest</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#resolve-returns}

**Return type:** Promise&lt;[IOdspResolvedUrl](/docs/apis/odsp-driver-definitions/iodspresolvedurl-interface)&gt;
