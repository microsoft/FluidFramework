{
  "title": "TestFluidObjectFactory Class",
  "summary": "Creates a factory for a TestFluidObject with the given object factory entries. It creates a data store runtime with the object factories in the entry list. All the entries with an id other than undefined are passed to the Fluid object so that it can create a shared object for each.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/test-utils/testfluidobjectfactory-class#_constructor_-constructor"
    },
    "Property": {
      "IFluidDataStoreFactory": "/docs/apis/test-utils/testfluidobjectfactory-class#ifluiddatastorefactory-property",
      "type": "/docs/apis/test-utils/testfluidobjectfactory-class#type-property"
    },
    "Method": {
      "instantiateDataStore": "/docs/apis/test-utils/testfluidobjectfactory-class#instantiatedatastore-method"
    }
  },
  "package": "@fluidframework/test-utils",
  "unscopedPackageName": "test-utils"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/test-utils](/docs/apis/test-utils) &gt; [TestFluidObjectFactory](/docs/apis/test-utils/testfluidobjectfactory-class)

Creates a factory for a TestFluidObject with the given object factory entries. It creates a data store runtime with the object factories in the entry list. All the entries with an id other than undefined are passed to the Fluid object so that it can create a shared object for each.

## Signature {#testfluidobjectfactory-signature}

```typescript
export declare class TestFluidObjectFactory implements IFluidDataStoreFactory
```

**Implements:** [IFluidDataStoreFactory](/docs/apis/runtime-definitions/ifluiddatastorefactory-interface)

## Example {#testfluidobjectfactory-example}

The following will create a Fluid object that creates and loads a SharedString and SharedDirectory. It will add SparseMatrix to the data store's factory so that it can be created later.

```typescript
new TestFluidObjectFactory([
 [ "sharedString", SharedString.getFactory() ],
 [ "sharedDirectory", SharedDirectory.getFactory() ],
 [ undefined, SparseMatrix.getFactory() ],
]);
```

The SharedString and SharedDirectory can be retrieved via getSharedObject() on the TestFluidObject as follows:

```typescript
sharedString = testFluidObject.getSharedObject<SharedString>("sharedString");
sharedDir = testFluidObject.getSharedObject<SharedDirectory>("sharedDirectory");
```

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/test-utils/testfluidobjectfactory-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Creates a new TestFluidObjectFactory.
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/test-utils/testfluidobjectfactory-class#ifluiddatastorefactory-property'>IFluidDataStoreFactory</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>this</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/test-utils/testfluidobjectfactory-class#type-property'>type</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/test-utils/testfluidobjectfactory-class#instantiatedatastore-method'>instantiateDataStore</a>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/datastore/fluiddatastoreruntime-class'>FluidDataStoreRuntime</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Creates a new TestFluidObjectFactory.

#### Signature {#_constructor_-signature}

```typescript
constructor(factoryEntries: ChannelFactoryRegistry, type?: string);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        factoryEntries
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/test-utils#channelfactoryregistry-typealias'>ChannelFactoryRegistry</a></span>
      </td>
      <td>
        A list of id to IChannelFactory mapping. It creates a data store runtime with each IChannelFactory. Entries with string ids are passed to the Fluid object so that it can create a shared object for it.
      </td>
    </tr>
    <tr>
      <td>
        type
      </td>
      <td>
        optional
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### IFluidDataStoreFactory {#ifluiddatastorefactory-property}

#### Signature {#ifluiddatastorefactory-signature}

```typescript
get IFluidDataStoreFactory(): this;
```

### type {#type-property}

#### Signature {#type-signature}

```typescript
readonly type: string;
```

## Method Details

### instantiateDataStore {#instantiatedatastore-method}

#### Signature {#instantiatedatastore-signature}

```typescript
instantiateDataStore(context: IFluidDataStoreContext, existing: boolean): Promise<FluidDataStoreRuntime>;
```

#### Parameters {#instantiatedatastore-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        context
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        existing
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#instantiatedatastore-returns}

**Return type:** Promise&lt;[FluidDataStoreRuntime](/docs/apis/datastore/fluiddatastoreruntime-class)&gt;
