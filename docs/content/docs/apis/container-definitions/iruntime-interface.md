{
  "title": "IRuntime Interface",
  "summary": "The IRuntime represents an instantiation of a code package within a Container. Primarily held by the ContainerContext to be able to interact with the running instance of the Container.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "createSummary": "/docs/apis/container-definitions/iruntime-interface#createsummary-methodsignature",
      "getEntryPoint": "/docs/apis/container-definitions/iruntime-interface#getentrypoint-methodsignature",
      "getPendingLocalState": "/docs/apis/container-definitions/iruntime-interface#getpendinglocalstate-methodsignature",
      "notifyOpReplay": "/docs/apis/container-definitions/iruntime-interface#notifyopreplay-methodsignature",
      "process": "/docs/apis/container-definitions/iruntime-interface#process-methodsignature",
      "processSignal": "/docs/apis/container-definitions/iruntime-interface#processsignal-methodsignature",
      "setAttachState": "/docs/apis/container-definitions/iruntime-interface#setattachstate-methodsignature",
      "setConnectionState": "/docs/apis/container-definitions/iruntime-interface#setconnectionstate-methodsignature"
    }
  },
  "package": "@fluidframework/container-definitions",
  "unscopedPackageName": "container-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

The IRuntime represents an instantiation of a code package within a Container. Primarily held by the ContainerContext to be able to interact with the running instance of the Container.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#iruntime-signature}

```typescript
export interface IRuntime extends IDisposable
```

**Extends:** [IDisposable](/docs/apis/core-interfaces/idisposable-interface)

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#createsummary-methodsignature'>createSummary(blobRedirectTable)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>ISummaryTree</span>
      </td>
      <td>
        Create a summary. Used when attaching or serializing a detached container.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#getentrypoint-methodsignature'>getEntryPoint()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/core-interfaces#fluidobject-typealias'>FluidObject</a>&gt;</span>
      </td>
      <td>
        Exposes the entryPoint for the container runtime. Use this as the primary way of getting access to the user-defined logic within the container runtime.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#getpendinglocalstate-methodsignature'>getPendingLocalState(props)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>unknown</span>
      </td>
      <td>
        Get pending local state in a serializable format to be given back to a newly loaded container
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#notifyopreplay-methodsignature'>notifyOpReplay(message)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        Notify runtime that we have processed a saved message, so that it can do async work (applying stashed ops) after having processed it.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#process-methodsignature'>process(message, local)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
        Processes the given op (message)
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#processsignal-methodsignature'>processSignal(message, local)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
        Processes the given signal
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#setattachstate-methodsignature'>setAttachState(attachState)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Propagate the container state when container is attaching or attached.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-definitions/iruntime-interface#setconnectionstate-methodsignature'>setConnectionState(connected, clientId)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
        Notifies the runtime of a change in the connection state
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### createSummary (ALPHA) {#createsummary-methodsignature}

Create a summary. Used when attaching or serializing a detached container.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#createsummary-signature}

```typescript
createSummary(blobRedirectTable?: Map<string, string>): ISummaryTree;
```

#### Parameters {#createsummary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        blobRedirectTable
      </td>
      <td>
        optional
      </td>
      <td>
        <span>Map&lt;string, string&gt;</span>
      </td>
      <td>
        A table passed during the attach process. While detached, blob upload is supported using IDs generated locally. After attach, these IDs cannot be used, so this table maps the old local IDs to the new storage IDs so requests can be redirected.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createsummary-returns}

**Return type:** ISummaryTree

### getEntryPoint (ALPHA) {#getentrypoint-methodsignature}

Exposes the entryPoint for the container runtime. Use this as the primary way of getting access to the user-defined logic within the container runtime.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getentrypoint-signature}

```typescript
getEntryPoint(): Promise<FluidObject>;
```

#### Returns {#getentrypoint-returns}

**Return type:** Promise&lt;[FluidObject](/docs/apis/core-interfaces#fluidobject-typealias)&gt;

#### See Also {#getentrypoint-see-also}

[getEntryPoint()](/docs/apis/container-definitions/icontainer-interface#getentrypoint-methodsignature)

### getPendingLocalState (ALPHA) {#getpendinglocalstate-methodsignature}

Get pending local state in a serializable format to be given back to a newly loaded container

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getpendinglocalstate-signature}

```typescript
getPendingLocalState(props?: IGetPendingLocalStateProps): unknown;
```

#### Parameters {#getpendinglocalstate-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        props
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions/igetpendinglocalstateprops-interface'>IGetPendingLocalStateProps</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getpendinglocalstate-returns}

**Return type:** unknown

### notifyOpReplay (ALPHA) {#notifyopreplay-methodsignature}

Notify runtime that we have processed a saved message, so that it can do async work (applying stashed ops) after having processed it.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#notifyopreplay-signature}

```typescript
notifyOpReplay?(message: ISequencedDocumentMessage): Promise<void>;
```

#### Parameters {#notifyopreplay-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        message
      </td>
      <td>
        <span>ISequencedDocumentMessage</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#notifyopreplay-returns}

**Return type:** Promise&lt;void&gt;

### process (ALPHA) {#process-methodsignature}

Processes the given op (message)

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#process-signature}

```typescript
process(message: ISequencedDocumentMessage, local: boolean): any;
```

#### Parameters {#process-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        message
      </td>
      <td>
        <span>ISequencedDocumentMessage</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        local
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#process-returns}

**Return type:** any

### processSignal (ALPHA) {#processsignal-methodsignature}

Processes the given signal

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#processsignal-signature}

```typescript
processSignal(message: any, local: boolean): any;
```

#### Parameters {#processsignal-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        message
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        local
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#processsignal-returns}

**Return type:** any

### setAttachState (ALPHA) {#setattachstate-methodsignature}

Propagate the container state when container is attaching or attached.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#setattachstate-signature}

```typescript
setAttachState(attachState: AttachState.Attaching | AttachState.Attached): void;
```

#### Parameters {#setattachstate-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        attachState
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions/attachstate-enum#attaching-enummember'>AttachState.Attaching</a> &#124; <a href='/docs/apis/container-definitions/attachstate-enum#attached-enummember'>AttachState.Attached</a></span>
      </td>
      <td>
        State of the container.
      </td>
    </tr>
  </tbody>
</table>

### setConnectionState (ALPHA) {#setconnectionstate-methodsignature}

Notifies the runtime of a change in the connection state

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#setconnectionstate-signature}

```typescript
setConnectionState(connected: boolean, clientId?: string): any;
```

#### Parameters {#setconnectionstate-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        connected
      </td>
      <td>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        clientId
      </td>
      <td>
        optional
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#setconnectionstate-returns}

**Return type:** any
