{
  "title": "IAgentScheduler Interface",
  "summary": "Agent scheduler distributes a set of tasks/variables across connected clients.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "pick": "/docs/apis/agent-scheduler/iagentscheduler-interface#pick-methodsignature",
      "pickedTasks": "/docs/apis/agent-scheduler/iagentscheduler-interface#pickedtasks-methodsignature",
      "register": "/docs/apis/agent-scheduler/iagentscheduler-interface#register-methodsignature",
      "release": "/docs/apis/agent-scheduler/iagentscheduler-interface#release-methodsignature"
    }
  },
  "package": "@fluidframework/agent-scheduler",
  "unscopedPackageName": "agent-scheduler"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Agent scheduler distributes a set of tasks/variables across connected clients.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#iagentscheduler-signature}

```typescript
export interface IAgentScheduler extends IProvideAgentScheduler, IEventProvider<IAgentSchedulerEvents>, IFluidLoadable
```

**Extends:** [IProvideAgentScheduler](/docs/apis/agent-scheduler/iprovideagentscheduler-interface), [IEventProvider](/docs/apis/core-interfaces/ieventprovider-interface)&lt;[IAgentSchedulerEvents](/docs/apis/agent-scheduler/iagentschedulerevents-interface)&gt;, [IFluidLoadable](/docs/apis/core-interfaces/ifluidloadable-interface)

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/agent-scheduler/iagentscheduler-interface#pick-methodsignature'>pick(taskId, worker)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        <p>
          Attempts to pick a set of tasks. A client will only run the task if it's chosen based on consensus. Resolves when the tasks are assigned to one of the connected clients.
        </p>
        <p>
          This method should only be called once per task. Duplicate calls will be rejected.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/agent-scheduler/iagentscheduler-interface#pickedtasks-methodsignature'>pickedTasks()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>string[]</span>
      </td>
      <td>
        Returns a list of all tasks running on this client
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/agent-scheduler/iagentscheduler-interface#register-methodsignature'>register(taskUrls)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        <p>
          Registers a set of new tasks to distribute amongst connected clients. Only use this if a client wants a new agent to run but does not have the capability to run the agent inside the host. Client can call pick() later if the capability changes.
        </p>
        <p>
          This method should only be called once per task. Duplicate calls will be rejected.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/agent-scheduler/iagentscheduler-interface#release-methodsignature'>release(taskUrls)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        <p>
          Releases a set of tasks for other clients to grab. Resolves when the tasks are released.
        </p>
        <p>
          Only previously picked tasks are allowed. Releasing non picked tasks will get a rejection. App can call pickedTasks() to get the picked list first.
        </p>
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### pick (ALPHA) {#pick-methodsignature}

Attempts to pick a set of tasks. A client will only run the task if it's chosen based on consensus. Resolves when the tasks are assigned to one of the connected clients.

This method should only be called once per task. Duplicate calls will be rejected.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#pick-signature}

```typescript
pick(taskId: string, worker: () => Promise<void>): Promise<void>;
```

#### Parameters {#pick-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        taskId
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        worker
      </td>
      <td>
        <span>() =&gt; Promise&lt;void&gt;</span>
      </td>
      <td>
        callback to run when task is picked up.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#pick-returns}

**Return type:** Promise&lt;void&gt;

### pickedTasks (ALPHA) {#pickedtasks-methodsignature}

Returns a list of all tasks running on this client

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#pickedtasks-signature}

```typescript
pickedTasks(): string[];
```

#### Returns {#pickedtasks-returns}

**Return type:** string\[\]

### register (ALPHA) {#register-methodsignature}

Registers a set of new tasks to distribute amongst connected clients. Only use this if a client wants a new agent to run but does not have the capability to run the agent inside the host. Client can call pick() later if the capability changes.

This method should only be called once per task. Duplicate calls will be rejected.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#register-signature}

```typescript
register(...taskUrls: string[]): Promise<void>;
```

#### Parameters {#register-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        taskUrls
      </td>
      <td>
        <span>string[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#register-returns}

**Return type:** Promise&lt;void&gt;

### release (ALPHA) {#release-methodsignature}

Releases a set of tasks for other clients to grab. Resolves when the tasks are released.

Only previously picked tasks are allowed. Releasing non picked tasks will get a rejection. App can call pickedTasks() to get the picked list first.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#release-signature}

```typescript
release(...taskUrls: string[]): Promise<void>;
```

#### Parameters {#release-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        taskUrls
      </td>
      <td>
        <span>string[]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#release-returns}

**Return type:** Promise&lt;void&gt;
