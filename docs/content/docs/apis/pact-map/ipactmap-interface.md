{
  "title": "IPactMap Interface",
  "summary": "An IPactMap is a key-value storage, in which setting a value is done via a proposal system. All collaborators who were connected at the time of the proposal must accept the change before it is considered accepted (or, if those clients disconnect they are considered to have implicitly accepted). As a result, the value goes through two phases: 1. 'pending' state where the proposal has been sequenced, but there are still outstanding acceptances 2. 'accepted' state where all clients who were connected at the time the proposal was made have either accepted or disconnected.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "delete": "/docs/apis/pact-map/ipactmap-interface#delete-methodsignature",
      "get": "/docs/apis/pact-map/ipactmap-interface#get-methodsignature",
      "getPending": "/docs/apis/pact-map/ipactmap-interface#getpending-methodsignature",
      "getWithDetails": "/docs/apis/pact-map/ipactmap-interface#getwithdetails-methodsignature",
      "isPending": "/docs/apis/pact-map/ipactmap-interface#ispending-methodsignature",
      "set": "/docs/apis/pact-map/ipactmap-interface#set-methodsignature"
    }
  },
  "package": "@fluid-experimental/pact-map",
  "unscopedPackageName": "pact-map"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluid-experimental/pact-map](/docs/apis/pact-map) &gt; [IPactMap](/docs/apis/pact-map/ipactmap-interface)

An IPactMap is a key-value storage, in which setting a value is done via a proposal system. All collaborators who were connected at the time of the proposal must accept the change before it is considered accepted (or, if those clients disconnect they are considered to have implicitly accepted). As a result, the value goes through two phases: 1. "pending" state where the proposal has been sequenced, but there are still outstanding acceptances 2. "accepted" state where all clients who were connected at the time the proposal was made have either accepted or disconnected.

## Signature {#ipactmap-signature}

```typescript
export interface IPactMap<T = unknown> extends ISharedObject<IPactMapEvents>
```

**Extends:** [ISharedObject](/docs/apis/shared-object-base/isharedobject-interface)&lt;[IPactMapEvents](/docs/apis/pact-map/ipactmapevents-interface)&gt;

### Type Parameters

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        T
      </td>
      <td>
        optional
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/pact-map/ipactmap-interface#delete-methodsignature'>delete</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Deletes the key/value pair at the given key. After issuing the delete, the delete is in &quot;pending&quot; state until all connected clients have approved the delete. The accepted value remains unchanged until that time.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/pact-map/ipactmap-interface#get-methodsignature'>get</a>
      </td>
      <td>
        <span>T &#124; undefined</span>
      </td>
      <td>
        Gets the accepted value for the given key.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/pact-map/ipactmap-interface#getpending-methodsignature'>getPending</a>
      </td>
      <td>
        <span>T &#124; undefined</span>
      </td>
      <td>
        Gets the pending value for the given key.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/pact-map/ipactmap-interface#getwithdetails-methodsignature'>getWithDetails</a>
      </td>
      <td>
        <span><a href='/docs/apis/pact-map/iacceptedpact-interface'>IAcceptedPact</a>&lt;T&gt; &#124; undefined</span>
      </td>
      <td>
        Gets the accepted value and details for the given key.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/pact-map/ipactmap-interface#ispending-methodsignature'>isPending</a>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        Returns whether there is a pending value for the given key. Can be used to distinguish a pending delete vs. nothing pending when getPending would just return undefined.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/pact-map/ipactmap-interface#set-methodsignature'>set</a>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Sets the value for the given key. After setting the value, it will be in &quot;pending&quot; state until all connected clients have approved the change. The accepted value remains unchanged until that time.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### delete {#delete-methodsignature}

Deletes the key/value pair at the given key. After issuing the delete, the delete is in "pending" state until all connected clients have approved the delete. The accepted value remains unchanged until that time.

#### Signature {#delete-signature}

```typescript
delete(key: string): void;
```

#### Parameters {#delete-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        the key to delete
      </td>
    </tr>
  </tbody>
</table>

### get {#get-methodsignature}

Gets the accepted value for the given key.

#### Signature {#get-signature}

```typescript
get(key: string): T | undefined;
```

#### Parameters {#get-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The key to retrieve from
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#get-returns}

**Return type:** T \| undefined

### getPending {#getpending-methodsignature}

Gets the pending value for the given key.

#### Signature {#getpending-signature}

```typescript
getPending(key: string): T | undefined;
```

#### Parameters {#getpending-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The key to retrieve from
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getpending-returns}

**Return type:** T \| undefined

### getWithDetails {#getwithdetails-methodsignature}

Gets the accepted value and details for the given key.

#### Signature {#getwithdetails-signature}

```typescript
getWithDetails(key: string): IAcceptedPact<T> | undefined;
```

#### Parameters {#getwithdetails-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The key to retrieve from
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getwithdetails-returns}

**Return type:** [IAcceptedPact](/docs/apis/pact-map/iacceptedpact-interface)&lt;T&gt; \| undefined

### isPending {#ispending-methodsignature}

Returns whether there is a pending value for the given key. Can be used to distinguish a pending delete vs. nothing pending when getPending would just return undefined.

#### Signature {#ispending-signature}

```typescript
isPending(key: string): boolean;
```

#### Parameters {#ispending-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The key to check
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#ispending-returns}

**Return type:** boolean

### set {#set-methodsignature}

Sets the value for the given key. After setting the value, it will be in "pending" state until all connected clients have approved the change. The accepted value remains unchanged until that time.

#### Signature {#set-signature}

```typescript
set(key: string, value: T | undefined): void;
```

#### Parameters {#set-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The key to set
      </td>
    </tr>
    <tr>
      <td>
        value
      </td>
      <td>
        <span>T &#124; undefined</span>
      </td>
      <td>
        The value to store
      </td>
    </tr>
  </tbody>
</table>
