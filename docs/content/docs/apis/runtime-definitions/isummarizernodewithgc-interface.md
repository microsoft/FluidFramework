{
  "title": "ISummarizerNodeWithGC Interface",
  "summary": "Extends the functionality of ISummarizerNode to support garbage collection. It adds / updates the following APIs:\n\n`usedRoutes`: The routes in this node that are currently in use.\n\n`getGCData`: A new API that can be used to get the garbage collection data for this node.\n\n`summarize`: Added a trackState flag which indicates whether the summarizer node should track the state of the summary or not.\n\n`createChild`: Added the following params:\n\n- `getGCDataFn`: This gets the GC data from the caller. This must be provided in order for getGCData to work.\n\n- `getInitialGCDetailsFn`: This gets the initial GC details from the caller.\n\n`deleteChild`: Deletes a child node.\n\n`isReferenced`: This tells whether this node is referenced in the document or not.\n\n`updateUsedRoutes`: Used to notify this node of routes that are currently in use in it.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "createChild": "/docs/apis/runtime-definitions/isummarizernodewithgc-interface#createchild-methodsignature",
      "deleteChild": "/docs/apis/runtime-definitions/isummarizernodewithgc-interface#deletechild-methodsignature",
      "getChild": "/docs/apis/runtime-definitions/isummarizernodewithgc-interface#getchild-methodsignature",
      "getGCData": "/docs/apis/runtime-definitions/isummarizernodewithgc-interface#getgcdata-methodsignature",
      "isReferenced": "/docs/apis/runtime-definitions/isummarizernodewithgc-interface#isreferenced-methodsignature",
      "updateUsedRoutes": "/docs/apis/runtime-definitions/isummarizernodewithgc-interface#updateusedroutes-methodsignature"
    }
  },
  "package": "@fluidframework/runtime-definitions",
  "unscopedPackageName": "runtime-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Extends the functionality of ISummarizerNode to support garbage collection. It adds / updates the following APIs:

`usedRoutes`: The routes in this node that are currently in use.

`getGCData`: A new API that can be used to get the garbage collection data for this node.

`summarize`: Added a trackState flag which indicates whether the summarizer node should track the state of the summary or not.

`createChild`: Added the following params:

- `getGCDataFn`: This gets the GC data from the caller. This must be provided in order for getGCData to work.

- `getInitialGCDetailsFn`: This gets the initial GC details from the caller.

`deleteChild`: Deletes a child node.

`isReferenced`: This tells whether this node is referenced in the document or not.

`updateUsedRoutes`: Used to notify this node of routes that are currently in use in it.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#isummarizernodewithgc-signature}

```typescript
export interface ISummarizerNodeWithGC extends ISummarizerNode
```

**Extends:** [ISummarizerNode](/docs/apis/runtime-definitions/isummarizernode-interface)

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface#createchild-methodsignature'>createChild(summarizeInternalFn, id, createParam, config, getGCDataFn, getBaseGCDetailsFn)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface'>ISummarizerNodeWithGC</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface#deletechild-methodsignature'>deleteChild(id)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Delete the child with the given id..
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface#getchild-methodsignature'>getChild(id)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface'>ISummarizerNodeWithGC</a> &#124; undefined</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface#getgcdata-methodsignature'>getGCData(fullGC)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/runtime-definitions/igarbagecollectiondata-interface'>IGarbageCollectionData</a>&gt;</span>
      </td>
      <td>
        Returns this node's data that is used for garbage collection. This includes a list of GC nodes that represent this node. Each node has a set of outbound routes to other GC nodes in the document.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface#isreferenced-methodsignature'>isReferenced()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        Tells whether this node is being referenced in this document or not. Unreferenced node will get GC'd
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernodewithgc-interface#updateusedroutes-methodsignature'>updateUsedRoutes(usedRoutes)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        After GC has run, called to notify this node of routes that are used in it. These are used for the following: 1. To identify if this node is being referenced in the document or not. 2. To identify if this node or any of its children's used routes changed since last summary.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### createChild (ALPHA) {#createchild-methodsignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#createchild-signature}

```typescript
createChild(
    summarizeInternalFn: SummarizeInternalFn, 
    id: string, 
    createParam: CreateChildSummarizerNodeParam, 
    config?: ISummarizerNodeConfigWithGC, getGCDataFn?: (fullGC?: boolean) => Promise<IGarbageCollectionData>, 
    getBaseGCDetailsFn?: () => Promise<IGarbageCollectionDetailsBase>): ISummarizerNodeWithGC;
```

#### Parameters {#createchild-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summarizeInternalFn
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#summarizeinternalfn-typealias'>SummarizeInternalFn</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        id
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        createParam
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#createchildsummarizernodeparam-typealias'>CreateChildSummarizerNodeParam</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        config
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/isummarizernodeconfigwithgc-interface'>ISummarizerNodeConfigWithGC</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        getGCDataFn
      </td>
      <td>
        optional
      </td>
      <td>
        <span>(fullGC?: boolean) =&gt; Promise&lt;<a href='/docs/apis/runtime-definitions/igarbagecollectiondata-interface'>IGarbageCollectionData</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        getBaseGCDetailsFn
      </td>
      <td>
        optional
      </td>
      <td>
        <span>() =&gt; Promise&lt;<a href='/docs/apis/runtime-definitions/igarbagecollectiondetailsbase-interface'>IGarbageCollectionDetailsBase</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createchild-returns}

**Return type:** [ISummarizerNodeWithGC](/docs/apis/runtime-definitions/isummarizernodewithgc-interface)

### deleteChild (ALPHA) {#deletechild-methodsignature}

Delete the child with the given id..

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#deletechild-signature}

```typescript
deleteChild(id: string): void;
```

#### Parameters {#deletechild-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### getChild (ALPHA) {#getchild-methodsignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getchild-signature}

```typescript
getChild(id: string): ISummarizerNodeWithGC | undefined;
```

#### Parameters {#getchild-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getchild-returns}

**Return type:** [ISummarizerNodeWithGC](/docs/apis/runtime-definitions/isummarizernodewithgc-interface) \| undefined

### getGCData (ALPHA) {#getgcdata-methodsignature}

Returns this node's data that is used for garbage collection. This includes a list of GC nodes that represent this node. Each node has a set of outbound routes to other GC nodes in the document.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getgcdata-signature}

```typescript
getGCData(fullGC?: boolean): Promise<IGarbageCollectionData>;
```

#### Parameters {#getgcdata-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        fullGC
      </td>
      <td>
        optional
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        true to bypass optimizations and force full generation of GC data.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getgcdata-returns}

**Return type:** Promise&lt;[IGarbageCollectionData](/docs/apis/runtime-definitions/igarbagecollectiondata-interface)&gt;

### isReferenced (ALPHA) {#isreferenced-methodsignature}

Tells whether this node is being referenced in this document or not. Unreferenced node will get GC'd

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#isreferenced-signature}

```typescript
isReferenced(): boolean;
```

#### Returns {#isreferenced-returns}

**Return type:** boolean

### updateUsedRoutes (ALPHA) {#updateusedroutes-methodsignature}

After GC has run, called to notify this node of routes that are used in it. These are used for the following: 1. To identify if this node is being referenced in the document or not. 2. To identify if this node or any of its children's used routes changed since last summary.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#updateusedroutes-signature}

```typescript
updateUsedRoutes(usedRoutes: string[]): void;
```

#### Parameters {#updateusedroutes-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        usedRoutes
      </td>
      <td>
        <span>string[]</span>
      </td>
      <td>
        The routes that are used in this node.
      </td>
    </tr>
  </tbody>
</table>
