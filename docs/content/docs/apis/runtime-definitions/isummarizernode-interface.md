{
  "title": "ISummarizerNode Interface",
  "summary": "",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "createChild": "/docs/apis/runtime-definitions/isummarizernode-interface#createchild-methodsignature",
      "getChild": "/docs/apis/runtime-definitions/isummarizernode-interface#getchild-methodsignature",
      "invalidate": "/docs/apis/runtime-definitions/isummarizernode-interface#invalidate-methodsignature",
      "isSummaryInProgress": "/docs/apis/runtime-definitions/isummarizernode-interface#issummaryinprogress-methodsignature",
      "recordChange": "/docs/apis/runtime-definitions/isummarizernode-interface#recordchange-methodsignature",
      "summarize": "/docs/apis/runtime-definitions/isummarizernode-interface#summarize-methodsignature",
      "updateBaseSummaryState": "/docs/apis/runtime-definitions/isummarizernode-interface#updatebasesummarystate-methodsignature"
    },
    "PropertySignature": {
      "referenceSequenceNumber": "/docs/apis/runtime-definitions/isummarizernode-interface#referencesequencenumber-propertysignature"
    }
  },
  "package": "@fluidframework/runtime-definitions",
  "unscopedPackageName": "runtime-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#isummarizernode-signature}

```typescript
export interface ISummarizerNode
```

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#referencesequencenumber-propertysignature'>referenceSequenceNumber</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
        Latest successfully acked summary reference sequence number
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#createchild-methodsignature'>createChild(summarizeInternalFn, id, createParam, config)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/isummarizernode-interface'>ISummarizerNode</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#getchild-methodsignature'>getChild(id)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/isummarizernode-interface'>ISummarizerNode</a> &#124; undefined</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#invalidate-methodsignature'>invalidate(sequenceNumber)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Marks the node as having a change with the given sequence number.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#issummaryinprogress-methodsignature'>isSummaryInProgress()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        True if a summary is currently in progress
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#recordchange-methodsignature'>recordChange(op)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Records an op representing a change to this node/subtree.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#summarize-methodsignature'>summarize(fullTree, trackState, telemetryContext)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/runtime-definitions/isummarizeresult-interface'>ISummarizeResult</a>&gt;</span>
      </td>
      <td>
        Calls the internal summarize function and handles internal state tracking. If unchanged and fullTree is false, it will reuse previous summary subtree. If an error is encountered and throwOnFailure is false, it will try to make a summary with a pointer to the previous summary + a blob of outstanding ops.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/isummarizernode-interface#updatebasesummarystate-methodsignature'>updateBaseSummaryState(snapshot)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Checks if there are any additional path parts for children that need to be loaded from the base summary. Additional path parts represent parts of the path between this SummarizerNode and any child SummarizerNodes that it might have. For example: if datastore &quot;a&quot; contains dds &quot;b&quot;, but the path is &quot;/a/.channels/b&quot;, then the additional path part is &quot;.channels&quot;.
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### referenceSequenceNumber (ALPHA) {#referencesequencenumber-propertysignature}

Latest successfully acked summary reference sequence number

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#referencesequencenumber-signature}

```typescript
readonly referenceSequenceNumber: number;
```

## Method Details

### createChild (ALPHA) {#createchild-methodsignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#createchild-signature}

```typescript
createChild(
    summarizeInternalFn: SummarizeInternalFn, 
    id: string, 
    createParam: CreateChildSummarizerNodeParam, 
    config?: ISummarizerNodeConfig): ISummarizerNode;
```

#### Parameters {#createchild-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        summarizeInternalFn
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#summarizeinternalfn-typealias'>SummarizeInternalFn</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        id
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        createParam
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#createchildsummarizernodeparam-typealias'>CreateChildSummarizerNodeParam</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        config
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/isummarizernodeconfig-interface'>ISummarizerNodeConfig</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createchild-returns}

**Return type:** [ISummarizerNode](/docs/apis/runtime-definitions/isummarizernode-interface)

### getChild (ALPHA) {#getchild-methodsignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getchild-signature}

```typescript
getChild(id: string): ISummarizerNode | undefined;
```

#### Parameters {#getchild-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getchild-returns}

**Return type:** [ISummarizerNode](/docs/apis/runtime-definitions/isummarizernode-interface) \| undefined

### invalidate (ALPHA) {#invalidate-methodsignature}

Marks the node as having a change with the given sequence number.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#invalidate-signature}

```typescript
invalidate(sequenceNumber: number): void;
```

#### Parameters {#invalidate-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        sequenceNumber
      </td>
      <td>
        <span>number</span>
      </td>
      <td>
        sequence number of change
      </td>
    </tr>
  </tbody>
</table>

### isSummaryInProgress (ALPHA) {#issummaryinprogress-methodsignature}

True if a summary is currently in progress

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#issummaryinprogress-signature}

```typescript
isSummaryInProgress?(): boolean;
```

#### Returns {#issummaryinprogress-returns}

**Return type:** boolean

### recordChange (ALPHA) {#recordchange-methodsignature}

Records an op representing a change to this node/subtree.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#recordchange-signature}

```typescript
recordChange(op: ISequencedDocumentMessage): void;
```

#### Parameters {#recordchange-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        op
      </td>
      <td>
        <span>ISequencedDocumentMessage</span>
      </td>
      <td>
        op of change to record
      </td>
    </tr>
  </tbody>
</table>

### summarize (ALPHA) {#summarize-methodsignature}

Calls the internal summarize function and handles internal state tracking. If unchanged and fullTree is false, it will reuse previous summary subtree. If an error is encountered and throwOnFailure is false, it will try to make a summary with a pointer to the previous summary + a blob of outstanding ops.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#summarize-signature}

```typescript
summarize(fullTree: boolean, trackState?: boolean, telemetryContext?: ITelemetryContext): Promise<ISummarizeResult>;
```

#### Parameters {#summarize-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        fullTree
      </td>
      <td>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        true to skip optimizations and always generate the full tree
      </td>
    </tr>
    <tr>
      <td>
        trackState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        indicates whether the summarizer node should track the state of the summary or not
      </td>
    </tr>
    <tr>
      <td>
        telemetryContext
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/itelemetrycontext-interface'>ITelemetryContext</a></span>
      </td>
      <td>
        summary data passed through the layers for telemetry purposes
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#summarize-returns}

**Return type:** Promise&lt;[ISummarizeResult](/docs/apis/runtime-definitions/isummarizeresult-interface)&gt;

### updateBaseSummaryState (ALPHA) {#updatebasesummarystate-methodsignature}

Checks if there are any additional path parts for children that need to be loaded from the base summary. Additional path parts represent parts of the path between this SummarizerNode and any child SummarizerNodes that it might have. For example: if datastore "a" contains dds "b", but the path is "/a/.channels/b", then the additional path part is ".channels".

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#updatebasesummarystate-signature}

```typescript
updateBaseSummaryState(snapshot: ISnapshotTree): void;
```

#### Parameters {#updatebasesummarystate-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        snapshot
      </td>
      <td>
        <span>ISnapshotTree</span>
      </td>
      <td>
        the base summary to parse
      </td>
    </tr>
  </tbody>
</table>
