{
  "title": "IFluidDataStoreContext Interface",
  "summary": "Represents the context for the data store. It is used by the data store runtime to get information and call functionality to the container.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "addedGCOutboundReference": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#addedgcoutboundreference-methodsignature",
      "ensureNoDataModelChanges": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#ensurenodatamodelchanges-methodsignature",
      "getAbsoluteUrl": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getabsoluteurl-methodsignature",
      "getAudience": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getaudience-methodsignature",
      "getBaseGCDetails": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getbasegcdetails-methodsignature",
      "getCreateChildSummarizerNodeFn": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getcreatechildsummarizernodefn-methodsignature",
      "getQuorum": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getquorum-methodsignature",
      "makeLocallyVisible": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#makelocallyvisible-methodsignature",
      "setChannelDirty": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#setchanneldirty-methodsignature",
      "submitMessage": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#submitmessage-methodsignature",
      "submitSignal": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#submitsignal-methodsignature",
      "uploadBlob": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#uploadblob-methodsignature"
    },
    "PropertySignature": {
      "attachState": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#attachstate-propertysignature",
      "baseSnapshot": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#basesnapshot-propertysignature",
      "clientDetails": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#clientdetails-propertysignature",
      "clientId": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#clientid-propertysignature",
      "connected": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#connected-propertysignature",
      "containerRuntime": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#containerruntime-propertysignature",
      "createProps": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#createprops-propertysignature",
      "deltaManager": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#deltamanager-propertysignature",
      "id": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#id-propertysignature",
      "idCompressor": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#idcompressor-propertysignature",
      "isLocalDataStore": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#islocaldatastore-propertysignature",
      "logger": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#logger-propertysignature",
      "options": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#options-propertysignature",
      "packagePath": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#packagepath-propertysignature",
      "scope": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#scope-propertysignature",
      "storage": "/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#storage-propertysignature"
    }
  },
  "package": "@fluidframework/runtime-definitions",
  "unscopedPackageName": "runtime-definitions"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Represents the context for the data store. It is used by the data store runtime to get information and call functionality to the container.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#ifluiddatastorecontext-signature}

```typescript
export interface IFluidDataStoreContext extends IEventProvider<IFluidDataStoreContextEvents>, Partial<IProvideFluidDataStoreRegistry>, IProvideFluidHandleContext
```

**Extends:** [IEventProvider](/docs/apis/core-interfaces/ieventprovider-interface)&lt;[IFluidDataStoreContextEvents](/docs/apis/runtime-definitions/ifluiddatastorecontextevents-interface)&gt;, Partial&lt;[IProvideFluidDataStoreRegistry](/docs/apis/runtime-definitions/iprovidefluiddatastoreregistry-interface)&gt;, [IProvideFluidHandleContext](/docs/apis/core-interfaces/iprovidefluidhandlecontext-interface)

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#attachstate-propertysignature'>attachState</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions/attachstate-enum'>AttachState</a></span>
      </td>
      <td>
        Indicates the attachment state of the data store to a host service.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#basesnapshot-propertysignature'>baseSnapshot</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>ISnapshotTree &#124; undefined</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#clientdetails-propertysignature'>clientDetails</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>IClientDetails</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#clientid-propertysignature'>clientId</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>string &#124; undefined</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#connected-propertysignature'>connected</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#containerruntime-propertysignature'>containerRuntime</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/icontainerruntimebase-interface'>IContainerRuntimeBase</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#createprops-propertysignature'>createProps</a>
      </td>
      <td>
        <code>ALPHA</code>, <code>DEPRECATED</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#deltamanager-propertysignature'>deltaManager</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions/ideltamanager-interface'>IDeltaManager</a>&lt;ISequencedDocumentMessage, IDocumentMessage&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#id-propertysignature'>id</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#idcompressor-propertysignature'>idCompressor</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>, <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/id-compressor/iidcompressor-interface'>IIdCompressor</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#islocaldatastore-propertysignature'>isLocalDataStore</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
        A data store created by a client, is a local data store for that client. Also, when a detached container loads from a snapshot, all the data stores are treated as local data stores because at that stage the container still doesn't exists in storage and so the data store couldn't have been created by any other client. Value of this never changes even after the data store is attached. As implementer of data store runtime, you can use this property to check that this data store belongs to this client and hence implement any scenario based on that.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#logger-propertysignature'>logger</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/itelemetrybaselogger-interface'>ITelemetryBaseLogger</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#options-propertysignature'>options</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions#iloaderoptions-typealias'>ILoaderOptions</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#packagepath-propertysignature'>packagePath</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>readonly string[]</span>
      </td>
      <td>
        The package path of the data store as per the package factory.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#scope-propertysignature'>scope</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces#fluidobject-typealias'>FluidObject</a></span>
      </td>
      <td>
        Ambient services provided with the context
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#storage-propertysignature'>storage</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/driver-definitions/idocumentstorageservice-interface'>IDocumentStorageService</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#addedgcoutboundreference-methodsignature'>addedGCOutboundReference(srcHandle, outboundHandle)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Called when a new outbound reference is added to another node. This is used by garbage collection to identify all references added in the system.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#ensurenodatamodelchanges-methodsignature'>ensureNoDataModelChanges(callback)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>T</span>
      </td>
      <td>
        <p>
          Invokes the given callback and expects that no ops are submitted until execution finishes. If an op is submitted, an error will be raised.
        </p>
        <p>
          Can be disabled by feature gate <code>Fluid.ContainerRuntime.DisableOpReentryCheck</code>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getabsoluteurl-methodsignature'>getAbsoluteUrl(relativeUrl)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>Promise&lt;string &#124; undefined&gt;</span>
      </td>
      <td>
        Get an absolute url to the container based on the provided relativeUrl. Returns undefined if the container or data store isn't attached to storage.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getaudience-methodsignature'>getAudience()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions/iaudience-interface'>IAudience</a></span>
      </td>
      <td>
        Returns the current audience.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getbasegcdetails-methodsignature'>getBaseGCDetails()</a>
      </td>
      <td>
        <code>ALPHA</code>, <code>DEPRECATED</code>
      </td>
      <td>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/runtime-definitions/igarbagecollectiondetailsbase-interface'>IGarbageCollectionDetailsBase</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getcreatechildsummarizernodefn-methodsignature'>getCreateChildSummarizerNodeFn(id, createParam)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#createchildsummarizernodefn-typealias'>CreateChildSummarizerNodeFn</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#getquorum-methodsignature'>getQuorum()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>IQuorumClients</span>
      </td>
      <td>
        Returns the current quorum.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#makelocallyvisible-methodsignature'>makeLocallyVisible()</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Called to make the data store locally visible in the container. This happens automatically for root data stores when they are marked as root. For non-root data stores, this happens when their handle is added to a visible DDS.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#setchanneldirty-methodsignature'>setChannelDirty(address)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Call by IFluidDataStoreChannel, indicates that a channel is dirty and needs to be part of the summary.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#submitmessage-methodsignature'>submitMessage(type, content, localOpMetadata)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Submits the message to be sent to other clients.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#submitsignal-methodsignature'>submitSignal(type, content, targetClientId)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>void</span>
      </td>
      <td>
        Submits the signal to be sent to other clients.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface#uploadblob-methodsignature'>uploadBlob(blob, signal)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a>&lt;ArrayBufferLike&gt;&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### attachState (ALPHA) {#attachstate-propertysignature}

Indicates the attachment state of the data store to a host service.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#attachstate-signature}

```typescript
readonly attachState: AttachState;
```

### baseSnapshot (ALPHA) {#basesnapshot-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#basesnapshot-signature}

```typescript
readonly baseSnapshot: ISnapshotTree | undefined;
```

### clientDetails (ALPHA) {#clientdetails-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#clientdetails-signature}

```typescript
readonly clientDetails: IClientDetails;
```

### clientId (ALPHA) {#clientid-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#clientid-signature}

```typescript
readonly clientId: string | undefined;
```

### connected (ALPHA) {#connected-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#connected-signature}

```typescript
readonly connected: boolean;
```

### containerRuntime (ALPHA) {#containerruntime-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#containerruntime-signature}

```typescript
readonly containerRuntime: IContainerRuntimeBase;
```

### createProps (ALPHA) {#createprops-propertysignature}

{{% callout warning This API is deprecated and will be removed in a future release. %}}
0.16 Issue \#1635, \#3631

{{% /callout %}}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#createprops-signature}

```typescript
readonly createProps?: any;
```

### deltaManager (ALPHA) {#deltamanager-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#deltamanager-signature}

```typescript
readonly deltaManager: IDeltaManager<ISequencedDocumentMessage, IDocumentMessage>;
```

### id (ALPHA) {#id-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#id-signature}

```typescript
readonly id: string;
```

### idCompressor (ALPHA) {#idcompressor-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#idcompressor-signature}

```typescript
readonly idCompressor?: IIdCompressor;
```

### isLocalDataStore (ALPHA) {#islocaldatastore-propertysignature}

A data store created by a client, is a local data store for that client. Also, when a detached container loads from a snapshot, all the data stores are treated as local data stores because at that stage the container still doesn't exists in storage and so the data store couldn't have been created by any other client. Value of this never changes even after the data store is attached. As implementer of data store runtime, you can use this property to check that this data store belongs to this client and hence implement any scenario based on that.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#islocaldatastore-signature}

```typescript
readonly isLocalDataStore: boolean;
```

### logger (ALPHA) {#logger-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#logger-signature}

```typescript
readonly logger: ITelemetryBaseLogger;
```

### options (ALPHA) {#options-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#options-signature}

```typescript
readonly options: ILoaderOptions;
```

### packagePath (ALPHA) {#packagepath-propertysignature}

The package path of the data store as per the package factory.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#packagepath-signature}

```typescript
readonly packagePath: readonly string[];
```

### scope (ALPHA) {#scope-propertysignature}

Ambient services provided with the context

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#scope-signature}

```typescript
readonly scope: FluidObject;
```

### storage (ALPHA) {#storage-propertysignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#storage-signature}

```typescript
readonly storage: IDocumentStorageService;
```

## Method Details

### addedGCOutboundReference (ALPHA) {#addedgcoutboundreference-methodsignature}

Called when a new outbound reference is added to another node. This is used by garbage collection to identify all references added in the system.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#addedgcoutboundreference-signature}

```typescript
addedGCOutboundReference?(srcHandle: IFluidHandle, outboundHandle: IFluidHandle): void;
```

#### Parameters {#addedgcoutboundreference-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        srcHandle
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a></span>
      </td>
      <td>
        The handle of the node that added the reference.
      </td>
    </tr>
    <tr>
      <td>
        outboundHandle
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a></span>
      </td>
      <td>
        The handle of the outbound node that is referenced.
      </td>
    </tr>
  </tbody>
</table>

### ensureNoDataModelChanges (ALPHA) {#ensurenodatamodelchanges-methodsignature}

Invokes the given callback and expects that no ops are submitted until execution finishes. If an op is submitted, an error will be raised.

Can be disabled by feature gate `Fluid.ContainerRuntime.DisableOpReentryCheck`

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#ensurenodatamodelchanges-signature}

```typescript
ensureNoDataModelChanges<T>(callback: () => T): T;
```

#### Parameters {#ensurenodatamodelchanges-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        callback
      </td>
      <td>
        <span>() =&gt; T</span>
      </td>
      <td>
        the callback to be invoked
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#ensurenodatamodelchanges-returns}

**Return type:** T

### getAbsoluteUrl (ALPHA) {#getabsoluteurl-methodsignature}

Get an absolute url to the container based on the provided relativeUrl. Returns undefined if the container or data store isn't attached to storage.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getabsoluteurl-signature}

```typescript
getAbsoluteUrl(relativeUrl: string): Promise<string | undefined>;
```

#### Parameters {#getabsoluteurl-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        relativeUrl
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        A relative request within the container
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getabsoluteurl-returns}

**Return type:** Promise&lt;string \| undefined&gt;

### getAudience (ALPHA) {#getaudience-methodsignature}

Returns the current audience.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getaudience-signature}

```typescript
getAudience(): IAudience;
```

#### Returns {#getaudience-returns}

**Return type:** [IAudience](/docs/apis/container-definitions/iaudience-interface)

### getBaseGCDetails (ALPHA) {#getbasegcdetails-methodsignature}

{{% callout warning This API is deprecated and will be removed in a future release. %}}
The functionality to get base GC details has been moved to summarizer node.

Returns the GC details in the initial summary of this data store. This is used to initialize the data store and its children with the GC details from the previous summary.

{{% /callout %}}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getbasegcdetails-signature}

```typescript
getBaseGCDetails(): Promise<IGarbageCollectionDetailsBase>;
```

#### Returns {#getbasegcdetails-returns}

**Return type:** Promise&lt;[IGarbageCollectionDetailsBase](/docs/apis/runtime-definitions/igarbagecollectiondetailsbase-interface)&gt;

### getCreateChildSummarizerNodeFn (ALPHA) {#getcreatechildsummarizernodefn-methodsignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getcreatechildsummarizernodefn-signature}

```typescript
getCreateChildSummarizerNodeFn(
    id: string, 
    createParam: CreateChildSummarizerNodeParam): CreateChildSummarizerNodeFn;
```

#### Parameters {#getcreatechildsummarizernodefn-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        createParam
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#createchildsummarizernodeparam-typealias'>CreateChildSummarizerNodeParam</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getcreatechildsummarizernodefn-returns}

**Return type:** [CreateChildSummarizerNodeFn](/docs/apis/runtime-definitions#createchildsummarizernodefn-typealias)

### getQuorum (ALPHA) {#getquorum-methodsignature}

Returns the current quorum.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#getquorum-signature}

```typescript
getQuorum(): IQuorumClients;
```

#### Returns {#getquorum-returns}

**Return type:** IQuorumClients

### makeLocallyVisible (ALPHA) {#makelocallyvisible-methodsignature}

Called to make the data store locally visible in the container. This happens automatically for root data stores when they are marked as root. For non-root data stores, this happens when their handle is added to a visible DDS.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#makelocallyvisible-signature}

```typescript
makeLocallyVisible(): void;
```

### setChannelDirty (ALPHA) {#setchanneldirty-methodsignature}

Call by IFluidDataStoreChannel, indicates that a channel is dirty and needs to be part of the summary.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#setchanneldirty-signature}

```typescript
setChannelDirty(address: string): void;
```

#### Parameters {#setchanneldirty-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        address
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        The address of the channel that is dirty.
      </td>
    </tr>
  </tbody>
</table>

### submitMessage (ALPHA) {#submitmessage-methodsignature}

Submits the message to be sent to other clients.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#submitmessage-signature}

```typescript
submitMessage(type: string, content: any, localOpMetadata: unknown): void;
```

#### Parameters {#submitmessage-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        type
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Type of the message.
      </td>
    </tr>
    <tr>
      <td>
        content
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
        Content of the message.
      </td>
    </tr>
    <tr>
      <td>
        localOpMetadata
      </td>
      <td>
        <span>unknown</span>
      </td>
      <td>
        The local metadata associated with the message. This is kept locally and not sent to the server. This will be sent back when this message is received back from the server. This is also sent if we are asked to resubmit the message.
      </td>
    </tr>
  </tbody>
</table>

### submitSignal (ALPHA) {#submitsignal-methodsignature}

Submits the signal to be sent to other clients.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#submitsignal-signature}

```typescript
submitSignal(type: string, content: any, targetClientId?: string): void;
```

#### Parameters {#submitsignal-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        type
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Type of the signal.
      </td>
    </tr>
    <tr>
      <td>
        content
      </td>
      <td>
      </td>
      <td>
        <span>any</span>
      </td>
      <td>
        Content of the signal.
      </td>
    </tr>
    <tr>
      <td>
        targetClientId
      </td>
      <td>
        optional
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        When specified, the signal is only sent to the provided client id.
      </td>
    </tr>
  </tbody>
</table>

### uploadBlob (ALPHA) {#uploadblob-methodsignature}

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#uploadblob-signature}

```typescript
uploadBlob(blob: ArrayBufferLike, signal?: AbortSignal): Promise<IFluidHandle<ArrayBufferLike>>;
```

#### Parameters {#uploadblob-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        blob
      </td>
      <td>
      </td>
      <td>
        <span>ArrayBufferLike</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        signal
      </td>
      <td>
        optional
      </td>
      <td>
        <span>AbortSignal</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#uploadblob-returns}

**Return type:** Promise&lt;[IFluidHandle](/docs/apis/core-interfaces/ifluidhandle-interface)&lt;ArrayBufferLike&gt;&gt;
