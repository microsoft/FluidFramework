{
  "title": "PureDataObjectFactory Class",
  "summary": "PureDataObjectFactory is a barebones IFluidDataStoreFactory for use with PureDataObject. Consumers should typically use DataObjectFactory instead unless creating another base data store factory.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/aqueduct/puredataobjectfactory-class#_constructor_-constructor"
    },
    "Method": {
      "createChildInstance": "/docs/apis/aqueduct/puredataobjectfactory-class#createchildinstance-method",
      "createInstance": "/docs/apis/aqueduct/puredataobjectfactory-class#createinstance-method",
      "createInstanceCore": "/docs/apis/aqueduct/puredataobjectfactory-class#createinstancecore-method",
      "createNonRootInstanceCore": "/docs/apis/aqueduct/puredataobjectfactory-class#createnonrootinstancecore-method",
      "createPeerInstance": "/docs/apis/aqueduct/puredataobjectfactory-class#createpeerinstance-method",
      "createRootInstance": "/docs/apis/aqueduct/puredataobjectfactory-class#createrootinstance-method",
      "instantiateDataStore": "/docs/apis/aqueduct/puredataobjectfactory-class#instantiatedatastore-method"
    },
    "Property": {
      "IFluidDataStoreFactory": "/docs/apis/aqueduct/puredataobjectfactory-class#ifluiddatastorefactory-property",
      "IFluidDataStoreRegistry": "/docs/apis/aqueduct/puredataobjectfactory-class#ifluiddatastoreregistry-property",
      "registryEntry": "/docs/apis/aqueduct/puredataobjectfactory-class#registryentry-property",
      "type": "/docs/apis/aqueduct/puredataobjectfactory-class#type-property"
    }
  },
  "package": "@fluidframework/aqueduct",
  "unscopedPackageName": "aqueduct"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/aqueduct](/docs/apis/aqueduct) &gt; [PureDataObjectFactory](/docs/apis/aqueduct/puredataobjectfactory-class)

PureDataObjectFactory is a barebones IFluidDataStoreFactory for use with PureDataObject. Consumers should typically use DataObjectFactory instead unless creating another base data store factory.

## Signature {#puredataobjectfactory-signature}

```typescript
export declare class PureDataObjectFactory<TObj extends PureDataObject<I>, I extends DataObjectTypes = DataObjectTypes> implements IFluidDataStoreFactory, Partial<IProvideFluidDataStoreRegistry>, IRootDataObjectFactory
```

**Implements:** [IFluidDataStoreFactory](/docs/apis/runtime-definitions/ifluiddatastorefactory-interface), Partial&lt;[IProvideFluidDataStoreRegistry](/docs/apis/runtime-definitions/iprovidefluiddatastoreregistry-interface)&gt;, [IRootDataObjectFactory](/docs/apis/aqueduct/irootdataobjectfactory-interface)

### Type Parameters

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        TObj
      </td>
      <td>
      </td>
      <td>
        DataObject (concrete type)
      </td>
    </tr>
    <tr>
      <td>
        I
      </td>
      <td>
        optional
      </td>
      <td>
        The input types for the DataObject
      </td>
    </tr>
  </tbody>
</table>

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Constructs a new instance of the <code>PureDataObjectFactory</code> class
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#ifluiddatastorefactory-property'>IFluidDataStoreFactory</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>this</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#ifluiddatastoreregistry-property'>IFluidDataStoreRegistry</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastoreregistry-interface'>IFluidDataStoreRegistry</a> &#124; undefined</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#registryentry-property'>registryEntry</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#namedfluiddatastoreregistryentry-typealias'>NamedFluidDataStoreRegistryEntry</a></span>
      </td>
      <td>
        Convenience helper to get the data store's/factory's data store registry entry. The return type hides the factory's generics, easing grouping of registry entries that differ only in this way into the same array.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#type-property'>type</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#createchildinstance-method'>createChildInstance</a>
      </td>
      <td>
        <span>Promise&lt;TObj&gt;</span>
      </td>
      <td>
        Creates a new instance of the object. Uses parent context's registry to build package path to this factory. In other words, registry of context passed in has to contain this factory, with the name that matches this factory's type. It is intended to be used by data store objects that create sub-objects.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#createinstance-method'>createInstance</a>
      </td>
      <td>
        <span>Promise&lt;TObj&gt;</span>
      </td>
      <td>
        Creates a new instance of the object. Uses container's registry to find this factory. It's expected that only container owners would use this functionality, as only such developers have knowledge of entries in container registry. The name in this registry for such record should match type of this factory.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#createinstancecore-method'>createInstanceCore</a>
      </td>
      <td>
        <span>Promise&lt;TObj&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#createnonrootinstancecore-method'>createNonRootInstanceCore</a>
      </td>
      <td>
        <span>Promise&lt;TObj&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#createpeerinstance-method'>createPeerInstance</a>
      </td>
      <td>
        <span>Promise&lt;TObj&gt;</span>
      </td>
      <td>
        Creates a new instance of the object. Uses peer context's registry and its package path to identify this factory. In other words, registry of context passed in has to have this factory. Intended to be used by data store objects that need to create peers (similar) instances of existing objects.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#createrootinstance-method'>createRootInstance</a>
      </td>
      <td>
        <span>Promise&lt;TObj&gt;</span>
      </td>
      <td>
        Creates a new root instance of the object. Uses container's registry to find this factory. It's expected that only container owners would use this functionality, as only such developers have knowledge of entries in container registry. The name in this registry for such record should match type of this factory.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class#instantiatedatastore-method'>instantiateDataStore</a>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/datastore/fluiddatastoreruntime-class'>FluidDataStoreRuntime</a>&gt;</span>
      </td>
      <td>
        This is where we do data store setup.
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Constructs a new instance of the `PureDataObjectFactory` class

#### Signature {#_constructor_-signature}

```typescript
constructor(type: string, ctor: new (props: IDataObjectProps<I>) => TObj, sharedObjects: readonly IChannelFactory[], optionalProviders: FluidObjectSymbolProvider<I["OptionalProviders"]>, registryEntries?: NamedFluidDataStoreRegistryEntries, runtimeClass?: typeof FluidDataStoreRuntime);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        type
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        ctor
      </td>
      <td>
      </td>
      <td>
        <span>new (props: <a href='/docs/apis/aqueduct/idataobjectprops-interface'>IDataObjectProps</a>&lt;I&gt;) =&gt; TObj</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        sharedObjects
      </td>
      <td>
      </td>
      <td>
        <span>readonly <a href='/docs/apis/datastore-definitions/ichannelfactory-interface'>IChannelFactory</a>[]</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        optionalProviders
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/synthesize#fluidobjectsymbolprovider-typealias'>FluidObjectSymbolProvider</a>&lt;I[&quot;OptionalProviders&quot;]&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        registryEntries
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#namedfluiddatastoreregistryentries-typealias'>NamedFluidDataStoreRegistryEntries</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        runtimeClass
      </td>
      <td>
        optional
      </td>
      <td>
        <span>typeof <a href='/docs/apis/datastore/fluiddatastoreruntime-class'>FluidDataStoreRuntime</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### IFluidDataStoreFactory {#ifluiddatastorefactory-property}

#### Signature {#ifluiddatastorefactory-signature}

```typescript
get IFluidDataStoreFactory(): this;
```

### IFluidDataStoreRegistry {#ifluiddatastoreregistry-property}

#### Signature {#ifluiddatastoreregistry-signature}

```typescript
get IFluidDataStoreRegistry(): IFluidDataStoreRegistry | undefined;
```

### registryEntry {#registryentry-property}

Convenience helper to get the data store's/factory's data store registry entry. The return type hides the factory's generics, easing grouping of registry entries that differ only in this way into the same array.

#### Signature {#registryentry-signature}

```typescript
get registryEntry(): NamedFluidDataStoreRegistryEntry;
```

### type {#type-property}

#### Signature {#type-signature}

```typescript
readonly type: string;
```

## Method Details

### createChildInstance {#createchildinstance-method}

Creates a new instance of the object. Uses parent context's registry to build package path to this factory. In other words, registry of context passed in has to contain this factory, with the name that matches this factory's type. It is intended to be used by data store objects that create sub-objects.

#### Signature {#createchildinstance-signature}

```typescript
createChildInstance(parentContext: IFluidDataStoreContext, initialState?: I["InitialState"]): Promise<TObj>;
```

#### Parameters {#createchildinstance-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        parentContext
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        initialState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>I[&quot;InitialState&quot;]</span>
      </td>
      <td>
        The initial state to provide to the created data store.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createchildinstance-returns}

an object created by this factory. Data store and objects created are not attached to container. They get attached only when a handle to one of them is attached to already attached objects.

**Return type:** Promise&lt;TObj&gt;

### createInstance {#createinstance-method}

Creates a new instance of the object. Uses container's registry to find this factory. It's expected that only container owners would use this functionality, as only such developers have knowledge of entries in container registry. The name in this registry for such record should match type of this factory.

#### Signature {#createinstance-signature}

```typescript
createInstance(runtime: IContainerRuntimeBase, initialState?: I["InitialState"]): Promise<TObj>;
```

#### Parameters {#createinstance-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/icontainerruntimebase-interface'>IContainerRuntimeBase</a></span>
      </td>
      <td>
        container runtime. It's registry is used to create an object.
      </td>
    </tr>
    <tr>
      <td>
        initialState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>I[&quot;InitialState&quot;]</span>
      </td>
      <td>
        The initial state to provide to the created component.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createinstance-returns}

an object created by this factory. Data store and objects created are not attached to container. They get attached only when a handle to one of them is attached to already attached objects.

**Return type:** Promise&lt;TObj&gt;

### createInstanceCore {#createinstancecore-method}

#### Signature {#createinstancecore-signature}

```typescript
protected createInstanceCore(context: IFluidDataStoreContextDetached, initialState?: I["InitialState"]): Promise<TObj>;
```

#### Parameters {#createinstancecore-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        context
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontextdetached-interface'>IFluidDataStoreContextDetached</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        initialState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>I[&quot;InitialState&quot;]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createinstancecore-returns}

**Return type:** Promise&lt;TObj&gt;

### createNonRootInstanceCore {#createnonrootinstancecore-method}

#### Signature {#createnonrootinstancecore-signature}

```typescript
protected createNonRootInstanceCore(containerRuntime: IContainerRuntimeBase, packagePath: Readonly<string[]>, initialState?: I["InitialState"]): Promise<TObj>;
```

#### Parameters {#createnonrootinstancecore-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        containerRuntime
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/icontainerruntimebase-interface'>IContainerRuntimeBase</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        packagePath
      </td>
      <td>
      </td>
      <td>
        <span>Readonly&lt;string[]&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        initialState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>I[&quot;InitialState&quot;]</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createnonrootinstancecore-returns}

**Return type:** Promise&lt;TObj&gt;

### createPeerInstance {#createpeerinstance-method}

Creates a new instance of the object. Uses peer context's registry and its package path to identify this factory. In other words, registry of context passed in has to have this factory. Intended to be used by data store objects that need to create peers (similar) instances of existing objects.

#### Signature {#createpeerinstance-signature}

```typescript
createPeerInstance(peerContext: IFluidDataStoreContext, initialState?: I["InitialState"]): Promise<TObj>;
```

#### Parameters {#createpeerinstance-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        peerContext
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        initialState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>I[&quot;InitialState&quot;]</span>
      </td>
      <td>
        The initial state to provide to the created component.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createpeerinstance-returns}

an object created by this factory. Data store and objects created are not attached to container. They get attached only when a handle to one of them is attached to already attached objects.

**Return type:** Promise&lt;TObj&gt;

### createRootInstance {#createrootinstance-method}

Creates a new root instance of the object. Uses container's registry to find this factory. It's expected that only container owners would use this functionality, as only such developers have knowledge of entries in container registry. The name in this registry for such record should match type of this factory.

#### Signature {#createrootinstance-signature}

```typescript
createRootInstance(rootDataStoreId: string, runtime: IContainerRuntime, initialState?: I["InitialState"]): Promise<TObj>;
```

#### Parameters {#createrootinstance-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        rootDataStoreId
      </td>
      <td>
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        runtime
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/container-runtime-definitions/icontainerruntime-interface'>IContainerRuntime</a></span>
      </td>
      <td>
        container runtime. It's registry is used to create an object.
      </td>
    </tr>
    <tr>
      <td>
        initialState
      </td>
      <td>
        optional
      </td>
      <td>
        <span>I[&quot;InitialState&quot;]</span>
      </td>
      <td>
        The initial state to provide to the created component.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#createrootinstance-returns}

an object created by this factory. Data store and objects created are not attached to container. They get attached only when a handle to one of them is attached to already attached objects.

**Return type:** Promise&lt;TObj&gt;

### instantiateDataStore {#instantiatedatastore-method}

This is where we do data store setup.

#### Signature {#instantiatedatastore-signature}

```typescript
instantiateDataStore(context: IFluidDataStoreContext, existing: boolean): Promise<FluidDataStoreRuntime>;
```

#### Parameters {#instantiatedatastore-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        context
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a></span>
      </td>
      <td>
        data store context used to load a data store runtime
      </td>
    </tr>
    <tr>
      <td>
        existing
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#instantiatedatastore-returns}

**Return type:** Promise&lt;[FluidDataStoreRuntime](/docs/apis/datastore/fluiddatastoreruntime-class)&gt;
