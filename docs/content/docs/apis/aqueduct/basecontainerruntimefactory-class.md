{
  "title": "BaseContainerRuntimeFactory Class",
  "summary": "BaseContainerRuntimeFactory produces container runtimes with the specified data store and service registries, request handlers, runtimeOptions, and entryPoint initialization function. It can be subclassed to implement a first-time initialization procedure for the containers it creates.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/aqueduct/basecontainerruntimefactory-class#_constructor_-constructor"
    },
    "Method": {
      "containerHasInitialized": "/docs/apis/aqueduct/basecontainerruntimefactory-class#containerhasinitialized-method",
      "containerInitializingFirstTime": "/docs/apis/aqueduct/basecontainerruntimefactory-class#containerinitializingfirsttime-method",
      "instantiateFirstTime": "/docs/apis/aqueduct/basecontainerruntimefactory-class#instantiatefirsttime-method",
      "instantiateFromExisting": "/docs/apis/aqueduct/basecontainerruntimefactory-class#instantiatefromexisting-method",
      "preInitialize": "/docs/apis/aqueduct/basecontainerruntimefactory-class#preinitialize-method"
    },
    "Property": {
      "IFluidDataStoreRegistry": "/docs/apis/aqueduct/basecontainerruntimefactory-class#ifluiddatastoreregistry-property"
    }
  },
  "package": "@fluidframework/aqueduct",
  "unscopedPackageName": "aqueduct"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/aqueduct](/docs/apis/aqueduct) &gt; [BaseContainerRuntimeFactory](/docs/apis/aqueduct/basecontainerruntimefactory-class)

BaseContainerRuntimeFactory produces container runtimes with the specified data store and service registries, request handlers, runtimeOptions, and entryPoint initialization function. It can be subclassed to implement a first-time initialization procedure for the containers it creates.

## Signature {#basecontainerruntimefactory-signature}

```typescript
export declare class BaseContainerRuntimeFactory extends RuntimeFactoryHelper implements IProvideFluidDataStoreRegistry
```

**Extends:** [RuntimeFactoryHelper](/docs/apis/runtime-utils/runtimefactoryhelper-class)

**Implements:** [IProvideFluidDataStoreRegistry](/docs/apis/runtime-definitions/iprovidefluiddatastoreregistry-interface)

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Constructs a new instance of the <code>BaseContainerRuntimeFactory</code> class
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Property
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#ifluiddatastoreregistry-property'>IFluidDataStoreRegistry</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions/ifluiddatastoreregistry-interface'>IFluidDataStoreRegistry</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#containerhasinitialized-method'>containerHasInitialized</a>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        Subclasses may override containerHasInitialized to perform any steps after the container has initialized. This likely includes loading any data stores that are expected to be there at the outset.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#containerinitializingfirsttime-method'>containerInitializingFirstTime</a>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        Subclasses may override containerInitializingFirstTime to perform any setup steps at the time the container is created. This likely includes creating any initial data stores that are expected to be there at the outset.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#instantiatefirsttime-method'>instantiateFirstTime</a>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#instantiatefromexisting-method'>instantiateFromExisting</a>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class#preinitialize-method'>preInitialize</a>
      </td>
      <td>
        <span>Promise&lt;<a href='/docs/apis/container-runtime/containerruntime-class'>ContainerRuntime</a>&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Constructs a new instance of the `BaseContainerRuntimeFactory` class

#### Signature {#_constructor_-signature}

```typescript
constructor(registryEntries: NamedFluidDataStoreRegistryEntries, dependencyContainer?: IFluidDependencySynthesizer | undefined, requestHandlers?: RuntimeRequestHandler[], runtimeOptions?: IContainerRuntimeOptions | undefined, initializeEntryPoint?: ((runtime: IContainerRuntime) => Promise<FluidObject>) | undefined);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        registryEntries
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/runtime-definitions#namedfluiddatastoreregistryentries-typealias'>NamedFluidDataStoreRegistryEntries</a></span>
      </td>
      <td>
        The data store registry for containers produced
      </td>
    </tr>
    <tr>
      <td>
        dependencyContainer
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/synthesize/ifluiddependencysynthesizer-interface'>IFluidDependencySynthesizer</a> &#124; undefined</span>
      </td>
      <td>
        deprecated, will be removed in a future release
      </td>
    </tr>
    <tr>
      <td>
        requestHandlers
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/request-handler#runtimerequesthandler-typealias'>RuntimeRequestHandler</a>[]</span>
      </td>
      <td>
        Request handlers for containers produced
      </td>
    </tr>
    <tr>
      <td>
        runtimeOptions
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/container-runtime/icontainerruntimeoptions-interface'>IContainerRuntimeOptions</a> &#124; undefined</span>
      </td>
      <td>
        The runtime options passed to the ContainerRuntime when instantiating it
      </td>
    </tr>
    <tr>
      <td>
        initializeEntryPoint
      </td>
      <td>
        optional
      </td>
      <td>
        <span>((runtime: <a href='/docs/apis/container-runtime-definitions/icontainerruntime-interface'>IContainerRuntime</a>) =&gt; Promise&lt;<a href='/docs/apis/core-interfaces#fluidobject-typealias'>FluidObject</a>&gt;) &#124; undefined</span>
      </td>
      <td>
        Function that will initialize the entryPoint of the ContainerRuntime instances created with this factory
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### IFluidDataStoreRegistry {#ifluiddatastoreregistry-property}

#### Signature {#ifluiddatastoreregistry-signature}

```typescript
get IFluidDataStoreRegistry(): IFluidDataStoreRegistry;
```

## Method Details

### containerHasInitialized {#containerhasinitialized-method}

Subclasses may override containerHasInitialized to perform any steps after the container has initialized. This likely includes loading any data stores that are expected to be there at the outset.

#### Signature {#containerhasinitialized-signature}

```typescript
protected containerHasInitialized(runtime: IContainerRuntime): Promise<void>;
```

#### Parameters {#containerhasinitialized-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
        <span><a href='/docs/apis/container-runtime-definitions/icontainerruntime-interface'>IContainerRuntime</a></span>
      </td>
      <td>
        The container runtime for the container being initialized
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#containerhasinitialized-returns}

**Return type:** Promise&lt;void&gt;

### containerInitializingFirstTime {#containerinitializingfirsttime-method}

Subclasses may override containerInitializingFirstTime to perform any setup steps at the time the container is created. This likely includes creating any initial data stores that are expected to be there at the outset.

#### Signature {#containerinitializingfirsttime-signature}

```typescript
protected containerInitializingFirstTime(runtime: IContainerRuntime): Promise<void>;
```

#### Parameters {#containerinitializingfirsttime-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
        <span><a href='/docs/apis/container-runtime-definitions/icontainerruntime-interface'>IContainerRuntime</a></span>
      </td>
      <td>
        The container runtime for the container being initialized
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#containerinitializingfirsttime-returns}

**Return type:** Promise&lt;void&gt;

### instantiateFirstTime {#instantiatefirsttime-method}

#### Signature {#instantiatefirsttime-signature}

```typescript
instantiateFirstTime(runtime: ContainerRuntime): Promise<void>;
```

#### Parameters {#instantiatefirsttime-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
        <span><a href='/docs/apis/container-runtime/containerruntime-class'>ContainerRuntime</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#instantiatefirsttime-returns}

**Return type:** Promise&lt;void&gt;

### instantiateFromExisting {#instantiatefromexisting-method}

#### Signature {#instantiatefromexisting-signature}

```typescript
instantiateFromExisting(runtime: ContainerRuntime): Promise<void>;
```

#### Parameters {#instantiatefromexisting-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
        <span><a href='/docs/apis/container-runtime/containerruntime-class'>ContainerRuntime</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#instantiatefromexisting-returns}

**Return type:** Promise&lt;void&gt;

### preInitialize {#preinitialize-method}

#### Signature {#preinitialize-signature}

```typescript
preInitialize(context: IContainerContext, existing: boolean): Promise<ContainerRuntime>;
```

#### Parameters {#preinitialize-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        context
      </td>
      <td>
        <span>IContainerContext</span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        existing
      </td>
      <td>
        <span>boolean</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#preinitialize-returns}

**Return type:** Promise&lt;[ContainerRuntime](/docs/apis/container-runtime/containerruntime-class)&gt;
