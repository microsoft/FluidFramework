{
  "title": "@fluidframework/container-loader Package",
  "kind": "Package",
  "members": {
    "Enum": {
      "ConnectionState": "/docs/apis/container-loader/connectionstate-enum"
    },
    "Interface": {
      "ICodeDetailsLoader": "/docs/apis/container-loader/icodedetailsloader-interface",
      "IFluidModuleWithDetails": "/docs/apis/container-loader/ifluidmodulewithdetails-interface",
      "ILoaderOptions": "/docs/apis/container-loader/iloaderoptions-interface",
      "ILoaderProps": "/docs/apis/container-loader/iloaderprops-interface",
      "ILoaderServices": "/docs/apis/container-loader/iloaderservices-interface",
      "IProtocolHandler": "/docs/apis/container-loader/iprotocolhandler-interface"
    },
    "TypeAlias": {
      "IDetachedBlobStorage": "/docs/apis/container-loader#idetachedblobstorage-typealias",
      "ProtocolHandlerBuilder": "/docs/apis/container-loader#protocolhandlerbuilder-typealias"
    },
    "Class": {
      "Loader": "/docs/apis/container-loader/loader-class"
    },
    "Function": {
      "resolveWithLocationRedirectionHandling": "/docs/apis/container-loader#resolvewithlocationredirectionhandling-function",
      "waitContainerToCatchUp": "/docs/apis/container-loader#waitcontainertocatchup-function"
    }
  },
  "package": "@fluidframework/container-loader",
  "unscopedPackageName": "container-loader"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/icodedetailsloader-interface'>ICodeDetailsLoader</a>
      </td>
      <td>
        <code>ALPHA</code>, <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/ifluidmodulewithdetails-interface'>IFluidModuleWithDetails</a>
      </td>
      <td>
        <code>ALPHA</code>, <code>DEPRECATED</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/iloaderoptions-interface'>ILoaderOptions</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/iloaderprops-interface'>ILoaderProps</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Services and properties necessary for creating a loader
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/iloaderservices-interface'>ILoaderServices</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Services and properties used by and exposed by the loader
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/iprotocolhandler-interface'>IProtocolHandler</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Class
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/loader-class'>Loader</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Manages Fluid resource loading
      </td>
    </tr>
  </tbody>
</table>

## Enumerations

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Enum
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-loader/connectionstate-enum'>ConnectionState</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Types

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        TypeAlias
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-loader#idetachedblobstorage-typealias'>IDetachedBlobStorage</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Subset of IDocumentStorageService which only supports createBlob() and readBlob(). This is used to support blobs in detached containers.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader#protocolhandlerbuilder-typealias'>ProtocolHandlerBuilder</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Function to be used for creating a protocol handler.
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Function
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/container-loader#resolvewithlocationredirectionhandling-function'>resolveWithLocationRedirectionHandling(api, request, urlResolver, logger)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;T&gt;</span>
      </td>
      <td>
        Handles location redirection while fulfilling the loader request.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/container-loader#waitcontainertocatchup-function'>waitContainerToCatchUp(container)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;boolean&gt;</span>
      </td>
      <td>
        <p>
          Waits until container connects to delta storage and gets up-to-date.
        </p>
        <p>
          Useful when resolving URIs and hitting 404, due to container being loaded from (stale) snapshot and not being up to date. Host may chose to wait in such case and retry resolving URI.
        </p>
        <p>
          Warning: Will wait infinitely for connection to establish if there is no connection. May result in deadlock if Container.disconnect() is called and never followed by a call to Container.connect().
        </p>
      </td>
    </tr>
  </tbody>
</table>

## Type Details

### IDetachedBlobStorage (ALPHA) {#idetachedblobstorage-typealias}

Subset of IDocumentStorageService which only supports createBlob() and readBlob(). This is used to support blobs in detached containers.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#idetachedblobstorage-signature}

```typescript
export type IDetachedBlobStorage = Pick<IDocumentStorageService, "createBlob" | "readBlob"> & {
    size: number;
    getBlobIds(): string[];
};
```

### ProtocolHandlerBuilder (ALPHA) {#protocolhandlerbuilder-typealias}

Function to be used for creating a protocol handler.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#protocolhandlerbuilder-signature}

```typescript
export type ProtocolHandlerBuilder = (attributes: IDocumentAttributes, snapshot: IQuorumSnapshot, sendProposal: (key: string, value: any) => number) => IProtocolHandler;
```

## Function Details

### resolveWithLocationRedirectionHandling (ALPHA) {#resolvewithlocationredirectionhandling-function}

Handles location redirection while fulfilling the loader request.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#resolvewithlocationredirectionhandling-signature}

```typescript
export declare function resolveWithLocationRedirectionHandling<T>(api: (request: IRequest) => Promise<T>, request: IRequest, urlResolver: IUrlResolver, logger?: ITelemetryBaseLogger): Promise<T>;
```

#### Parameters {#resolvewithlocationredirectionhandling-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        api
      </td>
      <td>
      </td>
      <td>
        <span>(request: <a href='/docs/apis/core-interfaces/irequest-interface'>IRequest</a>) =&gt; Promise&lt;T&gt;</span>
      </td>
      <td>
        Callback in which user can wrap the loader.resolve or loader.request call.
      </td>
    </tr>
    <tr>
      <td>
        request
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/irequest-interface'>IRequest</a></span>
      </td>
      <td>
        request to be resolved.
      </td>
    </tr>
    <tr>
      <td>
        urlResolver
      </td>
      <td>
      </td>
      <td>
        <span><a href='/docs/apis/driver-definitions/iurlresolver-interface'>IUrlResolver</a></span>
      </td>
      <td>
        resolver used to resolve the url.
      </td>
    </tr>
    <tr>
      <td>
        logger
      </td>
      <td>
        optional
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/itelemetrybaselogger-interface'>ITelemetryBaseLogger</a></span>
      </td>
      <td>
        logger to send events.
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#resolvewithlocationredirectionhandling-returns}

Response from the API call.

**Return type:** Promise&lt;T&gt;

### waitContainerToCatchUp (ALPHA) {#waitcontainertocatchup-function}

Waits until container connects to delta storage and gets up-to-date.

Useful when resolving URIs and hitting 404, due to container being loaded from (stale) snapshot and not being up to date. Host may chose to wait in such case and retry resolving URI.

Warning: Will wait infinitely for connection to establish if there is no connection. May result in deadlock if Container.disconnect() is called and never followed by a call to Container.connect().

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#waitcontainertocatchup-signature}

```typescript
export declare function waitContainerToCatchUp(container: IContainer): Promise<boolean>;
```

#### Parameters {#waitcontainertocatchup-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        container
      </td>
      <td>
        <span><a href='/docs/apis/container-definitions/icontainer-interface'>IContainer</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#waitcontainertocatchup-returns}

`true`: container is up to date, it processed all the ops that were know at the time of first connection.

`false`: storage does not provide indication of how far the client is. Container processed all the ops known to it, but it maybe still behind.

**Return type:** Promise&lt;boolean&gt;

#### Error Handling {#waitcontainertocatchup-throws}

an error beginning with `"Container closed"` if the container is closed before it catches up.
