{
  "title": "@fluidframework/aqueduct Package",
  "summary": "The `aqueduct` package is a library for building Fluid objects and Fluid containers within the Fluid Framework. Its goal is to provide a thin base layer over the existing Fluid Framework interfaces that allows developers to get started quickly.",
  "kind": "Package",
  "members": {
    "Class": {
      "BaseContainerRuntimeFactory": "/docs/apis/aqueduct/basecontainerruntimefactory-class",
      "ContainerRuntimeFactoryWithDefaultDataStore": "/docs/apis/aqueduct/containerruntimefactorywithdefaultdatastore-class",
      "DataObject": "/docs/apis/aqueduct/dataobject-class",
      "DataObjectFactory": "/docs/apis/aqueduct/dataobjectfactory-class",
      "PureDataObject": "/docs/apis/aqueduct/puredataobject-class",
      "PureDataObjectFactory": "/docs/apis/aqueduct/puredataobjectfactory-class"
    },
    "Interface": {
      "DataObjectTypes": "/docs/apis/aqueduct/dataobjecttypes-interface",
      "IDataObjectProps": "/docs/apis/aqueduct/idataobjectprops-interface",
      "IRootDataObjectFactory": "/docs/apis/aqueduct/irootdataobjectfactory-interface"
    },
    "Function": {
      "defaultFluidObjectRequestHandler": "/docs/apis/aqueduct#defaultfluidobjectrequesthandler-function",
      "getDefaultObjectFromContainer": "/docs/apis/aqueduct#getdefaultobjectfromcontainer-function",
      "getObjectFromContainer": "/docs/apis/aqueduct#getobjectfromcontainer-function",
      "getObjectWithIdFromContainer": "/docs/apis/aqueduct#getobjectwithidfromcontainer-function"
    },
    "Variable": {
      "defaultRouteRequestHandler": "/docs/apis/aqueduct#defaultrouterequesthandler-variable",
      "mountableViewRequestHandler": "/docs/apis/aqueduct#mountableviewrequesthandler-variable"
    }
  },
  "package": "@fluidframework/aqueduct",
  "unscopedPackageName": "aqueduct"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/) &gt; [@fluidframework/aqueduct](/docs/apis/aqueduct)

The `aqueduct` package is a library for building Fluid objects and Fluid containers within the Fluid Framework. Its goal is to provide a thin base layer over the existing Fluid Framework interfaces that allows developers to get started quickly.

## Remarks {#_fluidframework_aqueduct-remarks}

About the library name: An "aqueduct" is a way to transport water from a source to another location. The library name was chosen because its purpose is to facilitate using lower level constructs and therefore handle 'fluid' items same as an aqueduct.

## Interfaces

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Interface
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/dataobjecttypes-interface'>DataObjectTypes</a>
      </td>
      <td>
        This type is used as the base generic input to DataObject and PureDataObject.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/idataobjectprops-interface'>IDataObjectProps</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/irootdataobjectfactory-interface'>IRootDataObjectFactory</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Classes

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Class
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/basecontainerruntimefactory-class'>BaseContainerRuntimeFactory</a>
      </td>
      <td>
        BaseContainerRuntimeFactory produces container runtimes with the specified data store and service registries, request handlers, runtimeOptions, and entryPoint initialization function. It can be subclassed to implement a first-time initialization procedure for the containers it creates.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/containerruntimefactorywithdefaultdatastore-class'>ContainerRuntimeFactoryWithDefaultDataStore</a>
      </td>
      <td>
        <p>
          A ContainerRuntimeFactory that initializes Containers with a single default data store, which can be requested from the container with an empty URL.
        </p>
        <p>
          This factory should be exposed as fluidExport off the entry point to your module.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/dataobject-class'>DataObject</a>
      </td>
      <td>
        <p>
          DataObject is a base data store that is primed with a root directory. It ensures that it is created and ready before you can access it.
        </p>
        <p>
          Having a single root directory allows for easier development. Instead of creating and registering channels with the runtime any new DDS that is set on the root will automatically be registered.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/dataobjectfactory-class'>DataObjectFactory</a>
      </td>
      <td>
        DataObjectFactory is the IFluidDataStoreFactory for use with DataObjects. It facilitates DataObject's features (such as its shared directory) by ensuring relevant shared objects etc are available to the factory.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class'>PureDataObject</a>
      </td>
      <td>
        This is a bare-bones base class that does basic setup and enables for factory on an initialize call. You probably don't want to inherit from this data store directly unless you are creating another base data store class
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobjectfactory-class'>PureDataObjectFactory</a>
      </td>
      <td>
        PureDataObjectFactory is a barebones IFluidDataStoreFactory for use with PureDataObject. Consumers should typically use DataObjectFactory instead unless creating another base data store factory.
      </td>
    </tr>
  </tbody>
</table>

## Functions

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Function
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct#defaultfluidobjectrequesthandler-function'>defaultFluidObjectRequestHandler</a>
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/iresponse-interface'>IResponse</a></span>
      </td>
      <td>
        <p>
          Default request handler for a Fluid object that returns the object itself if:
        </p>
        <p>
          1. the request url is empty
        </p>
        <p>
          2. the request url is &quot;/&quot;
        </p>
        <p>
          3. the request url starts with &quot;/&quot; and is followed by a query param, such as /?key=value
        </p>
        <p>
          Returns a 404 error for any other url.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct#getdefaultobjectfromcontainer-function'>getDefaultObjectFromContainer</a>
      </td>
      <td>
        <span>Promise&lt;T&gt;</span>
      </td>
      <td>
        Helper function for getting the default Fluid Object from a Container. This function only works for Containers that support &quot;/&quot; request.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct#getobjectfromcontainer-function'>getObjectFromContainer</a>
      </td>
      <td>
        <span>Promise&lt;T&gt;</span>
      </td>
      <td>
        Helper function for getting a Fluid Object from a Container given a path/url. This function only works for Containers that support getting FluidObjects via request.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct#getobjectwithidfromcontainer-function'>getObjectWithIdFromContainer</a>
      </td>
      <td>
        <span>Promise&lt;T&gt;</span>
      </td>
      <td>
        Helper function for getting as Fluid Object from a Container given a Unique Id. This function only works for Containers that support getting FluidObjects via request.
      </td>
    </tr>
  </tbody>
</table>

## Variables

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Variable
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct#defaultrouterequesthandler-variable'>defaultRouteRequestHandler</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        Pipe through container request into internal request. If request is empty and default url is provided, redirect request to such default url.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct#mountableviewrequesthandler-variable'>mountableViewRequestHandler</a>
      </td>
      <td>
        <code>readonly</code>
      </td>
      <td>
        <p>
          A mountable view is only required if the view needs to be mounted across a bundle boundary. Mounting across bundle boundaries breaks some frameworks, so the mountable view is used to ensure the mounting is done within the same bundle as the view. For example, React hooks don't work if mounted across bundles since there will be two React instances, breaking the Rules of Hooks. When cross-bundle mounting isn't required, the mountable view isn't necessary.
        </p>
        <p>
          When a request is received with a mountableView: true header, this request handler will reissue the request without the header, and respond with a mountable view of the given class using the response.
        </p>
      </td>
    </tr>
  </tbody>
</table>

## Function Details

### defaultFluidObjectRequestHandler {#defaultfluidobjectrequesthandler-function}

Default request handler for a Fluid object that returns the object itself if:

1. the request url is empty

2. the request url is "/"

3. the request url starts with "/" and is followed by a query param, such as /?key=value

Returns a 404 error for any other url.

#### Signature {#defaultfluidobjectrequesthandler-signature}

```typescript
export declare function defaultFluidObjectRequestHandler(fluidObject: FluidObject, request: IRequest): IResponse;
```

#### Parameters {#defaultfluidobjectrequesthandler-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        fluidObject
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces#fluidobject-typealias'>FluidObject</a></span>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        request
      </td>
      <td>
        <span><a href='/docs/apis/core-interfaces/irequest-interface'>IRequest</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#defaultfluidobjectrequesthandler-returns}

**Return type:** [IResponse](/docs/apis/core-interfaces/iresponse-interface)

### getDefaultObjectFromContainer {#getdefaultobjectfromcontainer-function}

Helper function for getting the default Fluid Object from a Container. This function only works for Containers that support "/" request.

#### Signature {#getdefaultobjectfromcontainer-signature}

```typescript
export declare function getDefaultObjectFromContainer<T = FluidObject>(container: IContainer): Promise<T>;
```

#### Parameters {#getdefaultobjectfromcontainer-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        container
      </td>
      <td>
        <span>IContainer</span>
      </td>
      <td>
        Container you're attempting to get the object from
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getdefaultobjectfromcontainer-returns}

**Return type:** Promise&lt;T&gt;

### getObjectFromContainer {#getobjectfromcontainer-function}

Helper function for getting a Fluid Object from a Container given a path/url. This function only works for Containers that support getting FluidObjects via request.

#### Signature {#getobjectfromcontainer-signature}

```typescript
export declare function getObjectFromContainer<T = FluidObject>(path: string, container: IContainer): Promise<T>;
```

#### Parameters {#getobjectfromcontainer-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        path
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Unique path/url of the FluidObject
      </td>
    </tr>
    <tr>
      <td>
        container
      </td>
      <td>
        <span>IContainer</span>
      </td>
      <td>
        Container you're attempting to get the object from
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getobjectfromcontainer-returns}

**Return type:** Promise&lt;T&gt;

### getObjectWithIdFromContainer {#getobjectwithidfromcontainer-function}

Helper function for getting as Fluid Object from a Container given a Unique Id. This function only works for Containers that support getting FluidObjects via request.

#### Signature {#getobjectwithidfromcontainer-signature}

```typescript
export declare function getObjectWithIdFromContainer<T = FluidObject>(id: string, container: IContainer): Promise<T>;
```

#### Parameters {#getobjectwithidfromcontainer-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        <span>string</span>
      </td>
      <td>
        Unique id of the FluidObject
      </td>
    </tr>
    <tr>
      <td>
        container
      </td>
      <td>
        <span>IContainer</span>
      </td>
      <td>
        Container you're attempting to get the object from
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getobjectwithidfromcontainer-returns}

**Return type:** Promise&lt;T&gt;

## Variable Details

### defaultRouteRequestHandler {#defaultrouterequesthandler-variable}

Pipe through container request into internal request. If request is empty and default url is provided, redirect request to such default url.

#### Signature {#defaultrouterequesthandler-signature}

```typescript
defaultRouteRequestHandler: (defaultRootId: string) => (request: IRequest, runtime: IContainerRuntime) => Promise<IResponse | undefined>
```

### mountableViewRequestHandler {#mountableviewrequesthandler-variable}

A mountable view is only required if the view needs to be mounted across a bundle boundary. Mounting across bundle boundaries breaks some frameworks, so the mountable view is used to ensure the mounting is done within the same bundle as the view. For example, React hooks don't work if mounted across bundles since there will be two React instances, breaking the Rules of Hooks. When cross-bundle mounting isn't required, the mountable view isn't necessary.

When a request is received with a mountableView: true header, this request handler will reissue the request without the header, and respond with a mountable view of the given class using the response.

#### Signature {#mountableviewrequesthandler-signature}

```typescript
mountableViewRequestHandler: (MountableViewClass: IFluidMountableViewClass, handlers: RuntimeRequestHandler[]) => (request: RequestParser, runtime: IContainerRuntime) => Promise<IResponse>
```
