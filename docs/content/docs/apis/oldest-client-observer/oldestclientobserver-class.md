{
  "title": "OldestClientObserver Class",
  "summary": "The `OldestClientObserver` is a utility inspect if the local client is the oldest amongst connected clients (in terms of when they connected) and watch for changes.\n\nIt is still experimental and under development. Please do try it out, but expect breaking changes in the future.",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/oldest-client-observer/oldestclientobserver-class#_constructor_-constructor"
    }
  },
  "package": "@fluid-experimental/oldest-client-observer",
  "unscopedPackageName": "oldest-client-observer"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

The `OldestClientObserver` is a utility inspect if the local client is the oldest amongst connected clients (in terms of when they connected) and watch for changes.

It is still experimental and under development. Please do try it out, but expect breaking changes in the future.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#oldestclientobserver-signature}

```typescript
export declare class OldestClientObserver extends TypedEventEmitter<IOldestClientObserverEvents> implements IOldestClientObserver
```

**Extends:** [TypedEventEmitter](/docs/apis/client-utils/typedeventemitter-class)&lt;[IOldestClientObserverEvents](/docs/apis/oldest-client-observer/ioldestclientobserverevents-interface)&gt;

**Implements:** [IOldestClientObserver](/docs/apis/oldest-client-observer/ioldestclientobserver-interface)

## Remarks {#oldestclientobserver-remarks}

\#\#\# Creation

The `OldestClientObserver` constructor takes an `IOldestClientObservable`. This is most easily satisfied with either an `IContainerRuntime` or an `IFluidDataStoreRuntime`:

```typescript
// E.g. from within a BaseContainerRuntimeFactory:
protected async containerHasInitialized(runtime: IContainerRuntime) {
    const oldestClientObserver = new OldestClientObserver(runtime);
    // ...
}
```

```typescript
// From within a DataObject
protected async hasInitialized() {
    const oldestClientObserver = new OldestClientObserver(this.runtime);
    // ...
}
```

\#\#\# Usage

To check if the local client is the oldest, use the `isOldest()` method.

```typescript
if (oldestClientObserver.isOldest()) {
    console.log("I'm the oldest");
} else {
    console.log("Someone else is older");
}
```

\#\#\# Eventing

`OldestClientObserver` is an `EventEmitter`, and will emit events when the local client becomes the oldest and when it is no longer the oldest.

```typescript
oldestClientObserver.on("becameOldest", () => {
    console.log("I'm the oldest now");
});
oldestClientObserver.on("lostOldest", () => {
    console.log("I'm not the oldest anymore");
});
```

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Constructor
      </th>
      <th>
        Alerts
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/oldest-client-observer/oldestclientobserver-class#_constructor_-constructor'>(constructor)(observable)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        Constructs a new instance of the <code>OldestClientObserver</code> class
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) (ALPHA) {#_constructor_-constructor}

Constructs a new instance of the `OldestClientObserver` class

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#_constructor_-signature}

```typescript
constructor(observable: IOldestClientObservable);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        observable
      </td>
      <td>
        <span><a href='/docs/apis/oldest-client-observer/ioldestclientobservable-interface'>IOldestClientObservable</a></span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>
