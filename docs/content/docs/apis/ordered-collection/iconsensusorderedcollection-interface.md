{
  "title": "IConsensusOrderedCollection Interface",
  "summary": "Consensus Ordered Collection interface\n\nAn consensus ordered collection is a distributed data structure, which holds a collection of JSON-able or handles, and has a deterministic add/remove order.",
  "kind": "Interface",
  "members": {
    "MethodSignature": {
      "acquire": "/docs/apis/ordered-collection/iconsensusorderedcollection-interface#acquire-methodsignature",
      "add": "/docs/apis/ordered-collection/iconsensusorderedcollection-interface#add-methodsignature",
      "waitAndAcquire": "/docs/apis/ordered-collection/iconsensusorderedcollection-interface#waitandacquire-methodsignature"
    }
  },
  "package": "@fluidframework/ordered-collection",
  "unscopedPackageName": "ordered-collection"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

Consensus Ordered Collection interface

An consensus ordered collection is a distributed data structure, which holds a collection of JSON-able or handles, and has a deterministic add/remove order.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

## Signature {#iconsensusorderedcollection-signature}

```typescript
export interface IConsensusOrderedCollection<T = any> extends ISharedObject<IConsensusOrderedCollectionEvents<T>>
```

**Extends:** [ISharedObject](/docs/apis/shared-object-base/isharedobject-interface)&lt;[IConsensusOrderedCollectionEvents](/docs/apis/ordered-collection/iconsensusorderedcollectionevents-interface)&lt;T&gt;&gt;

### Type Parameters

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Modifiers
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        T
      </td>
      <td>
        optional
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Remarks {#iconsensusorderedcollection-remarks}

The order the server receive the add/remove operation determines the order those operation are applied to the collection. Different clients issuing `add` or `acquire` operations at the same time will be sequenced. The order dictates which `add` is done first, thus determining the order in which it appears in the collection. It also determines which client will get the first removed item, etc. All operations are asynchronous. A function `waitAndAcquire` is provided to wait for and remove an entry in the collection.

As a client acquires an item, it processes it and then returns a value (via callback) indicating whether it has completed processing the item, or whether the item should be released back to the collection for another client to process.

All objects added to the collection will be cloned (via JSON). They will not be references to the original input object. Thus changed to the input object will not reflect the object in the collection.

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Method
      </th>
      <th>
        Alerts
      </th>
      <th>
        Return Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/ordered-collection/iconsensusorderedcollection-interface#acquire-methodsignature'>acquire(callback)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;boolean&gt;</span>
      </td>
      <td>
        Retrieves a value from the collection.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/ordered-collection/iconsensusorderedcollection-interface#add-methodsignature'>add(value)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        Adds a value to the collection
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/ordered-collection/iconsensusorderedcollection-interface#waitandacquire-methodsignature'>waitAndAcquire(callback)</a>
      </td>
      <td>
        <code>ALPHA</code>
      </td>
      <td>
        <span>Promise&lt;void&gt;</span>
      </td>
      <td>
        Wait for a value to be available and remove it from the consensus collection Calls callback with retrieved value.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### acquire (ALPHA) {#acquire-methodsignature}

Retrieves a value from the collection.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#acquire-signature}

```typescript
acquire(callback: ConsensusCallback<T>): Promise<boolean>;
```

#### Parameters {#acquire-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        callback
      </td>
      <td>
        <span><a href='/docs/apis/ordered-collection#consensuscallback-typealias'>ConsensusCallback</a>&lt;T&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#acquire-returns}

Returns true (and calls callback with acquired value) if collection was not empty. Otherwise returns false.

**Return type:** Promise&lt;boolean&gt;

### add (ALPHA) {#add-methodsignature}

Adds a value to the collection

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#add-signature}

```typescript
add(value: T): Promise<void>;
```

#### Parameters {#add-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        value
      </td>
      <td>
        <span>T</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#add-returns}

**Return type:** Promise&lt;void&gt;

### waitAndAcquire (ALPHA) {#waitandacquire-methodsignature}

Wait for a value to be available and remove it from the consensus collection Calls callback with retrieved value.

WARNING: This API is provided as an alpha preview and may change without notice. Use at your own risk.

#### Signature {#waitandacquire-signature}

```typescript
waitAndAcquire(callback: ConsensusCallback<T>): Promise<void>;
```

#### Parameters {#waitandacquire-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>
        Parameter
      </th>
      <th>
        Type
      </th>
      <th>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        callback
      </td>
      <td>
        <span><a href='/docs/apis/ordered-collection#consensuscallback-typealias'>ConsensusCallback</a>&lt;T&gt;</span>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#waitandacquire-returns}

**Return type:** Promise&lt;void&gt;
