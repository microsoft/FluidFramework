{{ $id := .Get "id" }}
{{ $imgURL := .Get "img" }}
{{ $imgAlt := .Get "imgAlt" }}
{{ $url := .Get "url" }}
{{ $title := .Get "title" }}
{{ $subTitle := .Get "subTitle" | safeHTML }}
{{ $imgPos := .Get "pos" }}
{{ if eq $id ""}}
{{ $id = printf "carousel-item-%d" now.UnixNano}}
{{ end}}

{{ .Parent.Scratch.Add "carouselItemIDS" (slice $id) }}

{{ $isActive := false}}
{{ if eq 1 (len (.Parent.Scratch.Get "carouselItemIDS"))}}
{{ $isActive = true}}
{{ end }}

<div class="item {{if $isActive}}active{{end}}" role="listitem">
    <a aria-label="{{$title}}" id="{{$id}}" href="{{ $url }}" class="" style="background-image: url('{{$imgURL}}')"></a>
    <div class="caption">
        <h3 class="title">{{$title}}</h3>
        <span class="short-description">{{$subTitle}}</span>
    </div>
</div>