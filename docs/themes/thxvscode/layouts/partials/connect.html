{{ $tweetLink := safeURL (printf "https://twitter.com/intent/tweet?original_referer=%s&ref_src=twsrc^tfw&text=%s&tw_p=tweetbutton&url=%s&via=%s" .Permalink .Title .Permalink .Site.Params.Twitterhandle )}}

<div class="connect-widget">
    <ul class="connect-links">
        <li id="connect-twitter-link">
            <a href={{$tweetLink}} target="_blank">
                <img aria-hidden="true" alt="Twitter" src="/codicons/twitter.svg" />
                Tweet this link
            </a>
        </li>
        <!-- RSS feeds are not configured properly, so this is commented out for the time being. Issue #7612
        <li id="connect-rssfeed">
            <a href="/index.xml" target="_blank">
                <img aria-hidden="true" alt="RSS" src="/codicons/rss.svg" />
                Subscribe
            </a>
        </li> -->
        <li id="connect-gh-discussions">
            <a href="https://www.github.com/{{.Site.Params.Githubrepo}}/discussions" target="_blank">
                <img aria-hidden="true" alt="GitHub discussions" src="/codicons/comment-discussion.svg" />
                Ask questions
            </a>
        </li>
        <li id="connect-github">
            <a href="https://www.github.com/{{.Site.Params.Githubrepo}}/issues/new/choose" target="_blank">
                <img aria-hidden="true" alt="Issues" src="/codicons/bug.svg" />
                Report issues
            </a>
        </li>
        {{- if (not (in .File.Path "apis")) -}}
        {{- $editUrl := path.Join .Site.Params.Githubrepo "edit/main/docs/content/" .File.Path -}}
        {{- $editUrl = delimit (slice "https://github.com/" $editUrl) "" -}}
        <li id="connect-editpage">
            <a href="{{$editUrl}}" target="_blank">
                <img aria-hidden="true" alt="Edit the source of this page in GitHub." src="/codicons/edit.svg" />
                Edit this page
            </a>
        </li>
        {{- end -}}
    </ul>
</div>
