engine-strict=true
frozen-lockfile=true
strict-peer-dependencies=true
link-workspace-packages=true

# Use time-based resolution to avoid pulling in the newest packages from npm.
# This delays ingestion of newly published packages, which helps avoid supply chain attacks.
resolution-mode=time-based

# Block packages published less than 24 hours ago to avoid supply chain attacks.
minimum-release-age=1440

# Block transitive dependencies from using exotic sources (git, tarballs).
# Only direct dependencies can use those - all subdeps must come from the registry.
block-exotic-subdeps=true

# Fail installation if a package's trust/verification level decreases compared to earlier releases.
trust-policy=no-downgrade

# Fail installation if dependencies have unreviewed build scripts.
strict-dep-builds=true

# Disable pnpm update notifications since we use corepack to install package managers
update-notifier=false
# Use the number of cores on the machine by default.
workspace-concurrency=0

# Hoist these dependencies to the root workspace
public-hoist-pattern[]=@arethetypeswrong/cli
# ['*eslint*', '*prettier*'] is the default, so we add those as well
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
