{
  "title": "PureDataObject Class",
  "summary": "This is a bare-bones base class that does basic setup and enables for factory on an initialize call. You probably don't want to inherit from this data store directly unless you are creating another base data store class",
  "kind": "Class",
  "members": {
    "Constructor": {
      "(constructor)": "/docs/apis/aqueduct/puredataobject-class#_constructor_-constructor"
    },
    "Property": {
      "context": "/docs/apis/aqueduct/puredataobject-class#context-property",
      "disposed": "/docs/apis/aqueduct/puredataobject-class#disposed-property",
      "handle": "/docs/apis/aqueduct/puredataobject-class#handle-property",
      "id": "/docs/apis/aqueduct/puredataobject-class#id-property",
      "IFluidHandle": "/docs/apis/aqueduct/puredataobject-class#ifluidhandle-property",
      "IFluidLoadable": "/docs/apis/aqueduct/puredataobject-class#ifluidloadable-property",
      "IFluidRouter": "/docs/apis/aqueduct/puredataobject-class#ifluidrouter-property",
      "initializeP": "/docs/apis/aqueduct/puredataobject-class#initializep-property",
      "initProps": "/docs/apis/aqueduct/puredataobject-class#initprops-property",
      "providers": "/docs/apis/aqueduct/puredataobject-class#providers-property",
      "runtime": "/docs/apis/aqueduct/puredataobject-class#runtime-property"
    },
    "Method": {
      "dispose": "/docs/apis/aqueduct/puredataobject-class#dispose-method",
      "finishInitialization": "/docs/apis/aqueduct/puredataobject-class#finishinitialization-method",
      "getDataObject": "/docs/apis/aqueduct/puredataobject-class#getdataobject-method",
      "getFluidObjectFromDirectory": "/docs/apis/aqueduct/puredataobject-class#getfluidobjectfromdirectory-method",
      "getService": "/docs/apis/aqueduct/puredataobject-class#getservice-method",
      "hasInitialized": "/docs/apis/aqueduct/puredataobject-class#hasinitialized-method",
      "initializeInternal": "/docs/apis/aqueduct/puredataobject-class#initializeinternal-method",
      "initializingFirstTime": "/docs/apis/aqueduct/puredataobject-class#initializingfirsttime-method",
      "initializingFromExisting": "/docs/apis/aqueduct/puredataobject-class#initializingfromexisting-method",
      "preInitialize": "/docs/apis/aqueduct/puredataobject-class#preinitialize-method",
      "request": "/docs/apis/aqueduct/puredataobject-class#request-method"
    }
  },
  "package": "@fluidframework/aqueduct",
  "unscopedPackageName": "aqueduct"
}

[//]: # (Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter.)

[Packages](/docs/apis/_index) &gt; [@fluidframework/aqueduct](/docs/apis/aqueduct) &gt; [PureDataObject](/docs/apis/aqueduct/puredataobject-class)

This is a bare-bones base class that does basic setup and enables for factory on an initialize call. You probably don't want to inherit from this data store directly unless you are creating another base data store class

## Signature {#puredataobject-signature}

```typescript
export declare abstract class PureDataObject<I extends DataObjectTypes = DataObjectTypes> extends EventForwarder<I["Events"] & IEvent> implements IFluidLoadable, IFluidRouter, IProvideFluidHandle 
```
<b>Extends:</b> [EventForwarder](/docs/apis/common-utils/eventforwarder-class)<!-- -->&lt;I\["Events"\] &amp; [IEvent](/docs/apis/common-definitions/ievent-interface)


<b>Implements:</b> [IFluidLoadable](/docs/apis/core-interfaces/ifluidloadable-interface)

, [IFluidRouter](/docs/apis/core-interfaces/ifluidrouter-interface)

, [IProvideFluidHandle](/docs/apis/core-interfaces/iprovidefluidhandle-interface)


<b>Type parameters:</b> 

* <b>I</b>: The optional input types used to strongly type the data object


## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Constructor
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#_constructor_-constructor'>(constructor)(props)</a>
      </td>
      <td>
      </td>
      <td>
        Constructs a new instance of the <code>PureDataObject</code> class
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Property
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#context-property'>context</a>
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/runtime-definitions/ifluiddatastorecontext-interface'>IFluidDataStoreContext</a>
      </td>
      <td>
        This context is used to talk up to the ContainerRuntime
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#disposed-property'>disposed</a>
      </td>
      <td>
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#handle-property'>handle</a>
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a>&lt;this&gt;
      </td>
      <td>
        Handle to a data store
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#id-property'>id</a>
      </td>
      <td>
      </td>
      <td>
        string
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#ifluidhandle-property'>IFluidHandle</a>
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a>&lt;this&gt;
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#ifluidloadable-property'>IFluidLoadable</a>
      </td>
      <td>
      </td>
      <td>
        this
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#ifluidrouter-property'>IFluidRouter</a>
      </td>
      <td>
      </td>
      <td>
        this
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#initializep-property'>initializeP</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt; \| undefined
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#initprops-property'>initProps</a>
      </td>
      <td>
        optional
      </td>
      <td>
        I\["InitialState"\]
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#providers-property'>providers</a>
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/synthesize#asyncfluidobjectprovider-typealias'>AsyncFluidObjectProvider</a>&lt;I\["OptionalProviders"\]&gt;
      </td>
      <td>
        <p>Providers are FluidObject keyed objects that provide back a promise to the corresponding FluidObject or undefined. Providers injected/provided by the Container and/or HostingApplication</p><p>To define providers set FluidObject interfaces in the OptionalProviders generic type for your data store</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#runtime-property'>runtime</a>
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime-interface'>IFluidDataStoreRuntime</a>
      </td>
      <td>
        This is your FluidDataStoreRuntime object
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Method
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#dispose-method'>dispose()</a>
      </td>
      <td>
      </td>
      <td>
        void
      </td>
      <td>
        Called when the host container closes and disposes itself
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#finishinitialization-method'>finishInitialization(existing)</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt;
      </td>
      <td>
        Call this API to ensure PureDataObject is fully initialized. Initialization happens on demand, only on as-needed bases. In most cases you should allow factory/object to decide when to finish initialization. But if you are supplying your own implementation of DataStoreRuntime factory and overriding some methods and need a fully initialized object, then you can call this API to ensure object is fully initialized.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#getdataobject-method'>getDataObject(runtime)</a>
      </td>
      <td>
        static
      </td>
      <td>
        Promise&lt;<a href='/docs/apis/aqueduct/puredataobject-class'>PureDataObject</a>&lt;<a href='/docs/apis/aqueduct/dataobjecttypes-interface'>DataObjectTypes</a>&gt;&gt;
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#getfluidobjectfromdirectory-method'>getFluidObjectFromDirectory(key, directory, getObjectFromDirectory)</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;T \| undefined&gt;
      </td>
      <td>
        Retrieve Fluid object using the handle get
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#getservice-method'>getService(id)</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;T&gt;
      </td>
      <td>
        Gets the service at a given id.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#hasinitialized-method'>hasInitialized()</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt;
      </td>
      <td>
        Called every time the data store is initialized after create or existing.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#initializeinternal-method'>initializeInternal(existing)</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt;
      </td>
      <td>
        <p>Internal initialize implementation. Overwriting this will change the flow of the PureDataObject and should generally not be done.</p><p>Calls initializingFirstTime, initializingFromExisting, and hasInitialized. Caller is responsible for ensuring this is only invoked once.</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#initializingfirsttime-method'>initializingFirstTime(props)</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt;
      </td>
      <td>
        Called the first time the data store is initialized (new creations with a new data store runtime)
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#initializingfromexisting-method'>initializingFromExisting()</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt;
      </td>
      <td>
        Called every time but the first time the data store is initialized (creations with an existing data store runtime)
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#preinitialize-method'>preInitialize()</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;void&gt;
      </td>
      <td>
        Called every time the data store is initialized, before initializingFirstTime or initializingFromExisting is called.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/aqueduct/puredataobject-class#request-method'>request(req)</a>
      </td>
      <td>
      </td>
      <td>
        Promise&lt;<a href='/docs/apis/core-interfaces/iresponse-interface'>IResponse</a>&gt;
      </td>
      <td>
        Return this object if someone requests it directly We will return this object in two scenarios: 1. the request url is a "/" 2. the request url is empty
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Constructs a new instance of the `PureDataObject` class

#### Signature {#_constructor_-signature}

```typescript
constructor(props: IDataObjectProps<I>);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        props
      </td>
      <td>
        <a href='/docs/apis/aqueduct/idataobjectprops-interface'>IDataObjectProps</a>&lt;I&gt;
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### context {#context-property}

This context is used to talk up to the ContainerRuntime

#### Signature {#context-signature}

```typescript
protected readonly context: IFluidDataStoreContext;
```

### disposed {#disposed-property}

#### Signature {#disposed-signature}

```typescript
get disposed(): boolean;
```

### handle {#handle-property}

Handle to a data store

#### Signature {#handle-signature}

```typescript
get handle(): IFluidHandle<this>;
```

### id {#id-property}

#### Signature {#id-signature}

```typescript
get id(): string;
```

### IFluidHandle {#ifluidhandle-property}

#### Signature {#ifluidhandle-signature}

```typescript
get IFluidHandle(): IFluidHandle<this>;
```

### IFluidLoadable {#ifluidloadable-property}

#### Signature {#ifluidloadable-signature}

```typescript
get IFluidLoadable(): this;
```

### IFluidRouter {#ifluidrouter-property}

#### Signature {#ifluidrouter-signature}

```typescript
get IFluidRouter(): this;
```

### initializeP {#initializep-property}

#### Signature {#initializep-signature}

```typescript
protected initializeP: Promise<void> | undefined;
```

### initProps {#initprops-property}

#### Signature {#initprops-signature}

```typescript
protected initProps?: I["InitialState"];
```

### providers {#providers-property}

Providers are FluidObject keyed objects that provide back a promise to the corresponding FluidObject or undefined. Providers injected/provided by the Container and/or HostingApplication

To define providers set FluidObject interfaces in the OptionalProviders generic type for your data store

#### Signature {#providers-signature}

```typescript
protected readonly providers: AsyncFluidObjectProvider<I["OptionalProviders"]>;
```

### runtime {#runtime-property}

This is your FluidDataStoreRuntime object

#### Signature {#runtime-signature}

```typescript
protected readonly runtime: IFluidDataStoreRuntime;
```

## Method Details

### dispose {#dispose-method}

Called when the host container closes and disposes itself

#### Signature {#dispose-signature}

```typescript
dispose(): void;
```

### finishInitialization {#finishinitialization-method}

Call this API to ensure PureDataObject is fully initialized. Initialization happens on demand, only on as-needed bases. In most cases you should allow factory/object to decide when to finish initialization. But if you are supplying your own implementation of DataStoreRuntime factory and overriding some methods and need a fully initialized object, then you can call this API to ensure object is fully initialized.

#### Signature {#finishinitialization-signature}

```typescript
finishInitialization(existing: boolean): Promise<void>;
```

#### Parameters {#finishinitialization-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        existing
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### getDataObject {#getdataobject-method}

#### Signature {#getdataobject-signature}

```typescript
static getDataObject(runtime: IFluidDataStoreRuntime): Promise<PureDataObject<DataObjectTypes>>;
```

#### Parameters {#getdataobject-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
        <a href='/docs/apis/datastore-definitions/ifluiddatastoreruntime-interface'>IFluidDataStoreRuntime</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### getFluidObjectFromDirectory {#getfluidobjectfromdirectory-method}

Retrieve Fluid object using the handle get

#### Signature {#getfluidobjectfromdirectory-signature}

```typescript
getFluidObjectFromDirectory<T extends IFluidLoadable>(key: string, directory: IDirectory, getObjectFromDirectory?: (id: string, directory: IDirectory) => IFluidHandle | undefined): Promise<T | undefined>;
```

#### Parameters {#getfluidobjectfromdirectory-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        key
      </td>
      <td>
      </td>
      <td>
        string
      </td>
      <td>
        key that object (handle/id) is stored with in the directory
      </td>
    </tr>
    <tr>
      <td>
        directory
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/map/idirectory-interface'>IDirectory</a>
      </td>
      <td>
        directory containing the object
      </td>
    </tr>
    <tr>
      <td>
        getObjectFromDirectory
      </td>
      <td>
        optional
      </td>
      <td>
        (id: string, directory: <a href='/docs/apis/map/idirectory-interface'>IDirectory</a>) =&gt; <a href='/docs/apis/core-interfaces/ifluidhandle-interface'>IFluidHandle</a> \| undefined
      </td>
      <td>
        optional callback for fetching object from the directory, allows users to define custom types/getters for object retrieval
      </td>
    </tr>
  </tbody>
</table>

### getService {#getservice-method}

Gets the service at a given id.

#### Signature {#getservice-signature}

```typescript
protected getService<T extends FluidObject>(id: string): Promise<T>;
```

#### Parameters {#getservice-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        id
      </td>
      <td>
        string
      </td>
      <td>
        service id
      </td>
    </tr>
  </tbody>
</table>

### hasInitialized {#hasinitialized-method}

Called every time the data store is initialized after create or existing.

#### Signature {#hasinitialized-signature}

```typescript
protected hasInitialized(): Promise<void>;
```

### initializeInternal {#initializeinternal-method}

Internal initialize implementation. Overwriting this will change the flow of the PureDataObject and should generally not be done.

Calls initializingFirstTime, initializingFromExisting, and hasInitialized. Caller is responsible for ensuring this is only invoked once.

#### Signature {#initializeinternal-signature}

```typescript
initializeInternal(existing: boolean): Promise<void>;
```

#### Parameters {#initializeinternal-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        existing
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### initializingFirstTime {#initializingfirsttime-method}

Called the first time the data store is initialized (new creations with a new data store runtime)

#### Signature {#initializingfirsttime-signature}

```typescript
protected initializingFirstTime(props?: I["InitialState"]): Promise<void>;
```

#### Parameters {#initializingfirsttime-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        props
      </td>
      <td>
        optional
      </td>
      <td>
        I\["InitialState"\]
      </td>
      <td>
        Optional props to be passed in on create
      </td>
    </tr>
  </tbody>
</table>

### initializingFromExisting {#initializingfromexisting-method}

Called every time but the first time the data store is initialized (creations with an existing data store runtime)

#### Signature {#initializingfromexisting-signature}

```typescript
protected initializingFromExisting(): Promise<void>;
```

### preInitialize {#preinitialize-method}

Called every time the data store is initialized, before initializingFirstTime or initializingFromExisting is called.

#### Signature {#preinitialize-signature}

```typescript
protected preInitialize(): Promise<void>;
```

### request {#request-method}

Return this object if someone requests it directly We will return this object in two scenarios: 1. the request url is a "/" 2. the request url is empty

#### Signature {#request-signature}

```typescript
request(req: IRequest): Promise<IResponse>;
```

#### Parameters {#request-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        req
      </td>
      <td>
        <a href='/docs/apis/core-interfaces/irequest-interface'>IRequest</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>