<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->

# Fluid Framework v2.21.0

## Contents

- [üêõ Bug Fixes](#-bug-fixes)
  - [SharedMap, SharedIntervalCollection and AttributableMap now throw an error when they encounter unrecognized Ops (#23659)](#sharedmap-sharedintervalcollection-and-attributablemap-now-throw-an-error-when-they-encounter-unrecognized-ops-23659)
- [‚ö†Ô∏è Deprecations](#Ô∏è-deprecations)
  - [Many unnecessary exports have been deprecated in the container-runtime package (#23607)](#many-unnecessary-exports-have-been-deprecated-in-the-container-runtime-package-23607)
  - [The IContainerContext.supportedFeatures property is now deprecated (#22877)](#the-icontainercontextsupportedfeatures-property-is-now-deprecated-22877)
  - [ITokenClaims and ScopeType types are now deprecated (#23703)](#itokenclaims-and-scopetype-types-are-now-deprecated-23703)

## üêõ Bug Fixes

### SharedMap, SharedIntervalCollection and AttributableMap now throw an error when they encounter unrecognized Ops ([#23659](https://github.com/microsoft/FluidFramework/issues/23659))

To avoid future versions of DDSes with new Op types causing silent data corruption and de-sync between clients, DDSes should error when unable to apply an Op. This prevents data loss and corruption scenarios like a summary client using old code discarding all Ops from newer clients.

If updating applications using SharedMap, SharedIntervalCollection and AttributableMap use a newer version which adds Ops types in the future, old clients which are old enough to be from before this fix will ignore the new ops instead of erroring. Therefore it may be useful to ensure this update is deployed as widely as possible before migrating any to newer versions which add new op formats to these DDSes.

#### Change details

Commit: [`3dd4208`](https://github.com/microsoft/FluidFramework/commit/3dd4208dd329a9200c4405f07e302b0ab1ff6159)

Affected packages:

- @fluid-experimental/attributable-map
- @fluidframework/map
- @fluidframework/sequence

[‚¨ÜÔ∏è Table of contents](#contents)

## ‚ö†Ô∏è Deprecations

### Many unnecessary exports have been deprecated in the container-runtime package ([#23607](https://github.com/microsoft/FluidFramework/issues/23607))

The following types in the `@fluidframework/container-runtime` package are now deprecated. These types are unnecessary for external users of this package.

- currentDocumentVersionSchema
- DeletedResponseHeaderKey
- DocumentSchemaValueType
- DocumentsSchemaController
- GCFeatureMatrix
- GCNodeType
- GCVersion
- IBlobManagerLoadInfo
- ICancellableSummarizerController
- ICancellationToken
- IConnectableRuntime
- IContainerRuntimeMetadata
- ICreateContainerMetadata
- IDocumentSchema
- IDocumentSchemaChangeMessage
- IDocumentSchemaCurrent
- IDocumentSchemaFeatures
- IGCMetadata
- IGCStats
- IMarkPhaseStats
- IRefreshSummaryAckOptions
- ISerializedElection
- ISubmitSummaryOptions
- ISummarizerInternalsProvider
- ISummarizerRuntime
- ISummaryCancellationToken
- ISummaryMetadataMessage
- ISweepPhaseStats
- Summarizer

#### Change details

Commit: [`3da5b42`](https://github.com/microsoft/FluidFramework/commit/3da5b427ef406799abade04196e43bb6d66d898d)

Affected packages:

- @fluidframework/container-runtime

[‚¨ÜÔ∏è Table of contents](#contents)

### The IContainerContext.supportedFeatures property is now deprecated ([#22877](https://github.com/microsoft/FluidFramework/issues/22877))

The `IContainerContext.supportedFeatures` optional property was used internally to communicate features supported by the Loader layer to the Runtime layer. This has since been replaced with functionality that is not exposed externally.

#### Change details

Commit: [`4c06412`](https://github.com/microsoft/FluidFramework/commit/4c06412bb365d680430f83b87c456d132d9da1be)

Affected packages:

- @fluidframework/container-definitions

[‚¨ÜÔ∏è Table of contents](#contents)

### ITokenClaims and ScopeType types are now deprecated ([#23703](https://github.com/microsoft/FluidFramework/issues/23703))

The `ITokenClaims` and `ScopeType` types in `@fluidframework/azure-client` are now deprecated. These were isolated types re-exported for convenience but they do not directly interact with typical azure-client APIs.

See [issue #23702](https://github.com/microsoft/FluidFramework/issues/23702) for details and alternatives.

#### Change details

Commit: [`f679945`](https://github.com/microsoft/FluidFramework/commit/f67994577597aae6dc8b42f3c6557c744adc0964)

Affected packages:

- @fluidframework/azure-client

[‚¨ÜÔ∏è Table of contents](#contents)

### üõ†Ô∏è Start Building Today!

Please continue to engage with us on GitHub [Discussion](https://github.com/microsoft/FluidFramework/discussions) and [Issue](https://github.com/microsoft/FluidFramework/issues) pages as you adopt Fluid Framework!
