<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->

# Fluid Framework v2.63.0

## Contents

- [üå≥ SharedTree DDS Changes](#-sharedtree-dds-changes)
  - [Add FluidSerializableAsTree domain for representing trees of serializable data (alpha) (#25604)](#add-fluidserializableastree-domain-for-representing-trees-of-serializable-data-alpha-25604)
  - [Promote Record node types and factories to beta (#25606)](#promote-record-node-types-and-factories-to-beta-25606)
  - [Add TreeBeta.create (#25623)](#add-treebetacreate-25623)
  - [Alpha APIs for annotated allowed types have been refactored (#25595)](#alpha-apis-for-annotated-allowed-types-have-been-refactored-25595)
  - [Promote importConcise and exportConcise to beta (#25629)](#promote-importconcise-and-exportconcise-to-beta-25629)
  - [Stabilize allowUnknownOptionalFields to beta (#25638)](#stabilize-allowunknownoptionalfields-to-beta-25638)
  - [Add SchemaFactoryAlpha.typesRecursive and SchemaFactoryAlpha.stagedRecursive (#25199)](#add-schemafactoryalphatypesrecursive-and-schemafactoryalphastagedrecursive-25199)
  - [MinimumVersionForCollab is now used in place of tree's alpha FluidClientVersion (#25402)](#minimumversionforcollab-is-now-used-in-place-of-trees-alpha-fluidclientversion-25402)

## üå≥ SharedTree DDS Changes

### Add FluidSerializableAsTree domain for representing trees of serializable data (alpha) ([#25604](https://github.com/microsoft/FluidFramework/issues/25604))

Like [JsonAsTree](https://fluidframework.com/docs/api/tree/jsonastree-namespace/), but also supports [Fluid Handles](https://fluidframework.com/docs/concepts/handles).

#### Change details

Commit: [`46e6dce`](https://github.com/microsoft/FluidFramework/commit/46e6dce6c19ce97097c888fed0d139f66e8a91d3)

Affected packages:

- @fluidframework/tree
- fluid-framework

[‚¨ÜÔ∏è Table of contents](#contents)

### Promote Record node types and factories to beta ([#25606](https://github.com/microsoft/FluidFramework/issues/25606))

Record tree node schema may now be declared using [SchemaFactoryBeta](https://fluidframework.com/docs/api/tree/schemafactorybeta-class) in addition to [SchemaFactoryAlpha](https://fluidframework.com/docs/api/tree/schemafactoryalpha-class).

#### Change details

Commit: [`2e2de30`](https://github.com/microsoft/FluidFramework/commit/2e2de3050d39469a23f1dace8a10a30cbaf3603a)

Affected packages:

- @fluidframework/tree
- fluid-framework

[‚¨ÜÔ∏è Table of contents](#contents)

### Add TreeBeta.create ([#25623](https://github.com/microsoft/FluidFramework/issues/25623))

Adds `TreeBeta.create`, which is a more stable version of the existing [`TreeAlpha.create`](https://fluidframework.com/docs/api/tree/treealpha-interface#create-methodsignature). The only difference is the new `TreeBeta.create` does not support the `@alpha` [`UnsafeUnknownSchema`](https://fluidframework.com/docs/api/tree/unsafeunknownschema-typealias) option.

#### Change details

Commit: [`376c2d1`](https://github.com/microsoft/FluidFramework/commit/376c2d1591b96b501704a55e06a988f3c44d9ba4)

Affected packages:

- fluid-framework
- @fluidframework/tree

[‚¨ÜÔ∏è Table of contents](#contents)

### Alpha APIs for annotated allowed types have been refactored ([#25595](https://github.com/microsoft/FluidFramework/issues/25595))

Staged allowed types must now be run through `SchemaFactoryAlpha.types` to convert them into an [`AllowedTypes`](https://fluidframework.com/docs/api/tree/allowedtypes-typealias). This change also means that it is now possible to use the produced `AllowedTypesFull` in non-alpha APIs since it implements `AllowedTypes`.

Reading data out of `ImplicitAllowedTypes` should now be done via `normalizeAllowedTypes` which now returns a `AllowedTypesFull` providing access to all the data in a friendly format.

#### Change details

Commit: [`c6ba37e`](https://github.com/microsoft/FluidFramework/commit/c6ba37e2b0afb99184ea76916e80ff2cd7fc5437)

Affected packages:

- fluid-framework
- @fluidframework/tree

[‚¨ÜÔ∏è Table of contents](#contents)

### Promote importConcise and exportConcise to beta ([#25629](https://github.com/microsoft/FluidFramework/issues/25629))

`importConcise` and `exportConcise` were previously available via [TreeAlpha](https://fluidframework.com/docs/api/tree/treealpha-interface). They may now also be accessed via [TreeBeta](https://fluidframework.com/docs/api/tree/treebeta-interface).

Note that the beta form of `importConcise` does not support [UnsafeUnknownSchema](https://fluidframework.com/docs/api/fluid-framework/unsafeunknownschema-typealias).

#### Change details

Commit: [`b5d4602`](https://github.com/microsoft/FluidFramework/commit/b5d46025ef12e71b7fdadfdf91fb54fe409e8ba8)

Affected packages:

- @fluidframework/tree
- fluid-framework

[‚¨ÜÔ∏è Table of contents](#contents)

### Stabilize allowUnknownOptionalFields to beta ([#25638](https://github.com/microsoft/FluidFramework/issues/25638))

When constructing object node schema with `SchemaFactoryBeta.object` or `SchemaFactoryBeta.objectRecursive` you can now provide the `allowUnknownOptionalFields` option as well as other `metadata` which were previously only available in `SchemaFactoryAlpha.objectAlpha` and `SchemaFactoryAlpha.objectRecursive`.

Additionally the alpha interface `SchemaFactoryObjectOptions` has been renamed to `ObjectSchemaOptionsAlpha` to better align with the other related types.

#### Change details

Commit: [`b7222d1`](https://github.com/microsoft/FluidFramework/commit/b7222d147568ddfeac30babba583c6af314c94cd)

Affected packages:

- fluid-framework
- @fluidframework/tree

[‚¨ÜÔ∏è Table of contents](#contents)

### Add SchemaFactoryAlpha.typesRecursive and SchemaFactoryAlpha.stagedRecursive ([#25199](https://github.com/microsoft/FluidFramework/issues/25199))

With these new APIs, it is now possible to [`stage`](https://fluidframework.com/docs/api/fluid-framework/schemafactoryalpha-class#staged-property) changes to recursive types.

#### Change details

Commit: [`931e986`](https://github.com/microsoft/FluidFramework/commit/931e986d772950091175be35d581a4cb8952b527)

Affected packages:

- fluid-framework
- @fluidframework/tree

[‚¨ÜÔ∏è Table of contents](#contents)

### MinimumVersionForCollab is now used in place of tree's alpha FluidClientVersion ([#25402](https://github.com/microsoft/FluidFramework/issues/25402))

`FluidClientVersion`: No longer used as the type for Fluid Client versions in APIs/codecs (for example, `oldestCompatibleClient`). Additionally, `FluidClientVersion` is now a const object with members that declare specific [`MinimumVersionForCollab`](https://fluidframework.com/docs/api/runtime-definitions/minimumversionforcollab-typealias) versions. These are intended to be used with APIs that require a version (such as `TreeAlpha.exportCompressed`).

`CodecWriteOptions` and `SharedTreeOptions`: `oldestCompatibleClient` has been replaced by `minVersionForCollab`. See migration guide below.

`TreeAlpha.exportCompressed`: The `options` parameter previously had `oldestCompatibleClient` and now has `minVersionForCollab`. Migrating requires a rename. Existing `FluidClientVersion.*` values are now `MinimumClientVersion`s.

#### Migrating

If an application is calling `loadContainerRuntime` directly and previously specified the minimum client version when initializing Shared Tree like:

```ts
    const factory = configuredSharedTree({ ..., oldestCompatibleClient: FluidClientVersion.v2_52 });
```

Then the new implementation depends on how the application initializes Fluid.

##### Applications using `AzureClient`/`OdspClient`

If an application is using the declarative model (for example, `AzureClient`/`OdspClient`), it should continue to call `configuredSharedTree` but specify `minVersionForCollab` instead:

```ts
    const factory = configuredSharedTree({ ..., minVersionForCollab: "2.52.0" });
```

##### Applications calling `loadContainerRuntime`

If an application is initializing the `ContainerRuntime` directly, it should now specify the `minVersionForCollab` there:

```ts
    const runtime = await loadContainerRuntime({ ..., minVersionForCollab: "2.52.0" });
```

#### Change details

Commit: [`7f59e31`](https://github.com/microsoft/FluidFramework/commit/7f59e313f0bccb78ede0d44ea5aa57a63edbf6e9)

Affected packages:

- @fluidframework/tree
- fluid-framework

[‚¨ÜÔ∏è Table of contents](#contents)

### üõ†Ô∏è Start Building Today!

Please continue to engage with us on GitHub [Discussion](https://github.com/microsoft/FluidFramework/discussions) and [Issue](https://github.com/microsoft/FluidFramework/issues) pages as you adopt Fluid Framework!
