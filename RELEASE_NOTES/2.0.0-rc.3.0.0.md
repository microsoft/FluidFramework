<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->

# Upcoming changes in Fluid Framework v2.0.0-rc.3.0.0

## driver-definitions: update submitSignal content type to string

Change IDocumentDeltaConnection.submitSignal's content argument type to string which represents actual/known use.

## fluid-framework: DDS classes are no longer publicly exported

SharedDirectory now only exports its factory and the interface type. The actual concrete classes which leak implementation details are no longer exported. Users of the `SharedDirectory` type should use `ISharedDirectory`.

Most of other internal crufts are also hided within the API surface, such as the encoded format, ILocalValue, ICreateInfo, local op metadata types, etc.

## container-definitions: IContainerContext.getSpecifiedCodeDetails() removed

IContainerContext.getSpecifiedCodeDetails() was deprecated in 0.42 and has now been removed.

## fluid-framework: Replace SharedObjectClass with new ISharedObjectKind type.

The static objects used as SharedObjectClass now explicitly implement the new ISharedObjectKind type. SharedObjectClass has been removed as ISharedObjectKind now fills that role. LoadableObjectCtor has been inlined as it only had one use: an external user of it can replace it with `(new (...args: any[]) => T)`.

## runtime-definitions: IFluidDataStoreContext no longer raises events, IFluidDataStoreChannel needs to implement new method

This change could be ignored, unless you have custom implementations of IFluidDataStoreChannel or listened to IFluidDataStoreContext's "attached" or "attaching" events

IFluidDataStoreContext no longer raises events. Instead, it will call IFluidDataStoreChannel.setAttachState(). If you are implementing data store runtme, please implement setAttachState() API and rely on this flow. If you are not data store developer, and were reaching out to context, then please stop doing it - the only purpose of IFluidDataStoreContext is communication with IFluidDataStoreChannel. Context object should not be exposed by impplementers of IFluidDataStoreChannel. If you are using stock implementations of IFluidDataStoreChannel, you can listen for same events on IFluidDataStoreRuntime instead.

## core-interfaces: Code details and package API surface removed

The code details and package API surface was deprecated in @fluidframework/core-interfaces in 0.53 and has now been removed. Please import them from @fluidframework/container-definitions instead. These include:

- IFluidCodeDetails
- IFluidCodeDetailsComparer
- IFluidCodeDetailsConfig
- IFluidPackage
- IFluidPackageEnvironment
- IProvideFluidCodeDetailsComparer
- isFluidCodeDetails
- isFluidPackage

## test-driver-definitions: @fluidframework/test-driver-definitions moved to @fluid-internal/test-driver-definitions

The test-driver-definitions package is intended to aid in testing internal to the FluidFramework repo, and should not be used outside of the repo.

## fluid-framework: Make some interface members readonly

Remove unneeded mutability from some interface members.

## tree: Allow root editing and make TreeView parameterized over schema.

TreeView now is parameterized over the field schema instead of the root field type. This was needed to infer the correct input type when reassigning the root. Code providing an explicit type to TreeView, like `TreeView<Foo>` can usually be updated by replacing that with `TreeView<typeof Foo>`.

## tree: Stabilize recursive schema APIs

Move recursive schema APIs from beta to public. Users of the beta APIs via `SchemaFactoryRecursive` can now find them on `SchemaFactory`.

## tree: 'nodeChanged' and 'treeChanged' events on nodes

Nodes now expose `nodeChanged` and `treeChanged` events that fire in response to changes in the node, and to changes in the subtree rooted at the node, respectively. Their documentation includes important details about how they work / when exactly they fire, so we recommend to go over it if you plan to use these events.

This change was originally made in [#20286](https://github.com/microsoft/FluidFramework/pull/20286) ([ac1e773960](https://github.com/microsoft/FluidFramework/commit/ac1e7739607551abb0dae7fa74dda56aec94b609)).

## fluid-framework: Moved SharedMap to '@fluidframework/map/legacy'

Please use SharedTree for new containers. SharedMap is supported for loading preexisting Fluid Framework 1.x containers only.

Fluid Framework 1.x users migrating to Fluid Framework 2.x will need to append '/legacy' when importing SharedMap.

```ts
import { SharedMap } from "@fluidframework/map/legacy";
```
